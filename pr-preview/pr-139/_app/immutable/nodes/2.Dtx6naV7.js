import{s as Ut,P as Lt,e as N,c as D,b as oe,f as E,p as _,i as Z,Q as qt,R as Nt,S as Dt,k as ll,_ as Ie,U as Ft,V as Xt,a as se,g as le,h as B,W as _t,z as zo,T as Wa,$ as cl,a0 as Re,B as ul,n as ke,a1 as fl,X as Ot,t as We,d as Ge,a2 as Ga,a3 as ja,l as En,a4 as hl,a5 as Ci,a6 as Ti,r as Gn,Y as ce,o as Xa,a7 as je,a8 as br}from"../chunks/scheduler.DNdLcuuD.js";import{S as Vt,i as zt,a as ve,t as be,g as rn,c as an,f as dl,h as ml,b as Ze,d as Ke,m as Qe,e as Je,j as xr}from"../chunks/index.BuXUJeS7.js";import{p as pl}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.DeLMOYHc.js";import{w as gl}from"../chunks/index.VWMLtH-B.js";function yl(e,t){const n={},r={},a={$$scope:1};let i=e.length;for(;i--;){const o=e[i],s=t[i];if(s){for(const l in o)l in s||(r[l]=1);for(const l in s)a[l]||(n[l]=s[l],a[l]=1);e[i]=s}else for(const l in o)a[l]=1}for(const o in r)o in n||(n[o]=void 0);return n}function vl(e){const t=e-1;return t*t*t+1}function Si(e,{delay:t=0,duration:n=400,easing:r=vl,axis:a="y"}={}){const i=getComputedStyle(e),o=+i.opacity,s=a==="y"?"height":"width",l=parseFloat(i[s]),c=a==="y"?["top","bottom"]:["left","right"],u=c.map(x=>`${x[0].toUpperCase()}${x.slice(1)}`),f=parseFloat(i[`padding${u[0]}`]),h=parseFloat(i[`padding${u[1]}`]),d=parseFloat(i[`margin${u[0]}`]),y=parseFloat(i[`margin${u[1]}`]),p=parseFloat(i[`border${u[0]}Width`]),A=parseFloat(i[`border${u[1]}Width`]);return{delay:t,duration:n,easing:r,css:x=>`overflow: hidden;opacity: ${Math.min(x*20,1)*o};${s}: ${x*l}px;padding-${c[0]}: ${x*f}px;padding-${c[1]}: ${x*h}px;margin-${c[0]}: ${x*d}px;margin-${c[1]}: ${x*y}px;border-${c[0]}-width: ${x*p}px;border-${c[1]}-width: ${x*A}px;`}}function _l(e){let t,n,r;const a=e[19].default,i=Lt(a,e,e[18],null);return{c(){t=N("div"),i&&i.c(),this.h()},l(o){t=D(o,"DIV",{class:!0,"data-testid":!0});var s=oe(t);i&&i.l(s),s.forEach(E),this.h()},h(){_(t,"class",n="accordion "+e[0]),_(t,"data-testid","accordion")},m(o,s){Z(o,t,s),i&&i.m(t,null),r=!0},p(o,[s]){i&&i.p&&(!r||s&262144)&&qt(i,a,o,o[18],r?Dt(a,o[18],s,null):Nt(o[18]),null),(!r||s&1&&n!==(n="accordion "+o[0]))&&_(t,"class",n)},i(o){r||(ve(i,o),r=!0)},o(o){be(i,o),r=!1},d(o){o&&E(t),i&&i.d(o)}}}function bl(e,t,n){let r,a;ll(e,pl,b=>n(20,a=b));let{$$slots:i={},$$scope:o}=t,{autocollapse:s=!1}=t,{width:l="w-full"}=t,{spacing:c="space-y-1"}=t,{disabled:u=!1}=t,{padding:f="py-2 px-4"}=t,{hover:h="hover:bg-primary-hover-token"}=t,{rounded:d="rounded-container-token"}=t,{caretOpen:y="rotate-180"}=t,{caretClosed:p=""}=t,{regionControl:A=""}=t,{regionPanel:x="space-y-4"}=t,{regionCaret:k=""}=t,{transitions:S=!a}=t,{transitionIn:T=Si}=t,{transitionInParams:g={duration:200}}=t,{transitionOut:v=Si}=t,{transitionOutParams:w={duration:200}}=t;const q=gl(null);return Ie("active",q),Ie("autocollapse",s),Ie("disabled",u),Ie("padding",f),Ie("hover",h),Ie("rounded",d),Ie("caretOpen",y),Ie("caretClosed",p),Ie("regionControl",A),Ie("regionPanel",x),Ie("regionCaret",k),Ie("transitions",S),Ie("transitionIn",T),Ie("transitionInParams",g),Ie("transitionOut",v),Ie("transitionOutParams",w),e.$$set=b=>{n(22,t=Ft(Ft({},t),Xt(b))),"autocollapse"in b&&n(1,s=b.autocollapse),"width"in b&&n(2,l=b.width),"spacing"in b&&n(3,c=b.spacing),"disabled"in b&&n(4,u=b.disabled),"padding"in b&&n(5,f=b.padding),"hover"in b&&n(6,h=b.hover),"rounded"in b&&n(7,d=b.rounded),"caretOpen"in b&&n(8,y=b.caretOpen),"caretClosed"in b&&n(9,p=b.caretClosed),"regionControl"in b&&n(10,A=b.regionControl),"regionPanel"in b&&n(11,x=b.regionPanel),"regionCaret"in b&&n(12,k=b.regionCaret),"transitions"in b&&n(13,S=b.transitions),"transitionIn"in b&&n(14,T=b.transitionIn),"transitionInParams"in b&&n(15,g=b.transitionInParams),"transitionOut"in b&&n(16,v=b.transitionOut),"transitionOutParams"in b&&n(17,w=b.transitionOutParams),"$$scope"in b&&n(18,o=b.$$scope)},e.$$.update=()=>{n(0,r=`${l} ${c} ${t.class??""}`)},t=Xt(t),[r,s,l,c,u,f,h,d,y,p,A,x,k,S,T,g,v,w,o,i]}class xl extends Vt{constructor(t){super(),zt(this,t,bl,_l,Ut,{autocollapse:1,width:2,spacing:3,disabled:4,padding:5,hover:6,rounded:7,caretOpen:8,caretClosed:9,regionControl:10,regionPanel:11,regionCaret:12,transitions:13,transitionIn:14,transitionInParams:15,transitionOut:16,transitionOutParams:17})}}function Ai(e,t){const{transition:n,params:r,enabled:a}=t;return a?n(e,r):"duration"in r?n(e,{duration:0}):{duration:0}}const wl=e=>({}),Mi=e=>({}),kl=e=>({}),Ei=e=>({}),Cl=e=>({}),Pi=e=>({}),Tl=e=>({}),Li=e=>({}),Sl=e=>({}),qi=e=>({});function Ni(e){let t,n;const r=e[30].lead,a=Lt(r,e,e[29],qi);return{c(){t=N("div"),a&&a.c(),this.h()},l(i){t=D(i,"DIV",{class:!0});var o=oe(t);a&&a.l(o),o.forEach(E),this.h()},h(){_(t,"class","accordion-lead")},m(i,o){Z(i,t,o),a&&a.m(t,null),n=!0},p(i,o){a&&a.p&&(!n||o[0]&536870912)&&qt(a,r,i,i[29],n?Dt(r,i[29],o,Sl):Nt(i[29]),qi)},i(i){n||(ve(a,i),n=!0)},o(i){be(a,i),n=!1},d(i){i&&E(t),a&&a.d(i)}}}function Al(e){let t;return{c(){t=We("(summary)")},l(n){t=Ge(n,"(summary)")},m(n,r){Z(n,t,r)},d(n){n&&E(t)}}}function Ml(e){let t,n,r;return{c(){t=N("div"),n=new Ga(!1),this.h()},l(a){t=D(a,"DIV",{class:!0});var i=oe(t);n=ja(i,!1),i.forEach(E),this.h()},h(){n.a=null,_(t,"class",r="accordion-summary-caret "+e[11])},m(a,i){Z(a,t,i),n.m(e[14],t)},p(a,i){i[0]&2048&&r!==(r="accordion-summary-caret "+a[11])&&_(t,"class",r)},i:ke,o:ke,d(a){a&&E(t)}}}function El(e){let t,n,r,a,i;const o=[Ll,Pl],s=[];function l(c,u){return c[8]?0:1}return n=l(e),r=s[n]=o[n](e),{c(){t=N("div"),r.c(),this.h()},l(c){t=D(c,"DIV",{class:!0});var u=oe(t);r.l(u),u.forEach(E),this.h()},h(){_(t,"class",a="accordion-summary-icons "+e[10])},m(c,u){Z(c,t,u),s[n].m(t,null),i=!0},p(c,u){let f=n;n=l(c),n===f?s[n].p(c,u):(rn(),be(s[f],1,1,()=>{s[f]=null}),an(),r=s[n],r?r.p(c,u):(r=s[n]=o[n](c),r.c()),ve(r,1),r.m(t,null)),(!i||u[0]&1024&&a!==(a="accordion-summary-icons "+c[10]))&&_(t,"class",a)},i(c){i||(ve(r),i=!0)},o(c){be(r),i=!1},d(c){c&&E(t),s[n].d()}}}function Pl(e){let t;const n=e[30].iconOpen,r=Lt(n,e,e[29],Ei),a=r||ql(e);return{c(){a&&a.c()},l(i){a&&a.l(i)},m(i,o){a&&a.m(i,o),t=!0},p(i,o){r&&r.p&&(!t||o[0]&536870912)&&qt(r,n,i,i[29],t?Dt(n,i[29],o,kl):Nt(i[29]),Ei)},i(i){t||(ve(a,i),t=!0)},o(i){be(a,i),t=!1},d(i){a&&a.d(i)}}}function Ll(e){let t;const n=e[30].iconClosed,r=Lt(n,e,e[29],Pi),a=r||Nl(e);return{c(){a&&a.c()},l(i){a&&a.l(i)},m(i,o){a&&a.m(i,o),t=!0},p(i,o){r&&r.p&&(!t||o[0]&536870912)&&qt(r,n,i,i[29],t?Dt(n,i[29],o,Cl):Nt(i[29]),Pi)},i(i){t||(ve(a,i),t=!0)},o(i){be(a,i),t=!1},d(i){a&&a.d(i)}}}function ql(e){let t,n;return{c(){t=new Ga(!1),n=En(),this.h()},l(r){t=ja(r,!1),n=En(),this.h()},h(){t.a=n},m(r,a){t.m(e[14],r,a),Z(r,n,a)},p:ke,d(r){r&&(E(n),t.d())}}}function Nl(e){let t,n;return{c(){t=new Ga(!1),n=En(),this.h()},l(r){t=ja(r,!1),n=En(),this.h()},h(){t.a=n},m(r,a){t.m(e[14],r,a),Z(r,n,a)},p:ke,d(r){r&&(E(n),t.d())}}}function Di(e){let t,n,r,a,i,o,s;const l=e[30].content,c=Lt(l,e,e[29],Mi),u=c||Dl();return{c(){t=N("div"),u&&u.c(),this.h()},l(f){t=D(f,"DIV",{class:!0,id:!0,role:!0,"aria-hidden":!0,"aria-labelledby":!0});var h=oe(t);u&&u.l(h),h.forEach(E),this.h()},h(){_(t,"class",n="accordion-panel "+e[9]),_(t,"id",r="accordion-panel-"+e[0]),_(t,"role","region"),_(t,"aria-hidden",a=!e[8]),_(t,"aria-labelledby",e[0])},m(f,h){Z(f,t,h),u&&u.m(t,null),s=!0},p(f,h){e=f,c&&c.p&&(!s||h[0]&536870912)&&qt(c,l,e,e[29],s?Dt(l,e[29],h,wl):Nt(e[29]),Mi),(!s||h[0]&512&&n!==(n="accordion-panel "+e[9]))&&_(t,"class",n),(!s||h[0]&1&&r!==(r="accordion-panel-"+e[0]))&&_(t,"id",r),(!s||h[0]&256&&a!==(a=!e[8]))&&_(t,"aria-hidden",a),(!s||h[0]&1)&&_(t,"aria-labelledby",e[0])},i(f){s||(ve(u,f),f&&ul(()=>{s&&(o&&o.end(1),i=dl(t,Ai,{transition:e[4],params:e[5],enabled:e[3]}),i.start())}),s=!0)},o(f){be(u,f),i&&i.invalidate(),f&&(o=ml(t,Ai,{transition:e[6],params:e[7],enabled:e[3]})),s=!1},d(f){f&&E(t),u&&u.d(f),f&&o&&o.end()}}}function Dl(e){let t;return{c(){t=We("(content)")},l(n){t=Ge(n,"(content)")},m(n,r){Z(n,t,r)},d(n){n&&E(t)}}}function Il(e){let t,n,r,a,i,o,s,l,c,u,f,h,d,y,p=e[16].lead&&Ni(e);const A=e[30].summary,x=Lt(A,e,e[29],Li),k=x||Al(),S=[El,Ml],T=[];function g(w,q){return w[16].iconClosed||w[16].iconOpen?0:1}o=g(e),s=T[o]=S[o](e);let v=e[8]&&Di(e);return{c(){t=N("div"),n=N("button"),p&&p.c(),r=se(),a=N("div"),k&&k.c(),i=se(),s.c(),u=se(),v&&v.c(),this.h()},l(w){t=D(w,"DIV",{class:!0,"data-testid":!0});var q=oe(t);n=D(q,"BUTTON",{type:!0,class:!0,id:!0,"aria-expanded":!0,"aria-controls":!0});var b=oe(n);p&&p.l(b),r=le(b),a=D(b,"DIV",{class:!0});var F=oe(a);k&&k.l(F),F.forEach(E),i=le(b),s.l(b),b.forEach(E),u=le(q),v&&v.l(q),q.forEach(E),this.h()},h(){_(a,"class","accordion-summary flex-1"),_(n,"type","button"),_(n,"class",l="accordion-control "+e[12]),_(n,"id",e[0]),_(n,"aria-expanded",e[8]),_(n,"aria-controls",c="accordion-panel-"+e[0]),n.disabled=e[2],_(t,"class",f="accordion-item "+e[13]),_(t,"data-testid","accordion-item")},m(w,q){Z(w,t,q),B(t,n),p&&p.m(n,null),B(n,r),B(n,a),k&&k.m(a,null),B(n,i),T[o].m(n,null),B(t,u),v&&v.m(t,null),h=!0,d||(y=[_t(n,"click",e[15]),_t(n,"click",e[31]),_t(n,"keydown",e[32]),_t(n,"keyup",e[33]),_t(n,"keypress",e[34])],d=!0)},p(w,q){w[16].lead?p?(p.p(w,q),q[0]&65536&&ve(p,1)):(p=Ni(w),p.c(),ve(p,1),p.m(n,r)):p&&(rn(),be(p,1,1,()=>{p=null}),an()),x&&x.p&&(!h||q[0]&536870912)&&qt(x,A,w,w[29],h?Dt(A,w[29],q,Tl):Nt(w[29]),Li);let b=o;o=g(w),o===b?T[o].p(w,q):(rn(),be(T[b],1,1,()=>{T[b]=null}),an(),s=T[o],s?s.p(w,q):(s=T[o]=S[o](w),s.c()),ve(s,1),s.m(n,null)),(!h||q[0]&4096&&l!==(l="accordion-control "+w[12]))&&_(n,"class",l),(!h||q[0]&1)&&_(n,"id",w[0]),(!h||q[0]&256)&&_(n,"aria-expanded",w[8]),(!h||q[0]&1&&c!==(c="accordion-panel-"+w[0]))&&_(n,"aria-controls",c),(!h||q[0]&4)&&(n.disabled=w[2]),w[8]?v?(v.p(w,q),q[0]&256&&ve(v,1)):(v=Di(w),v.c(),ve(v,1),v.m(t,null)):v&&(rn(),be(v,1,1,()=>{v=null}),an()),(!h||q[0]&8192&&f!==(f="accordion-item "+w[13]))&&_(t,"class",f)},i(w){h||(ve(p),ve(k,w),ve(s),ve(v),h=!0)},o(w){be(p),be(k,w),be(s),be(v),h=!1},d(w){w&&E(t),p&&p.d(),k&&k.d(w),T[o].d(),v&&v.d(),d=!1,zo(y)}}}const Rl="",Ol="text-start w-full flex items-center space-x-4",Ii="fill-current w-3 transition-transform duration-[200ms]",Hl="";function Fl(e,t,n){let r,a,i,o,s,l,c,u,f=ke,h=()=>(f(),f=fl(T,m=>n(28,u=m)),T);e.$$.on_destroy.push(()=>f());let{$$slots:d={},$$scope:y}=t;const p=Wa(d),A=cl();let{open:x=!1}=t,{id:k=String(Math.random())}=t,{autocollapse:S=Re("autocollapse")}=t,{active:T=Re("active")}=t;h();let{disabled:g=Re("disabled")}=t,{padding:v=Re("padding")}=t,{hover:w=Re("hover")}=t,{rounded:q=Re("rounded")}=t,{caretOpen:b=Re("caretOpen")}=t,{caretClosed:F=Re("caretClosed")}=t,{regionControl:C=Re("regionControl")}=t,{regionPanel:P=Re("regionPanel")}=t,{regionCaret:O=Re("regionCaret")}=t,{transitions:V=Re("transitions")}=t,{transitionIn:$=Re("transitionIn")}=t,{transitionInParams:H=Re("transitionInParams")}=t,{transitionOut:K=Re("transitionOut")}=t,{transitionOutParams:M=Re("transitionOutParams")}=t;const R=`
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
			<path d="M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z" />
		</svg>`;function W(m){S===!0?T.set(k):n(17,x=!x),ue(m)}function ue(m){const X=S?u===k:x;A("toggle",{event:m,id:k,panelId:`accordion-panel-${k}`,open:X,autocollapse:S})}S&&x&&W();function U(m){Ot.call(this,e,m)}function ae(m){Ot.call(this,e,m)}function Q(m){Ot.call(this,e,m)}function fe(m){Ot.call(this,e,m)}return e.$$set=m=>{n(37,t=Ft(Ft({},t),Xt(m))),"open"in m&&n(17,x=m.open),"id"in m&&n(0,k=m.id),"autocollapse"in m&&n(18,S=m.autocollapse),"active"in m&&h(n(1,T=m.active)),"disabled"in m&&n(2,g=m.disabled),"padding"in m&&n(19,v=m.padding),"hover"in m&&n(20,w=m.hover),"rounded"in m&&n(21,q=m.rounded),"caretOpen"in m&&n(22,b=m.caretOpen),"caretClosed"in m&&n(23,F=m.caretClosed),"regionControl"in m&&n(24,C=m.regionControl),"regionPanel"in m&&n(25,P=m.regionPanel),"regionCaret"in m&&n(26,O=m.regionCaret),"transitions"in m&&n(3,V=m.transitions),"transitionIn"in m&&n(4,$=m.transitionIn),"transitionInParams"in m&&n(5,H=m.transitionInParams),"transitionOut"in m&&n(6,K=m.transitionOut),"transitionOutParams"in m&&n(7,M=m.transitionOutParams),"$$scope"in m&&n(29,y=m.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&393216&&x&&S&&W(),e.$$.dirty[0]&268828673&&n(8,r=S?u===k:x),n(13,a=`${Rl} ${t.class??""}`),e.$$.dirty[0]&20447232&&n(12,i=`${Ol} ${v} ${w} ${q} ${C}`),e.$$.dirty[0]&12583168&&n(27,o=r?b:F),e.$$.dirty[0]&201326592&&n(11,s=`${Ii} ${O} ${o}`),e.$$.dirty[0]&67108864&&n(10,l=`${Ii} ${O}`),e.$$.dirty[0]&36175872&&n(9,c=`${Hl} ${v} ${q} ${P}`)},t=Xt(t),[k,T,g,V,$,H,K,M,r,c,l,s,i,a,R,W,p,x,S,v,w,q,b,F,C,P,O,o,u,y,d,U,ae,Q,fe]}class bn extends Vt{constructor(t){super(),zt(this,t,Fl,Il,Ut,{open:17,id:0,autocollapse:18,active:1,disabled:2,padding:19,hover:20,rounded:21,caretOpen:22,caretClosed:23,regionControl:24,regionPanel:25,regionCaret:26,transitions:3,transitionIn:4,transitionInParams:5,transitionOut:6,transitionOutParams:7},null,[-1,-1])}}const Bl=e=>({}),Ri=e=>({});function Oi(e){let t,n,r;const a=e[17].panel,i=Lt(a,e,e[16],Ri);return{c(){t=N("div"),i&&i.c(),this.h()},l(o){t=D(o,"DIV",{class:!0,role:!0,"aria-labelledby":!0,tabindex:!0});var s=oe(t);i&&i.l(s),s.forEach(E),this.h()},h(){_(t,"class",n="tab-panel "+e[2]),_(t,"role","tabpanel"),_(t,"aria-labelledby",e[1]),_(t,"tabindex","0")},m(o,s){Z(o,t,s),i&&i.m(t,null),r=!0},p(o,s){i&&i.p&&(!r||s&65536)&&qt(i,a,o,o[16],r?Dt(a,o[16],s,Bl):Nt(o[16]),Ri),(!r||s&4&&n!==(n="tab-panel "+o[2]))&&_(t,"class",n),(!r||s&2)&&_(t,"aria-labelledby",o[1])},i(o){r||(ve(i,o),r=!0)},o(o){be(i,o),r=!1},d(o){o&&E(t),i&&i.d(o)}}}function Ul(e){let t,n,r,a,i,o;const s=e[17].default,l=Lt(s,e,e[16],null);let c=e[5].panel&&Oi(e);return{c(){t=N("div"),n=N("div"),l&&l.c(),a=se(),c&&c.c(),this.h()},l(u){t=D(u,"DIV",{class:!0,"data-testid":!0});var f=oe(t);n=D(f,"DIV",{class:!0,role:!0,"aria-labelledby":!0});var h=oe(n);l&&l.l(h),h.forEach(E),a=le(f),c&&c.l(f),f.forEach(E),this.h()},h(){_(n,"class",r="tab-list "+e[3]),_(n,"role","tablist"),_(n,"aria-labelledby",e[0]),_(t,"class",i="tab-group "+e[4]),_(t,"data-testid","tab-group")},m(u,f){Z(u,t,f),B(t,n),l&&l.m(n,null),B(t,a),c&&c.m(t,null),o=!0},p(u,[f]){l&&l.p&&(!o||f&65536)&&qt(l,s,u,u[16],o?Dt(s,u[16],f,null):Nt(u[16]),null),(!o||f&8&&r!==(r="tab-list "+u[3]))&&_(n,"class",r),(!o||f&1)&&_(n,"aria-labelledby",u[0]),u[5].panel?c?(c.p(u,f),f&32&&ve(c,1)):(c=Oi(u),c.c(),ve(c,1),c.m(t,null)):c&&(rn(),be(c,1,1,()=>{c=null}),an()),(!o||f&16&&i!==(i="tab-group "+u[4]))&&_(t,"class",i)},i(u){o||(ve(l,u),ve(c),o=!0)},o(u){be(l,u),be(c),o=!1},d(u){u&&E(t),l&&l.d(u),c&&c.d()}}}const Vl="space-y-4",zl="flex overflow-x-auto hide-scrollbar",Yl="";function Wl(e,t,n){let r,a,i,{$$slots:o={},$$scope:s}=t;const l=Wa(o);let{justify:c="justify-start"}=t,{border:u="border-b border-surface-400-500-token"}=t,{active:f="border-b-2 border-surface-900-50-token"}=t,{hover:h="hover:variant-soft"}=t,{flex:d="flex-none"}=t,{padding:y="px-4 py-2"}=t,{rounded:p="rounded-tl-container-token rounded-tr-container-token"}=t,{spacing:A="space-y-1"}=t,{regionList:x=""}=t,{regionPanel:k=""}=t,{labelledby:S=""}=t,{panel:T=""}=t;return Ie("active",f),Ie("hover",h),Ie("flex",d),Ie("padding",y),Ie("rounded",p),Ie("spacing",A),e.$$set=g=>{n(18,t=Ft(Ft({},t),Xt(g))),"justify"in g&&n(6,c=g.justify),"border"in g&&n(7,u=g.border),"active"in g&&n(8,f=g.active),"hover"in g&&n(9,h=g.hover),"flex"in g&&n(10,d=g.flex),"padding"in g&&n(11,y=g.padding),"rounded"in g&&n(12,p=g.rounded),"spacing"in g&&n(13,A=g.spacing),"regionList"in g&&n(14,x=g.regionList),"regionPanel"in g&&n(15,k=g.regionPanel),"labelledby"in g&&n(0,S=g.labelledby),"panel"in g&&n(1,T=g.panel),"$$scope"in g&&n(16,s=g.$$scope)},e.$$.update=()=>{n(4,r=`${Vl} ${t.class??""}`),e.$$.dirty&16576&&n(3,a=`${zl} ${c} ${u} ${x}`),e.$$.dirty&32768&&n(2,i=`${Yl} ${k}`)},t=Xt(t),[S,T,i,a,r,l,c,u,f,h,d,y,p,A,x,k,s,o]}class Gl extends Vt{constructor(t){super(),zt(this,t,Wl,Ul,Ut,{justify:6,border:7,active:8,hover:9,flex:10,padding:11,rounded:12,spacing:13,regionList:14,regionPanel:15,labelledby:0,panel:1})}}const jl=e=>({}),Hi=e=>({});function Fi(e){let t,n;const r=e[22].lead,a=Lt(r,e,e[21],Hi);return{c(){t=N("div"),a&&a.c(),this.h()},l(i){t=D(i,"DIV",{class:!0});var o=oe(t);a&&a.l(o),o.forEach(E),this.h()},h(){_(t,"class","tab-lead")},m(i,o){Z(i,t,o),a&&a.m(t,null),n=!0},p(i,o){a&&a.p&&(!n||o[0]&2097152)&&qt(a,r,i,i[21],n?Dt(r,i[21],o,jl):Nt(i[21]),Hi)},i(i){n||(ve(a,i),n=!0)},o(i){be(a,i),n=!1},d(i){i&&E(t),a&&a.d(i)}}}function Xl(e){let t,n,r,a,i,o,s,l,c,u,f,h,d,y,p,A=[{type:"radio"},{name:e[1]},{__value:e[2]},e[11](),{tabindex:"-1"}],x={};for(let g=0;g<A.length;g+=1)x=Ft(x,A[g]);let k=e[12].lead&&Fi(e);const S=e[22].default,T=Lt(S,e,e[21],null);return d=hl(e[30][0]),{c(){t=N("label"),n=N("div"),r=N("div"),a=N("input"),i=se(),o=N("div"),k&&k.c(),s=se(),l=N("div"),T&&T.c(),this.h()},l(g){t=D(g,"LABEL",{class:!0,title:!0});var v=oe(t);n=D(v,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-controls":!0,"aria-selected":!0,tabindex:!0});var w=oe(n);r=D(w,"DIV",{class:!0});var q=oe(r);a=D(q,"INPUT",{type:!0,name:!0,tabindex:!0}),q.forEach(E),i=le(w),o=D(w,"DIV",{class:!0});var b=oe(o);k&&k.l(b),s=le(b),l=D(b,"DIV",{class:!0});var F=oe(l);T&&T.l(F),F.forEach(E),b.forEach(E),w.forEach(E),v.forEach(E),this.h()},h(){Ci(a,x),_(r,"class","h-0 w-0 overflow-hidden"),_(l,"class","tab-label"),_(o,"class",c="tab-interface "+e[8]),_(n,"class",u="tab "+e[7]),_(n,"data-testid","tab"),_(n,"role","tab"),_(n,"aria-controls",e[4]),_(n,"aria-selected",e[5]),_(n,"tabindex",f=e[5]?0:-1),_(t,"class",e[9]),_(t,"title",e[3]),d.p(a)},m(g,v){Z(g,t,v),B(t,n),B(n,r),B(r,a),a.autofocus&&a.focus(),e[28](a),a.checked=a.__value===e[0],B(n,i),B(n,o),k&&k.m(o,null),B(o,s),B(o,l),T&&T.m(l,null),h=!0,y||(p=[_t(a,"change",e[29]),_t(a,"click",e[26]),_t(a,"change",e[27]),_t(n,"keydown",e[10]),_t(n,"keydown",e[23]),_t(n,"keyup",e[24]),_t(n,"keypress",e[25])],y=!0)},p(g,v){Ci(a,x=yl(A,[{type:"radio"},(!h||v[0]&2)&&{name:g[1]},(!h||v[0]&4)&&{__value:g[2]},g[11](),{tabindex:"-1"}])),v[0]&1&&(a.checked=a.__value===g[0]),g[12].lead?k?(k.p(g,v),v[0]&4096&&ve(k,1)):(k=Fi(g),k.c(),ve(k,1),k.m(o,s)):k&&(rn(),be(k,1,1,()=>{k=null}),an()),T&&T.p&&(!h||v[0]&2097152)&&qt(T,S,g,g[21],h?Dt(S,g[21],v,null):Nt(g[21]),null),(!h||v[0]&256&&c!==(c="tab-interface "+g[8]))&&_(o,"class",c),(!h||v[0]&128&&u!==(u="tab "+g[7]))&&_(n,"class",u),(!h||v[0]&16)&&_(n,"aria-controls",g[4]),(!h||v[0]&32)&&_(n,"aria-selected",g[5]),(!h||v[0]&32&&f!==(f=g[5]?0:-1))&&_(n,"tabindex",f),(!h||v[0]&512)&&_(t,"class",g[9]),(!h||v[0]&8)&&_(t,"title",g[3])},i(g){h||(ve(k),ve(T,g),h=!0)},o(g){be(k),be(T,g),h=!1},d(g){g&&E(t),e[28](null),k&&k.d(),T&&T.d(g),d.r(),y=!1,zo(p)}}}const Zl="text-center cursor-pointer transition-colors duration-100",Kl="";function Ql(e,t,n){let r,a,i,o,s;const l=["group","name","value","title","controls","regionTab","active","hover","flex","padding","rounded","spacing"];let c=Ti(t,l),{$$slots:u={},$$scope:f}=t;const h=Wa(u);let{group:d}=t,{name:y}=t,{value:p}=t,{title:A=""}=t,{controls:x=""}=t,{regionTab:k=""}=t,{active:S=Re("active")}=t,{hover:T=Re("hover")}=t,{flex:g=Re("flex")}=t,{padding:v=Re("padding")}=t,{rounded:w=Re("rounded")}=t,{spacing:q=Re("spacing")}=t,b;function F(W){if(["Enter","Space"].includes(W.code))W.preventDefault(),b.click();else if(W.code==="ArrowRight"){const ue=b.closest(".tab-list");if(!ue)return;const U=Array.from(ue.querySelectorAll(".tab")),ae=b.closest(".tab");if(!ae)return;const Q=U.indexOf(ae),fe=Q+1>=U.length?0:Q+1,m=U[fe],X=m==null?void 0:m.querySelector("input");m&&X&&(X.click(),m.focus())}else if(W.code==="ArrowLeft"){const ue=b.closest(".tab-list");if(!ue)return;const U=Array.from(ue.querySelectorAll(".tab")),ae=b.closest(".tab");if(!ae)return;const Q=U.indexOf(ae),fe=Q-1<0?U.length-1:Q-1,m=U[fe],X=m==null?void 0:m.querySelector("input");m&&X&&(X.click(),m.focus())}}function C(){return delete c.class,c}const P=[[]];function O(W){Ot.call(this,e,W)}function V(W){Ot.call(this,e,W)}function $(W){Ot.call(this,e,W)}function H(W){Ot.call(this,e,W)}function K(W){Ot.call(this,e,W)}function M(W){Gn[W?"unshift":"push"](()=>{b=W,n(6,b)})}function R(){d=this.__value,n(0,d)}return e.$$set=W=>{n(32,t=Ft(Ft({},t),Xt(W))),n(31,c=Ti(t,l)),"group"in W&&n(0,d=W.group),"name"in W&&n(1,y=W.name),"value"in W&&n(2,p=W.value),"title"in W&&n(3,A=W.title),"controls"in W&&n(4,x=W.controls),"regionTab"in W&&n(13,k=W.regionTab),"active"in W&&n(14,S=W.active),"hover"in W&&n(15,T=W.hover),"flex"in W&&n(16,g=W.flex),"padding"in W&&n(17,v=W.padding),"rounded"in W&&n(18,w=W.rounded),"spacing"in W&&n(19,q=W.spacing),"$$scope"in W&&n(21,f=W.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&5&&n(5,r=p===d),e.$$.dirty[0]&49184&&n(20,a=r?S:T),n(9,i=`${Zl} ${g} ${v} ${w} ${a} ${t.class??""}`),e.$$.dirty[0]&524288&&n(8,o=`${Kl} ${q}`),e.$$.dirty[0]&8192&&n(7,s=`${k}`)},t=Xt(t),[d,y,p,A,x,r,b,s,o,i,F,C,h,k,S,T,g,v,w,q,a,f,u,O,V,$,H,K,M,R,P]}class wr extends Vt{constructor(t){super(),zt(this,t,Ql,Xl,Ut,{group:0,name:1,value:2,title:3,controls:4,regionTab:13,active:14,hover:15,flex:16,padding:17,rounded:18,spacing:19},null,[-1,-1])}}function Jl(e){let t;return{c(){t=N("i"),this.h()},l(n){t=D(n,"I",{class:!0}),oe(t).forEach(E),this.h()},h(){_(t,"class","fa-solid fa-book-open")},m(n,r){Z(n,t,r)},p:ke,d(n){n&&E(t)}}}function $l(e){let t,n="About PACTA";return{c(){t=N("h3"),t.textContent=n,this.h()},l(r){t=D(r,"H3",{class:!0,"data-svelte-h":!0}),ce(t)!=="svelte-1otjnj6"&&(t.textContent=n),this.h()},h(){_(t,"class","h3")},m(r,a){Z(r,t,a)},p:ke,d(r){r&&E(t)}}}function ec(e){let t,n=`PACTA (Paris Agreement Capital Transition Assessment) is a comprehensive tool designed
						to help investors assess the alignment of their portfolios with global climate goals. By
						evaluating how investee companies are positioned relative to different climate
						scenarios, PACTA provides portfolio insights into the potential risks and opportunities
						of transitioning to a low-carbon economy. PACTA uses climate scenario analysis to assess
						the exposure of portfolios to carbon-intensive sectors and technologies, helping
						investors understand how well their holdings align with pathways to limit global warming
						to well below 2°C, with an aspirational target of 1.5°C. The tool evaluates various
						asset classes, including listed equities and corporate bonds, and applies
						sector-specific metrics to assess the emissions intensity and transition progress of
						companies.
						<br/><br/>
						The results generated by PACTA allow users to get a granular view of the exposure and climate
						goal alignment of their portfolios by sector and for related technologies. This information
						can be used to:
						<ul class="list-disc p-4"><li>help steer investment decisions in line with climate scenarios;</li> <li>inform decisions in relation to climate target-setting;</li> <li>gain insights that can support engagement with clients on their respective climate
								actions;</li> <li>identify exposure to transition risks associated with a shift to a low-carbon
								economy.</li></ul>`;return{c(){t=N("div"),t.innerHTML=n,this.h()},l(r){t=D(r,"DIV",{class:!0,"data-svelte-h":!0}),ce(t)!=="svelte-h659o7"&&(t.innerHTML=n),this.h()},h(){_(t,"class","p-4")},m(r,a){Z(r,t,a)},p:ke,d(r){r&&E(t)}}}function tc(e){let t;return{c(){t=N("i"),this.h()},l(n){t=D(n,"I",{class:!0}),oe(t).forEach(E),this.h()},h(){_(t,"class","fa-solid fa-industry")},m(n,r){Z(n,t,r)},p:ke,d(n){n&&E(t)}}}function nc(e){let t,n="Economic Sectors Covered in PACTA and Their Relevance for Limiting Climate Change";return{c(){t=N("h3"),t.textContent=n,this.h()},l(r){t=D(r,"H3",{class:!0,"data-svelte-h":!0}),ce(t)!=="svelte-1kyhluo"&&(t.textContent=n),this.h()},h(){_(t,"class","h3")},m(r,a){Z(r,t,a)},p:ke,d(r){r&&E(t)}}}function rc(e){let t,n=`Climate change is no longer a distant threat; its physical impacts are already being
						felt across the globe. To avoid significant disruptions and economic losses, businesses
						must transform their operations, adapt their value chains, and implement sustainable
						practices. At the same time, economy-wide action is critical to mitigate and adapt to
						the accelerating impacts of climate change, particularly through investments aimed at
						reducing CO2 emissions across key sectors. These efforts are essential to prevent global
						temperatures from rising to dangerous levels.
						<br/><br/>
						According to Our World In Data, taking a closer look at global greenhouse gas (GHG) emissions
						reveals where urgent action is required. Approximately 73% of global emissions stem from
						the energy sector (including electricity, heat, and transport), 18.4% from agriculture, forestry,
						and land use, 5.2% from direct industrial processes (such as cement, chemicals, and petrochemicals),
						and 3.2% from waste management. These sectors are not only responsible for the majority of
						emissions but are also critical areas where investment in low-carbon technologies can have
						the greatest impact.
						<br/><br/>
						PACTA (Paris Agreement Capital Transition Assessment) focuses on seven of the most carbon-intensive
						sectors, which are likely to face significant transition risks as the world shifts toward
						a low-carbon economy. These sectors include Oil &amp; Gas, Coal, Power, Automotive, Steel, Cement,
						and Aviation. Within each sector, PACTA examines the areas of the value chain that contribute
						most significantly to CO2 emissions and where the potential for emission reductions is most
						significant.
						<br/><br/>
						PACTA&#39;s methodology targets the technology transitions needed within these sectors according
						to climate change scenarios, emphasizing the phase-out of high-carbon technologies and the
						ramp-up of low-carbon solutions. For example, in the Oil &amp; Gas sector, the focus is on upstream
						production activities, while in the Power sector, it is centered on power generation capacity
						and the energy sources used.
						<br/><br/>
						By assessing these key areas, PACTA helps investors understand the alignment of their portfolios
						with the global shift towards a low-carbon future, highlighting where climate risks and opportunities
						lie across different sectors and value chains.
						<br/>
						For more detailed information on the specific parts of each value chain that PACTA focuses
						on, see the diagram in the figure below:
						<br/><br/> <div class="card p-4 bg-tertiary-200"><div class="flex justify-center"><img src="pacta_value_chain.svg" alt="PACTA Value Chain" style="height: 100%; width: auto;"/></div> <p class="p-2"><i>Figure 1: PACTA Sectors for listed equity and corporate bonds. Supply chain
									segments with the largest contribution to climate change are colored blue.</i></p></div> <br/>
						Because PACTA covers sectors with very different value chains, the scope of the emissions
						addressed by the analysis also varies between sectors. As an orientation, the Greenhouse
						Gas Protocol defines and categorizes emissions into scopes 1, 2, and 3. This widely used
						corporate standard aims to support companies in understanding their full value chain emissions.
						According to the Greenhouse Gas Protocol, the scopes are defined as follows:
						<ul class="list-disc p-4"><li>Scope 1: GHG emissions occurring from sources that are owned or controlled by the
								company, for example, emissions from combustion in owned or controlled boilers,
								furnaces, vehicles, etc.; emissions from chemical production in owned or controlled
								process equipment;</li> <li>Scope 2: GHG emissions from the generation of purchased electricity consumed by the
								company;</li> <li>Scope 3: GHG emissions resulting as a consequence of the activities of the company
								but that occur from sources not owned or controlled by the company. Some examples of
								scope 3 activities are extraction and production of purchased materials;
								transportation of purchased fuels; and use of sold products and services.</li></ul>
						PACTA measures alignment with scenarios using a combination of production capacity and CO₂
						emissions intensity metrics. The analysis covers scope 1 for aviation and power, scopes 1
						and 2 for steel and cement, scope 3 for automotive and coal, and scope 1,2 and 3 for oil
						and gas. However, we strongly recommend the use of the production capacity metrics to inform
						decision-making rather than GHG emissions for the power, automotive, coal, and oil and gas
						sectors since they provide technology-level insights on what needs to happen according to
						the scenario pathways.`;return{c(){t=N("div"),t.innerHTML=n,this.h()},l(r){t=D(r,"DIV",{class:!0,"data-svelte-h":!0}),ce(t)!=="svelte-72arxe"&&(t.innerHTML=n),this.h()},h(){_(t,"class","p-4")},m(r,a){Z(r,t,a)},p:ke,d(r){r&&E(t)}}}function ac(e){let t;return{c(){t=N("i"),this.h()},l(n){t=D(n,"I",{class:!0}),oe(t).forEach(E),this.h()},h(){_(t,"class","fa-solid fa-magnifying-glass")},m(n,r){Z(n,t,r)},p:ke,d(n){n&&E(t)}}}function ic(e){let t,n="The PACTA Methodology at a Glance";return{c(){t=N("h3"),t.textContent=n,this.h()},l(r){t=D(r,"H3",{class:!0,"data-svelte-h":!0}),ce(t)!=="svelte-1qcgs25"&&(t.textContent=n),this.h()},h(){_(t,"class","h3")},m(r,a){Z(r,t,a)},p:ke,d(r){r&&E(t)}}}function oc(e){let t,n=`The PACTA methodology compares the sectoral decarbonization pathways—developed by
						leading climate scenario providers—with the financial exposure of investors to companies
						in high-carbon sectors such as oil and gas, coal, power, automotive, cement, aviation,
						and steel (referred to as the &quot;PACTA sectors&quot;). The analysis provides a five-year
						forward-looking, bottom-up assessment, focusing primarily on the necessary technology
						transitions within these sectors.
						<br/><br/>
						The PACTA analysis highlights the need to phase out high-emitting technologies and scale
						up low-carbon alternatives. It uses climate scenarios to quantify the required technology
						shifts and sectoral decarbonization needed to meet the Paris Agreement goals: limiting global
						warming to well below 2°C and striving for 1.5°C, as well as other, less ambitious climate
						targets.
						<br/><br/>
						The climate scenario analysis for listed equities and corporate bonds, based on the PACTA
						methodology, provides actionable insights by answering critical questions about portfolio
						alignment with climate goals:
						<ul class="list-disc p-4"><li>Exposure to high emitting sectors: What proportion of the portfolio is invested in
								high-carbon sectors?</li> <li>Emissions Relevance: How significant is the carbon intensity of the analyzed portion
								of the portfolio in terms of overall emissions?</li> <li>Scenario Alignment: Which climate change scenarios do the production plans of
								companies in the portfolio align with?</li> <li>Key Impactful Companies: Which companies in the portfolio are driving the results
								and influencing the overall alignment?</li> <li>Benchmark Comparison: How does the portfolio perform relative to market benchmarks?</li></ul>
						PACTA analyzes companies&#39; five-year forward-looking production plans based on physical asset-level
						data, assessing how aligned these plans are with various climate scenarios. This company-specific
						data is then consolidated to provide portfolio-level results, offering a clear view of misalignment
						or alignment with transition pathways.
						<br/><br/>
						The results help investors understand potential exposure to both transition risks and opportunities.
						This forward-looking approach provides valuable insights for:
						<ul class="list-disc p-4"><li>Transition Risk Management</li> <li>Engagement with Companies on climate strategies</li> <li>Disclosure and Reporting on climate alignment</li> <li>Strategic Decision-Making</li></ul>
						The following table provides an overview of key components and principles underlying the
						PACTA methodology.
						<br/><br/> <div class="table-container"><table class="table table-hover bg-surface-200 p-4"><tbody><tr><td><strong>Physical asset-based company level data (ABCD)</strong></td> <td>The analysis is currently based on data covering 52,000+ companies and
											230,000+ energy-related physical assets from third-party data providers. This
											alleviates the necessity to rely on companies’ self-reported data that is
											published in a non-standardized manner and often does not account for scope 2
											and 3 emissions.</td></tr> <tr><td><strong>Forward-Looking</strong></td> <td>PACTA provides a five-year forward-looking analysis of the production plans
											financed by a portfolio that are compared to climate scenarios.</td></tr> <tr><td><strong>Sector-specific approach</strong></td> <td>The outputs of the analysis are metrics and indicators at sector and
											technology-level that allow for a detailed evaluation of a portfolio’s
											alignment, rather than one aggregated indicator at portfolio level.</td></tr> <tr><td><strong>Allocating macroeconomic goals to microeconomic actors</strong></td> <td>The PACTA analysis uses a market-share approach to allocate macroeconomic
											climate targets to companies in sectors where low-carbon technologies are
											available thus, all market-level trends and targets are allocated to companies
											based on their current market share in the sector or technology for low- and
											high-carbon technologies, respectively.</td></tr></tbody></table></div> <br/>
						In the analysis provided for each sector, the user has the option to select from two different
						portfolio attribution methodologies - the Portfolio Weight Approach (PA) and the Ownership
						Weight Approach (OA). These methods are used to attribute the physical assets of a company
						to the financial instrument or portfolio.
						<br/>
						The approaches differ as follows:
						<ul class="list-disc p-4"><li>Portfolio Weight Approach (PA): This approach calculates the portfolios’ technology
								exposures based on the weighting of each position within the portfolio. Therefore,
								the PA reflects the investor´s allocation choice. This approach is used for the
								analysis of corporate bonds and can be used for listed equity as well.</li> <li>Ownership Weight Approach (OA): This approach assigns a share of the companies’
								activities to the portfolio based on the percent of outstanding shares owned by the
								investor. This approach comes closer to allocating “responsibility” for the
								companies’ activities to the financial institution.</li>
							While the Ownership Weight Approach (OA) is only available for listed equity, the Portfolio
							Weight Approach (PA) is available for both corporate bonds and listed equity.</ul>
						While the Ownership Weight Approach (OA) is only available for listed equity, the Portfolio
						Weight Approach (PA) is available for both corporate bonds and listed equity.`;return{c(){t=N("div"),t.innerHTML=n,this.h()},l(r){t=D(r,"DIV",{class:!0,"data-svelte-h":!0}),ce(t)!=="svelte-ycwtmx"&&(t.innerHTML=n),this.h()},h(){_(t,"class","p-4")},m(r,a){Z(r,t,a)},p:ke,d(r){r&&E(t)}}}function sc(e){let t;return{c(){t=N("i"),this.h()},l(n){t=D(n,"I",{class:!0}),oe(t).forEach(E),this.h()},h(){_(t,"class","fa-solid fa-trowel-bricks")},m(n,r){Z(n,t,r)},p:ke,d(n){n&&E(t)}}}function lc(e){let t,n="Inputs into the PACTA Methodology";return{c(){t=N("h3"),t.textContent=n,this.h()},l(r){t=D(r,"H3",{class:!0,"data-svelte-h":!0}),ce(t)!=="svelte-156rrfu"&&(t.textContent=n),this.h()},h(){_(t,"class","h3")},m(r,a){Z(r,t,a)},p:ke,d(r){r&&E(t)}}}function cc(e){let t,n=`This section covers the core concepts of the methodology, allowing a reader to correctly
						interpret the results being presented in the PACTA analysis. Some of the key assumptions
						and limitations are also highlighted at the end of this chapter. This is not intended to
						be a detailed description of the methodology; for more information about the
						methodology, please refer to the knowledge hub on the Transition Monitor website, or to
						the PACTA for Investors methodology document, also available on the Transition Monitor
						website.
						<br/><br/> <h4 class="h4">Data and Scenarios</h4> <h5 class="h5">Asset-Based Company-Level Data</h5> <br/>
						The PACTA methodology measures the alignment of a financial portfolio to decarbonization
						pathways set out in climate change scenarios. It does this by attributing physical assets
						in the real economy to the financial assets that finance them. The physical asset-based company-level
						data used for this analysis is provided by Asset Impact.
						<br/><br/>
						The production values of each company in the dataset provided by Asset Impact, measured as
						an economic unit of output, are known. For example, the number of cars produced or barrels
						of oil for automotive and oil assets, respectively. The asset’s production values are allocated
						to the companies owning them based on the “Credit Ownership” and the “Equity Ownership” consolidation
						methodologies. For more information related to the consolidation of physical assets to companies
						please refer to the PACTA for Investors methodology document.
						<br/><br/> <h5 class="h5">Scenarios</h5>
						Climate change scenarios are an important tool to explore and understand what can happen
						and what may need to happen in the future under different conditions and in order to achieve
						certain outcomes. Scenarios are only depictions and models of the future and so do not predict
						what will happen with 100% certainty in the upcoming years. Instead they propose different
						views of the future, under different political, economic and social contexts and with different
						possible decarbonization outcomes.
						<br/><br/>
						The PACTA Methodology is intended to be agnostic and to be able to use any climate scenario
						that lays out production capacity targets at the technology level or, for the relevant sectors,
						emission-intensity units. Scenarios typically differ in the following main ways:
						<br/> <ul class="list-disc p-4"><li>They implement decarbonization pathways of different levels of ambition and
								probability;</li> <li>They lay out decarbonization pathways that occur at different speeds (rapid ramp-up
								or long-term adjustment);</li> <li>They make different assumptions around innovation and, thus, around technologies’
								availability, scalability, and costs;</li> <li>They offer varying levels of granularity, e.g., they may cover different time
								horizons and geographic scales.</li></ul>
						Given that the targets laid out in climate scenarios can vary by region depending on the
						sector’s value chain and geographic constraints (e.g., power distribution), alignment is
						measured at the geographical level in which the sector tends to operate and seek investment.
						For example, for the power sector, markets tend to be regional or national, and as such,
						alignment should be measured at that level. However, the oil, gas, coal and automotive sectors
						operate in a global market and in such a case a global scenario target is used.
						<br/><br/>
						Not all scenarios provide information for all sectors analyzed in the PACTA assessment, therefore
						different sectors might be analyzed using different scenarios. However, in general we recommend
						using the same scenario where possible when performing the portfolio analysis, since the
						sectoral pathways within scenarios are created to meet the same overall carbon budget.
						<br/><br/>
						We further recommend that investors seek to understand the scenarios used, and their underlying
						assumptions, in order to evaluate which of them is more appropriate for their purposes. For
						further information on the scenarios included in this analysis, please refer to the scenario
						document available on the Transition Monitor website.
						<br/><br/> <h4 class="h4">Time horizons</h4>
						Results given in this analysis are shown for the present and up to 5 years in the future.
						This is based on the capital expenditure (CAPEX) plans reported by the company’s current
						asset-based company data (ABCD). For some sectors, a reliable estimate beyond 5 years cannot
						be made due to the lack of adequate data forecasts beyond that time frame. In PACTA, for
						the sake of homogeneity and consistency, we provide the forecast information on a 5 year
						forward looking basis.
						<br/><br/> <h5 class="h5">Data Sources</h5> <ul class="list-disc p-4"><li>© 2023 Asset Impact. All Rights Reserved. Information, data, analyses and opinions
								contained herein: (1) include the proprietary information of Asset Impact and its
								content providers; (2) may not be copied or redistributed except as specifically
								authorised in writing; (3) do not constitute investment advice; (4) are provided
								solely for informational purposes; (5) are not warranted to be complete, accurate or
								timely; and (6) may be drawn from data published on various dates. Asset Impact is
								not responsible for any decisions, damages or other losses related to the
								information, data, analyses or opinions contained herein or the use thereof. Please
								verify all of the information before using it and do not make any investment
								decision except upon the advice of a professional financial adviser. Past
								performance is not a guarantee of future results. The value and income derived from
								investments may go down and up.</li> <li>FactSet (Copyright © 2023 FactSet Research Systems Inc. All rights reserved.)</li> <li>ETP2020: IEA (2020), Energy Technology Perspectives 2020, IEA, Paris
								https://www.iea.org/reports/energy-technology-perspectives-2020, License: CC BY 4.0</li> <li>GECO2022 : Keramidas, K., Fosse, F., Diaz Rincon, A., Dowling, P., Garaffa, R.,
								Ordonez, J., Russ, P., Schade, B., Schmitz, A., Soria Ramirez, A., Vandyck, T. and
								Weitzel, M., Global Energy and Climate Outlook 2022: Energy trade in a decarbonised
								world, EUR 31355 EN, Publications Office of the European Union, Luxembourg, 2022,
								ISBN 978-92-76-60498-3, doi:10.2760</li></ul>`;return{c(){t=N("div"),t.innerHTML=n},l(r){t=D(r,"DIV",{"data-svelte-h":!0}),ce(t)!=="svelte-1jujsqx"&&(t.innerHTML=n)},m(r,a){Z(r,t,a)},p:ke,d(r){r&&E(t)}}}function uc(e){let t;return{c(){t=N("i"),this.h()},l(n){t=D(n,"I",{class:!0}),oe(t).forEach(E),this.h()},h(){_(t,"class","fa-solid fa-chart-area")},m(n,r){Z(n,t,r)},p:ke,d(n){n&&E(t)}}}function fc(e){let t,n="PACTA Core Metrics overview";return{c(){t=N("h3"),t.textContent=n,this.h()},l(r){t=D(r,"H3",{class:!0,"data-svelte-h":!0}),ce(t)!=="svelte-1g5ilmi"&&(t.textContent=n),this.h()},h(){_(t,"class","h3")},m(r,a){Z(r,t,a)},p:ke,d(r){r&&E(t)}}}function hc(e){let t,n,r,a,i="<li>Technology Share Mix</li> <li>Production Volume Trajectory</li> <li>Emission Intensity</li>",o,s,l,c,u="Technology Share Mix",f,h,d,y,p,A,x,k,S,T,g,v,w,q=`<li>Process Changes: Shifts in the technology or processes used to produce outputs (e.g.,
							transitioning from coal to renewable power generation).</li> <li>Output Changes: Shifts in the products themselves (e.g., transitioning from internal
							combustion engine vehicles to electric vehicles)</li>`,b,F,C="Production Volume Trajectory",P,O,V,$,H,K=`<li>Technology Shifts: The transfer of production from one technology to another (e.g.,
							moving from internal combustion engines to electric vehicles).</li> <li>Production Adjustments: Changes in the overall scale of production for a given
							technology or fuel (e.g., expanding or contracting coal-fired power generation)</li>`,M,R,W="Emission Intensity",ue,U,ae,Q,fe;return{c(){t=We(`The PACTA analysis evaluates portfolio alignment with climate transition goals using three
					key metrics, two of which are based on production capacity. These metrics help measure how
					well a portfolio is positioned for the transition to a low-carbon economy:
					`),n=N("br"),r=se(),a=N("ol"),a.innerHTML=i,o=We(`
					The first two metrics (Technology Share Mix and Production Volume Trajectory) are used for
					sectors with clear technology transition pathways, as defined by the climate change scenarios,
					such as power, fossil fuels, and automotive. The emission intensity metric is used for sectors
					where technology transitions are less defined—such as steel, cement, and aviation. Below, each
					metric is explained in more detail.
					`),s=N("br"),l=se(),c=N("h4"),c.textContent=u,f=We(`
					The Technology Share Mix metric measures the proportion of each technology within a sector
					as a percentage of the portfolio investment in the portfolio-level overview tab, and as a percentage
					of the sectoral production in the sector-level analysis tab. It reflects the mix of technologies
					being used in the sector, which can indicate how exposed the portfolio is to sectors undergoing
					a transition to low-carbon alternatives.
					`),h=N("br"),d=N("br"),y=We(`
					For example, in the power sector, this metric tracks the proportion of production coming from
					renewable energy compared to coal-fired generation. Similarly, in the automotive sector, it
					shows the share of production coming from electric vehicles versus traditional internal combustion
					engine vehicles.
					`),p=N("br"),A=N("br"),x=We(`
					The Technology Share Mix gives more insight into the relative exposure to different technologies,
					especially when compared with the volume trajectory, and provides a clearer picture of how
					a company's production is distributed across different technological solutions.
					`),k=N("br"),S=N("br"),T=We(`
					When comparing current and future tech mix for a specific sector along with the volume trajectory
					results, the Technology Share Mix gives insights on two key types of changes:
					`),g=N("br"),v=se(),w=N("ul"),w.innerHTML=q,b=se(),F=N("h4"),F.textContent=C,P=We(`
					The Production Volume Trajectory metric measures how a portfolio’s projected production volumes
					align with climate transition goals. This metric compares companies' five-year capital commitments
					for production to their target production volume trajectories under different climate scenarios.
					It applies to sectors with clear technology pathways, such as oil and gas, coal, automotive,
					and power. This metric focuses on the volume of production, capturing whether companies are
					increasing or decreasing production volumes over time and how that aligns with climate targets.
					For instance, it could track whether a company is scaling back coal production or increasing
					the output of electric vehicles.
					`),O=N("br"),V=N("br"),$=We(`
					Changes in production volumes can result from:
					`),H=N("ul"),H.innerHTML=K,M=se(),R=N("h4"),R.textContent=W,ue=We(`
					The Emission Intensity metric measures the carbon intensity of production in sectors where
					clear technology pathways are not yet established, such as steel, cement, and aviation. It
					calculates the CO₂ emissions per unit of output (e.g., CO₂ per ton of steel produced) and compares
					that to the reduction trajectory for emissions intensity set out by a climate scenario for
					the sector. In these sectors, no clear zero-carbon alternatives currently exist, so the Technology
					Share Mix and Production Volume Trajectory metrics are not applicable. However, emissions must
					still be reduced significantly to align with climate goals. The Emission Intensity metric helps
					guide capital allocation toward reducing carbon emissions in these sectors in line with the
					required reduction trajectories, even without clear technology shifts
					`),U=N("br"),ae=N("br"),Q=We(`
					Each of the three PACTA metrics provides unique insights into how a portfolio aligns with climate
					transition goals. The Technology Share Mix focuses on the distribution of production by technology
					within sectors, offering a current and five-year forward-looking snapshot of relative exposure
					to low- and high-carbon technologies. The Production Volume Trajectory looks at projected production
					volumes and their alignment with climate scenarios, while the Emission Intensity metric addresses
					the carbon intensity of sectors without defined technological pathways. Together, these metrics
					provide a comprehensive view of the portfolio’s alignment with climate transition goals.
					`),fe=N("br"),this.h()},l(m){t=Ge(m,`The PACTA analysis evaluates portfolio alignment with climate transition goals using three
					key metrics, two of which are based on production capacity. These metrics help measure how
					well a portfolio is positioned for the transition to a low-carbon economy:
					`),n=D(m,"BR",{}),r=le(m),a=D(m,"OL",{class:!0,"data-svelte-h":!0}),ce(a)!=="svelte-jkayup"&&(a.innerHTML=i),o=Ge(m,`
					The first two metrics (Technology Share Mix and Production Volume Trajectory) are used for
					sectors with clear technology transition pathways, as defined by the climate change scenarios,
					such as power, fossil fuels, and automotive. The emission intensity metric is used for sectors
					where technology transitions are less defined—such as steel, cement, and aviation. Below, each
					metric is explained in more detail.
					`),s=D(m,"BR",{}),l=le(m),c=D(m,"H4",{class:!0,"data-svelte-h":!0}),ce(c)!=="svelte-bifno4"&&(c.textContent=u),f=Ge(m,`
					The Technology Share Mix metric measures the proportion of each technology within a sector
					as a percentage of the portfolio investment in the portfolio-level overview tab, and as a percentage
					of the sectoral production in the sector-level analysis tab. It reflects the mix of technologies
					being used in the sector, which can indicate how exposed the portfolio is to sectors undergoing
					a transition to low-carbon alternatives.
					`),h=D(m,"BR",{}),d=D(m,"BR",{}),y=Ge(m,`
					For example, in the power sector, this metric tracks the proportion of production coming from
					renewable energy compared to coal-fired generation. Similarly, in the automotive sector, it
					shows the share of production coming from electric vehicles versus traditional internal combustion
					engine vehicles.
					`),p=D(m,"BR",{}),A=D(m,"BR",{}),x=Ge(m,`
					The Technology Share Mix gives more insight into the relative exposure to different technologies,
					especially when compared with the volume trajectory, and provides a clearer picture of how
					a company's production is distributed across different technological solutions.
					`),k=D(m,"BR",{}),S=D(m,"BR",{}),T=Ge(m,`
					When comparing current and future tech mix for a specific sector along with the volume trajectory
					results, the Technology Share Mix gives insights on two key types of changes:
					`),g=D(m,"BR",{}),v=le(m),w=D(m,"UL",{class:!0,"data-svelte-h":!0}),ce(w)!=="svelte-rgy7vv"&&(w.innerHTML=q),b=le(m),F=D(m,"H4",{class:!0,"data-svelte-h":!0}),ce(F)!=="svelte-6iwbm5"&&(F.textContent=C),P=Ge(m,`
					The Production Volume Trajectory metric measures how a portfolio’s projected production volumes
					align with climate transition goals. This metric compares companies' five-year capital commitments
					for production to their target production volume trajectories under different climate scenarios.
					It applies to sectors with clear technology pathways, such as oil and gas, coal, automotive,
					and power. This metric focuses on the volume of production, capturing whether companies are
					increasing or decreasing production volumes over time and how that aligns with climate targets.
					For instance, it could track whether a company is scaling back coal production or increasing
					the output of electric vehicles.
					`),O=D(m,"BR",{}),V=D(m,"BR",{}),$=Ge(m,`
					Changes in production volumes can result from:
					`),H=D(m,"UL",{class:!0,"data-svelte-h":!0}),ce(H)!=="svelte-1dbwtap"&&(H.innerHTML=K),M=le(m),R=D(m,"H4",{class:!0,"data-svelte-h":!0}),ce(R)!=="svelte-1mbs71z"&&(R.textContent=W),ue=Ge(m,`
					The Emission Intensity metric measures the carbon intensity of production in sectors where
					clear technology pathways are not yet established, such as steel, cement, and aviation. It
					calculates the CO₂ emissions per unit of output (e.g., CO₂ per ton of steel produced) and compares
					that to the reduction trajectory for emissions intensity set out by a climate scenario for
					the sector. In these sectors, no clear zero-carbon alternatives currently exist, so the Technology
					Share Mix and Production Volume Trajectory metrics are not applicable. However, emissions must
					still be reduced significantly to align with climate goals. The Emission Intensity metric helps
					guide capital allocation toward reducing carbon emissions in these sectors in line with the
					required reduction trajectories, even without clear technology shifts
					`),U=D(m,"BR",{}),ae=D(m,"BR",{}),Q=Ge(m,`
					Each of the three PACTA metrics provides unique insights into how a portfolio aligns with climate
					transition goals. The Technology Share Mix focuses on the distribution of production by technology
					within sectors, offering a current and five-year forward-looking snapshot of relative exposure
					to low- and high-carbon technologies. The Production Volume Trajectory looks at projected production
					volumes and their alignment with climate scenarios, while the Emission Intensity metric addresses
					the carbon intensity of sectors without defined technological pathways. Together, these metrics
					provide a comprehensive view of the portfolio’s alignment with climate transition goals.
					`),fe=D(m,"BR",{}),this.h()},h(){_(a,"class","list-decimal p-4"),_(c,"class","h4"),_(w,"class","list-disc p-4"),_(F,"class","h4"),_(H,"class","list-disc p-4"),_(R,"class","h4")},m(m,X){Z(m,t,X),Z(m,n,X),Z(m,r,X),Z(m,a,X),Z(m,o,X),Z(m,s,X),Z(m,l,X),Z(m,c,X),Z(m,f,X),Z(m,h,X),Z(m,d,X),Z(m,y,X),Z(m,p,X),Z(m,A,X),Z(m,x,X),Z(m,k,X),Z(m,S,X),Z(m,T,X),Z(m,g,X),Z(m,v,X),Z(m,w,X),Z(m,b,X),Z(m,F,X),Z(m,P,X),Z(m,O,X),Z(m,V,X),Z(m,$,X),Z(m,H,X),Z(m,M,X),Z(m,R,X),Z(m,ue,X),Z(m,U,X),Z(m,ae,X),Z(m,Q,X),Z(m,fe,X)},p:ke,d(m){m&&(E(t),E(n),E(r),E(a),E(o),E(s),E(l),E(c),E(f),E(h),E(d),E(y),E(p),E(A),E(x),E(k),E(S),E(T),E(g),E(v),E(w),E(b),E(F),E(P),E(O),E(V),E($),E(H),E(M),E(R),E(ue),E(U),E(ae),E(Q),E(fe))}}}function dc(e){let t;return{c(){t=N("i"),this.h()},l(n){t=D(n,"I",{class:!0}),oe(t).forEach(E),this.h()},h(){_(t,"class","fa-solid fa-building-columns")},m(n,r){Z(n,t,r)},p:ke,d(n){n&&E(t)}}}function mc(e){let t,n="Disclaimers and Limitations of the Analysis";return{c(){t=N("h3"),t.textContent=n,this.h()},l(r){t=D(r,"H3",{class:!0,"data-svelte-h":!0}),ce(t)!=="svelte-1tyffh0"&&(t.textContent=n),this.h()},h(){_(t,"class","h3")},m(r,a){Z(r,t,a)},p:ke,d(r){r&&E(t)}}}function pc(e){let t,n=`<li>Data uploaded from financial institutions: The interactive results provided in this
							analysis depend on the data uploaded by the user. RMI is not responsible for any
							validation or audit of the uploaded data.</li> <li>Climate scenario assumptions: The climate scenarios used present one possible
							manifestation of how the energy transition aligned with different climate targets
							could look like. Even though the necessary actions are not controversial (expansion of
							renewables, retirement of high-carbon technologies), the precise way in which a
							remaining carbon budget is distributed across sectors can be achieved in different
							ways according to different scenarios. Furthermore, different models will include
							different assumptions about the future development and potential of certain
							technologies. This analysis therefore focuses on those technologies that are proven
							and available to the market. As a result, this analysis does not consider investments
							in R&amp;D or private equity, which represent an important way for financial institutions
							to help bring new solutions to the market. Additionally, while scenarios are expected
							to incorporate all socioeconomic considerations, they don’t take into account
							regionally specific policies or regulations. For this reason, it is expected that in
							some technologies alignment may be more difficult or even unfeasible.</li> <li>Asset based company level data used: Although the data is sourced from reliable,
							third-party data providers, errors are possible, either in the production plans
							themselves, or in mapping the ownership structure of a company. Furthermore, planned
							production plans do not necessarily materialize, and production forecasts should be
							interpreted bearing this in mind.</li> <li>Current fund coverage in the PACTA analysis: Whenever institutions report funds in
							their portfolios they are converted into equities and bonds assigned to that fund
							ISIN. To complete this conversion, we rely on external data sources containing
							information on funds and their compositions.</li> <li>Scope of the analysis: PACTA does not cover certain sectors, such as agriculture and
							forestry, even though they are highly relevant for limiting future GHG emissions, due
							to a lack of available data. Furthermore, asset classes such as sovereign bonds or
							private equity are also not included in the analysis.</li> <li>Companies’ plans: Companies’ relative extents of climate alignment are approximated
							using production capacity-based figures, and do not encapsulate R&amp;D investment,
							historical record, lobbying expenditures, etc.</li> <li>Sector classification: PACTA maps asset-based company-level data to financial assets
							considering sector classification provided by our financial data provider. While RMI
							performs quality assurance of data included in the analysis, some companies might
							still be wrongly classified.</li>`;return{c(){t=N("ol"),t.innerHTML=n,this.h()},l(r){t=D(r,"OL",{class:!0,"data-svelte-h":!0}),ce(t)!=="svelte-dx2il3"&&(t.innerHTML=n),this.h()},h(){_(t,"class","list-decimal p-4")},m(r,a){Z(r,t,a)},p:ke,d(r){r&&E(t)}}}function gc(e){let t,n,r,a,i,o,s,l,c,u,f,h;return t=new bn({props:{$$slots:{content:[ec],summary:[$l],lead:[Jl]},$$scope:{ctx:e}}}),r=new bn({props:{$$slots:{content:[rc],summary:[nc],lead:[tc]},$$scope:{ctx:e}}}),i=new bn({props:{$$slots:{content:[oc],summary:[ic],lead:[ac]},$$scope:{ctx:e}}}),s=new bn({props:{$$slots:{content:[cc],summary:[lc],lead:[sc]},$$scope:{ctx:e}}}),c=new bn({props:{$$slots:{content:[hc],summary:[fc],lead:[uc]},$$scope:{ctx:e}}}),f=new bn({props:{$$slots:{content:[pc],summary:[mc],lead:[dc]},$$scope:{ctx:e}}}),{c(){Ze(t.$$.fragment),n=se(),Ze(r.$$.fragment),a=se(),Ze(i.$$.fragment),o=se(),Ze(s.$$.fragment),l=se(),Ze(c.$$.fragment),u=se(),Ze(f.$$.fragment)},l(d){Ke(t.$$.fragment,d),n=le(d),Ke(r.$$.fragment,d),a=le(d),Ke(i.$$.fragment,d),o=le(d),Ke(s.$$.fragment,d),l=le(d),Ke(c.$$.fragment,d),u=le(d),Ke(f.$$.fragment,d)},m(d,y){Qe(t,d,y),Z(d,n,y),Qe(r,d,y),Z(d,a,y),Qe(i,d,y),Z(d,o,y),Qe(s,d,y),Z(d,l,y),Qe(c,d,y),Z(d,u,y),Qe(f,d,y),h=!0},p(d,y){const p={};y&1&&(p.$$scope={dirty:y,ctx:d}),t.$set(p);const A={};y&1&&(A.$$scope={dirty:y,ctx:d}),r.$set(A);const x={};y&1&&(x.$$scope={dirty:y,ctx:d}),i.$set(x);const k={};y&1&&(k.$$scope={dirty:y,ctx:d}),s.$set(k);const S={};y&1&&(S.$$scope={dirty:y,ctx:d}),c.$set(S);const T={};y&1&&(T.$$scope={dirty:y,ctx:d}),f.$set(T)},i(d){h||(ve(t.$$.fragment,d),ve(r.$$.fragment,d),ve(i.$$.fragment,d),ve(s.$$.fragment,d),ve(c.$$.fragment,d),ve(f.$$.fragment,d),h=!0)},o(d){be(t.$$.fragment,d),be(r.$$.fragment,d),be(i.$$.fragment,d),be(s.$$.fragment,d),be(c.$$.fragment,d),be(f.$$.fragment,d),h=!1},d(d){d&&(E(n),E(a),E(o),E(l),E(u)),Je(t,d),Je(r,d),Je(i,d),Je(s,d),Je(c,d),Je(f,d)}}}function yc(e){let t,n=`<div class="card p-8">The <strong>PACTA (Paris Agreement Capital Transition Assessment)</strong> dashboard provides
		a comprehensive view of your organization&#39;s alignment with climate transition goals. It enables
		you to assess the climate-related risks and opportunities within your investments, offering
		insights into how well your portfolio is positioned to align with multiple climate objectives.
		This section provides a high-level overview of the dashboard&#39;s functionalities, setting the
		stage for in-depth analysis across various levels—from portfolio-wide metrics to
		company-specific evaluations. Key features in this section:
		<ul class="list-disc p-4"><li><strong>Overview of the methodology</strong> behind the PACTA analysis;</li> <li><strong>Sector and asset class</strong> coverage in the analysis;</li> <li><strong>Metrics used to assess alignment with climate targets</strong> (e.g., emission intensity,
				future technology)</li></ul>
		To explore more detailed content for each section below, simply click on the titles. A dropdown will
		appear with further explanations and insights for each topic. This allows you to dig deeper into
		the information that matters most to you.</div>`,r,a,i,o,s;return o=new xl({props:{$$slots:{default:[gc]},$$scope:{ctx:e}}}),{c(){t=N("div"),t.innerHTML=n,r=se(),a=N("div"),i=N("div"),Ze(o.$$.fragment),this.h()},l(l){t=D(l,"DIV",{class:!0,"data-svelte-h":!0}),ce(t)!=="svelte-1bgciq1"&&(t.innerHTML=n),r=le(l),a=D(l,"DIV",{class:!0});var c=oe(a);i=D(c,"DIV",{class:!0});var u=oe(i);Ke(o.$$.fragment,u),u.forEach(E),c.forEach(E),this.h()},h(){_(t,"class","p-4"),_(i,"class","card p-8"),_(a,"class","p-4")},m(l,c){Z(l,t,c),Z(l,r,c),Z(l,a,c),B(a,i),Qe(o,i,null),s=!0},p(l,[c]){const u={};c&1&&(u.$$scope={dirty:c,ctx:l}),o.$set(u)},i(l){s||(ve(o.$$.fragment,l),s=!0)},o(l){be(o.$$.fragment,l),s=!1},d(l){l&&(E(t),E(r),E(a)),Je(o)}}}class vc extends Vt{constructor(t){super(),zt(this,t,null,yc,Ut,{})}}const Aa=[{sector:"Power",tech_order:["RenewablesCap","HydroCap","NuclearCap","GasCap","OilCap","CoalCap"]},{sector:"Automotive",tech_order:["Electric","Electric_HDV","FuelCell","FuelCell_HDV","Hybrid","Hybrid_HDV","ICE","ICE_HDV"]},{sector:"Oil&Gas",tech_order:["Gas","Oil"]},{sector:"Coal",tech_order:["Coal"]},{sector:"Fossil Fuels",tech_order:["Gas","Oil","Coal"]},{sector:"Cement",tech_order:["Integrated facility","Grinding"]},{sector:"Steel",tech_order:["Electric Arc Furnace","Open Hearth Furnace","Basic Oxygen Furnace"]},{sector:"Aviation",tech_order:["Freight","Passenger","Mix","Other"]}];function Yo(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function _c(e){return e.length===1&&(e=bc(e)),{left:function(t,n,r,a){for(r==null&&(r=0),a==null&&(a=t.length);r<a;){var i=r+a>>>1;e(t[i],n)<0?r=i+1:a=i}return r},right:function(t,n,r,a){for(r==null&&(r=0),a==null&&(a=t.length);r<a;){var i=r+a>>>1;e(t[i],n)>0?a=i:r=i+1}return r}}}function bc(e){return function(t,n){return Yo(e(t),n)}}_c(Yo);function xc(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function wc(e){return e===null?NaN:+e}function Gt(e,t){var n=e.length,r=-1,a,i,o;if(t==null){for(;++r<n;)if((a=e[r])!=null&&a>=a)for(i=o=a;++r<n;)(a=e[r])!=null&&(i>a&&(i=a),o<a&&(o=a))}else for(;++r<n;)if((a=t(e[r],r,e))!=null&&a>=a)for(i=o=a;++r<n;)(a=t(e[r],r,e))!=null&&(i>a&&(i=a),o<a&&(o=a));return[i,o]}function Za(e,t){var n=e.length,r=-1,a,i;if(t==null){for(;++r<n;)if((a=e[r])!=null&&a>=a)for(i=a;++r<n;)(a=e[r])!=null&&a>i&&(i=a)}else for(;++r<n;)if((a=t(e[r],r,e))!=null&&a>=a)for(i=a;++r<n;)(a=t(e[r],r,e))!=null&&a>i&&(i=a);return i}function kc(e,t){for(var n=e.length,r=n,a=-1,i,o=0;++a<n;)isNaN(i=wc(e[a]))?--r:o+=i;if(r)return o/r}function Cc(e,t){var n=e.length,r=-1,a,i;if(t==null){for(;++r<n;)if((a=e[r])!=null&&a>=a)for(i=a;++r<n;)(a=e[r])!=null&&i>a&&(i=a)}else for(;++r<n;)if((a=t(e[r],r,e))!=null&&a>=a)for(i=a;++r<n;)(a=t(e[r],r,e))!=null&&i>a&&(i=a);return i}function Rr(e,t){var n=e.length,r=-1,a,i=0;if(t==null)for(;++r<n;)(a=+e[r])&&(i+=a);else for(;++r<n;)(a=+t(e[r],r,e))&&(i+=a);return i}function Tc(e){if(!(i=e.length))return[];for(var t=-1,n=Cc(e,Sc),r=new Array(n);++t<n;)for(var a=-1,i,o=r[t]=new Array(i);++a<i;)o[a]=e[a][t];return r}function Sc(e){return e.length}function Ac(){return Tc(arguments)}var da=Array.prototype.slice;function Mc(e){return e}var Er=1,Pr=2,Ma=3,jn=4,Bi=1e-6;function Ec(e){return"translate("+(e+.5)+",0)"}function Pc(e){return"translate(0,"+(e+.5)+")"}function Lc(e){return function(t){return+e(t)}}function qc(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(n){return+e(n)+t}}function Nc(){return!this.__axis}function na(e,t){var n=[],r=null,a=null,i=6,o=6,s=3,l=e===Er||e===jn?-1:1,c=e===jn||e===Pr?"x":"y",u=e===Er||e===Ma?Ec:Pc;function f(h){var d=r??(t.ticks?t.ticks.apply(t,n):t.domain()),y=a??(t.tickFormat?t.tickFormat.apply(t,n):Mc),p=Math.max(i,0)+s,A=t.range(),x=+A[0]+.5,k=+A[A.length-1]+.5,S=(t.bandwidth?qc:Lc)(t.copy()),T=h.selection?h.selection():h,g=T.selectAll(".domain").data([null]),v=T.selectAll(".tick").data(d,t).order(),w=v.exit(),q=v.enter().append("g").attr("class","tick"),b=v.select("line"),F=v.select("text");g=g.merge(g.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),v=v.merge(q),b=b.merge(q.append("line").attr("stroke","currentColor").attr(c+"2",l*i)),F=F.merge(q.append("text").attr("fill","currentColor").attr(c,l*p).attr("dy",e===Er?"0em":e===Ma?"0.71em":"0.32em")),h!==T&&(g=g.transition(h),v=v.transition(h),b=b.transition(h),F=F.transition(h),w=w.transition(h).attr("opacity",Bi).attr("transform",function(C){return isFinite(C=S(C))?u(C):this.getAttribute("transform")}),q.attr("opacity",Bi).attr("transform",function(C){var P=this.parentNode.__axis;return u(P&&isFinite(P=P(C))?P:S(C))})),w.remove(),g.attr("d",e===jn||e==Pr?o?"M"+l*o+","+x+"H0.5V"+k+"H"+l*o:"M0.5,"+x+"V"+k:o?"M"+x+","+l*o+"V0.5H"+k+"V"+l*o:"M"+x+",0.5H"+k),v.attr("opacity",1).attr("transform",function(C){return u(S(C))}),b.attr(c+"2",l*i),F.attr(c,l*p).text(y),T.filter(Nc).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Pr?"start":e===jn?"end":"middle"),T.each(function(){this.__axis=S})}return f.scale=function(h){return arguments.length?(t=h,f):t},f.ticks=function(){return n=da.call(arguments),f},f.tickArguments=function(h){return arguments.length?(n=h==null?[]:da.call(h),f):n.slice()},f.tickValues=function(h){return arguments.length?(r=h==null?null:da.call(h),f):r&&r.slice()},f.tickFormat=function(h){return arguments.length?(a=h,f):a},f.tickSize=function(h){return arguments.length?(i=o=+h,f):i},f.tickSizeInner=function(h){return arguments.length?(i=+h,f):i},f.tickSizeOuter=function(h){return arguments.length?(o=+h,f):o},f.tickPadding=function(h){return arguments.length?(s=+h,f):s},f}function Dc(e){return na(Er,e)}function Wo(e){return na(Pr,e)}function on(e){return na(Ma,e)}function Pn(e){return na(jn,e)}var Ic={value:function(){}};function Go(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Lr(n)}function Lr(e){this._=e}function Rc(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Lr.prototype=Go.prototype={constructor:Lr,on:function(e,t){var n=this._,r=Rc(e+"",n),a,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((a=(e=r[i]).type)&&(a=Oc(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(a=(e=r[i]).type)n[a]=Ui(n[a],e.name,t);else if(t==null)for(a in n)n[a]=Ui(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Lr(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,i;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,a=i.length;r<a;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,i=r.length;a<i;++a)r[a].value.apply(t,n)}};function Oc(e,t){for(var n=0,r=e.length,a;n<r;++n)if((a=e[n]).name===t)return a.value}function Ui(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=Ic,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ea="http://www.w3.org/1999/xhtml";const Vi={svg:"http://www.w3.org/2000/svg",xhtml:Ea,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ra(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Vi.hasOwnProperty(t)?{space:Vi[t],local:e}:e}function Hc(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ea&&t.documentElement.namespaceURI===Ea?t.createElement(e):t.createElementNS(n,e)}}function Fc(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function jo(e){var t=ra(e);return(t.local?Fc:Hc)(t)}function Bc(){}function Ka(e){return e==null?Bc:function(){return this.querySelector(e)}}function Uc(e){typeof e!="function"&&(e=Ka(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i=t[a],o=i.length,s=r[a]=new Array(o),l,c,u=0;u<o;++u)(l=i[u])&&(c=e.call(l,l.__data__,u,i))&&("__data__"in l&&(c.__data__=l.__data__),s[u]=c);return new mt(r,this._parents)}function Vc(){return[]}function Xo(e){return e==null?Vc:function(){return this.querySelectorAll(e)}}function zc(e){typeof e!="function"&&(e=Xo(e));for(var t=this._groups,n=t.length,r=[],a=[],i=0;i<n;++i)for(var o=t[i],s=o.length,l,c=0;c<s;++c)(l=o[c])&&(r.push(e.call(l,l.__data__,c,o)),a.push(l));return new mt(r,a)}function Zo(e){return function(){return this.matches(e)}}function Yc(e){typeof e!="function"&&(e=Zo(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i=t[a],o=i.length,s=r[a]=[],l,c=0;c<o;++c)(l=i[c])&&e.call(l,l.__data__,c,i)&&s.push(l);return new mt(r,this._parents)}function Ko(e){return new Array(e.length)}function Wc(){return new mt(this._enter||this._groups.map(Ko),this._parents)}function Or(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Or.prototype={constructor:Or,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Gc(e){return function(){return e}}var zi="$";function jc(e,t,n,r,a,i){for(var o=0,s,l=t.length,c=i.length;o<c;++o)(s=t[o])?(s.__data__=i[o],r[o]=s):n[o]=new Or(e,i[o]);for(;o<l;++o)(s=t[o])&&(a[o]=s)}function Xc(e,t,n,r,a,i,o){var s,l,c={},u=t.length,f=i.length,h=new Array(u),d;for(s=0;s<u;++s)(l=t[s])&&(h[s]=d=zi+o.call(l,l.__data__,s,t),d in c?a[s]=l:c[d]=l);for(s=0;s<f;++s)d=zi+o.call(e,i[s],s,i),(l=c[d])?(r[s]=l,l.__data__=i[s],c[d]=null):n[s]=new Or(e,i[s]);for(s=0;s<u;++s)(l=t[s])&&c[h[s]]===l&&(a[s]=l)}function Zc(e,t){if(!e)return d=new Array(this.size()),c=-1,this.each(function(v){d[++c]=v}),d;var n=t?Xc:jc,r=this._parents,a=this._groups;typeof e!="function"&&(e=Gc(e));for(var i=a.length,o=new Array(i),s=new Array(i),l=new Array(i),c=0;c<i;++c){var u=r[c],f=a[c],h=f.length,d=e.call(u,u&&u.__data__,c,r),y=d.length,p=s[c]=new Array(y),A=o[c]=new Array(y),x=l[c]=new Array(h);n(u,f,p,A,x,d,t);for(var k=0,S=0,T,g;k<y;++k)if(T=p[k]){for(k>=S&&(S=k+1);!(g=A[S])&&++S<y;);T._next=g||null}}return o=new mt(o,r),o._enter=s,o._exit=l,o}function Kc(){return new mt(this._exit||this._groups.map(Ko),this._parents)}function Qc(e,t,n){var r=this.enter(),a=this,i=this.exit();return r=typeof e=="function"?e(r):r.append(e+""),t!=null&&(a=t(a)),n==null?i.remove():n(i),r&&a?r.merge(a).order():a}function Jc(e){for(var t=this._groups,n=e._groups,r=t.length,a=n.length,i=Math.min(r,a),o=new Array(r),s=0;s<i;++s)for(var l=t[s],c=n[s],u=l.length,f=o[s]=new Array(u),h,d=0;d<u;++d)(h=l[d]||c[d])&&(f[d]=h);for(;s<r;++s)o[s]=t[s];return new mt(o,this._parents)}function $c(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],a=r.length-1,i=r[a],o;--a>=0;)(o=r[a])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function eu(e){e||(e=tu);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i){for(var o=n[i],s=o.length,l=a[i]=new Array(s),c,u=0;u<s;++u)(c=o[u])&&(l[u]=c);l.sort(t)}return new mt(a,this._parents).order()}function tu(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function nu(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ru(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}function au(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,i=r.length;a<i;++a){var o=r[a];if(o)return o}return null}function iu(){var e=0;return this.each(function(){++e}),e}function ou(){return!this.node()}function su(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a=t[n],i=0,o=a.length,s;i<o;++i)(s=a[i])&&e.call(s,s.__data__,i,a);return this}function lu(e){return function(){this.removeAttribute(e)}}function cu(e){return function(){this.removeAttributeNS(e.space,e.local)}}function uu(e,t){return function(){this.setAttribute(e,t)}}function fu(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function hu(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function du(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function mu(e,t){var n=ra(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?cu:lu:typeof t=="function"?n.local?du:hu:n.local?fu:uu)(n,t))}function Qo(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function pu(e){return function(){this.style.removeProperty(e)}}function gu(e,t,n){return function(){this.style.setProperty(e,t,n)}}function yu(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function vu(e,t,n){return arguments.length>1?this.each((t==null?pu:typeof t=="function"?yu:gu)(e,t,n??"")):Ln(this.node(),e)}function Ln(e,t){return e.style.getPropertyValue(t)||Qo(e).getComputedStyle(e,null).getPropertyValue(t)}function _u(e){return function(){delete this[e]}}function bu(e,t){return function(){this[e]=t}}function xu(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function wu(e,t){return arguments.length>1?this.each((t==null?_u:typeof t=="function"?xu:bu)(e,t)):this.node()[e]}function Jo(e){return e.trim().split(/^|\s+/)}function Qa(e){return e.classList||new $o(e)}function $o(e){this._node=e,this._names=Jo(e.getAttribute("class")||"")}$o.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function es(e,t){for(var n=Qa(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function ts(e,t){for(var n=Qa(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function ku(e){return function(){es(this,e)}}function Cu(e){return function(){ts(this,e)}}function Tu(e,t){return function(){(t.apply(this,arguments)?es:ts)(this,e)}}function Su(e,t){var n=Jo(e+"");if(arguments.length<2){for(var r=Qa(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?Tu:t?ku:Cu)(n,t))}function Au(){this.textContent=""}function Mu(e){return function(){this.textContent=e}}function Eu(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Pu(e){return arguments.length?this.each(e==null?Au:(typeof e=="function"?Eu:Mu)(e)):this.node().textContent}function Lu(){this.innerHTML=""}function qu(e){return function(){this.innerHTML=e}}function Nu(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Du(e){return arguments.length?this.each(e==null?Lu:(typeof e=="function"?Nu:qu)(e)):this.node().innerHTML}function Iu(){this.nextSibling&&this.parentNode.appendChild(this)}function Ru(){return this.each(Iu)}function Ou(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Hu(){return this.each(Ou)}function Fu(e){var t=typeof e=="function"?e:jo(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Bu(){return null}function Uu(e,t){var n=typeof e=="function"?e:jo(e),r=t==null?Bu:typeof t=="function"?t:Ka(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Vu(){var e=this.parentNode;e&&e.removeChild(this)}function zu(){return this.each(Vu)}function Yu(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Wu(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Gu(e){return this.select(e?Wu:Yu)}function ju(e){return arguments.length?this.property("__data__",e):this.node().__data__}var ns={},Pe=null;if(typeof document<"u"){var Xu=document.documentElement;"onmouseenter"in Xu||(ns={mouseenter:"mouseover",mouseleave:"mouseout"})}function Zu(e,t,n){return e=rs(e,t,n),function(r){var a=r.relatedTarget;(!a||a!==this&&!(a.compareDocumentPosition(this)&8))&&e.call(this,r)}}function rs(e,t,n){return function(r){var a=Pe;Pe=r;try{e.call(this,this.__data__,t,n)}finally{Pe=a}}}function Ku(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Qu(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,a=t.length,i;n<a;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.capture):t[++r]=i;++r?t.length=r:delete this.__on}}}function Ju(e,t,n){var r=ns.hasOwnProperty(e.type)?Zu:rs;return function(a,i,o){var s=this.__on,l,c=r(t,i,o);if(s){for(var u=0,f=s.length;u<f;++u)if((l=s[u]).type===e.type&&l.name===e.name){this.removeEventListener(l.type,l.listener,l.capture),this.addEventListener(l.type,l.listener=c,l.capture=n),l.value=t;return}}this.addEventListener(e.type,c,n),l={type:e.type,name:e.name,value:t,listener:c,capture:n},s?s.push(l):this.__on=[l]}}function $u(e,t,n){var r=Ku(e+""),a,i=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,u;l<c;++l)for(a=0,u=s[l];a<i;++a)if((o=r[a]).type===u.type&&o.name===u.name)return u.value}return}for(s=t?Ju:Qu,n==null&&(n=!1),a=0;a<i;++a)this.each(s(r[a],t,n));return this}function as(e,t,n){var r=Qo(e),a=r.CustomEvent;typeof a=="function"?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function ef(e,t){return function(){return as(this,e,t)}}function tf(e,t){return function(){return as(this,e,t.apply(this,arguments))}}function nf(e,t){return this.each((typeof t=="function"?tf:ef)(e,t))}var is=[null];function mt(e,t){this._groups=e,this._parents=t}function hr(){return new mt([[document.documentElement]],is)}mt.prototype=hr.prototype={constructor:mt,select:Uc,selectAll:zc,filter:Yc,data:Zc,enter:Wc,exit:Kc,join:Qc,merge:Jc,order:$c,sort:eu,call:nu,nodes:ru,node:au,size:iu,empty:ou,each:su,attr:mu,style:vu,property:wu,classed:Su,text:Pu,html:Du,raise:Ru,lower:Hu,append:Fu,insert:Uu,remove:zu,clone:Gu,datum:ju,on:$u,dispatch:nf};function Ee(e){return typeof e=="string"?new mt([[document.querySelector(e)]],[document.documentElement]):new mt([[e]],is)}function Ja(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function os(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function dr(){}var tr=.7,Hr=1/tr,Tn="\\s*([+-]?\\d+)\\s*",nr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Et="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rf=/^#([0-9a-f]{3,8})$/,af=new RegExp("^rgb\\("+[Tn,Tn,Tn]+"\\)$"),of=new RegExp("^rgb\\("+[Et,Et,Et]+"\\)$"),sf=new RegExp("^rgba\\("+[Tn,Tn,Tn,nr]+"\\)$"),lf=new RegExp("^rgba\\("+[Et,Et,Et,nr]+"\\)$"),cf=new RegExp("^hsl\\("+[nr,Et,Et]+"\\)$"),uf=new RegExp("^hsla\\("+[nr,Et,Et,nr]+"\\)$"),Yi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ja(dr,rr,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Wi,formatHex:Wi,formatHsl:ff,formatRgb:Gi,toString:Gi});function Wi(){return this.rgb().formatHex()}function ff(){return ss(this).formatHsl()}function Gi(){return this.rgb().formatRgb()}function rr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=rf.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ji(t):n===3?new ht(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?kr(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?kr(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=af.exec(e))?new ht(t[1],t[2],t[3],1):(t=of.exec(e))?new ht(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=sf.exec(e))?kr(t[1],t[2],t[3],t[4]):(t=lf.exec(e))?kr(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=cf.exec(e))?Ki(t[1],t[2]/100,t[3]/100,1):(t=uf.exec(e))?Ki(t[1],t[2]/100,t[3]/100,t[4]):Yi.hasOwnProperty(e)?ji(Yi[e]):e==="transparent"?new ht(NaN,NaN,NaN,0):null}function ji(e){return new ht(e>>16&255,e>>8&255,e&255,1)}function kr(e,t,n,r){return r<=0&&(e=t=n=NaN),new ht(e,t,n,r)}function hf(e){return e instanceof dr||(e=rr(e)),e?(e=e.rgb(),new ht(e.r,e.g,e.b,e.opacity)):new ht}function Fr(e,t,n,r){return arguments.length===1?hf(e):new ht(e,t,n,r??1)}function ht(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ja(ht,Fr,os(dr,{brighter:function(e){return e=e==null?Hr:Math.pow(Hr,e),new ht(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?tr:Math.pow(tr,e),new ht(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xi,formatHex:Xi,formatRgb:Zi,toString:Zi}));function Xi(){return"#"+ma(this.r)+ma(this.g)+ma(this.b)}function Zi(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function ma(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function Ki(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new St(e,t,n,r)}function ss(e){if(e instanceof St)return new St(e.h,e.s,e.l,e.opacity);if(e instanceof dr||(e=rr(e)),!e)return new St;if(e instanceof St)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(n-r)/s+(n<r)*6:n===i?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new St(o,s,l,e.opacity)}function df(e,t,n,r){return arguments.length===1?ss(e):new St(e,t,n,r??1)}function St(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ja(St,df,os(dr,{brighter:function(e){return e=e==null?Hr:Math.pow(Hr,e),new St(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?tr:Math.pow(tr,e),new St(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new ht(pa(e>=240?e-240:e+120,a,r),pa(e,a,r),pa(e<120?e+240:e-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function pa(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function mf(e,t,n,r,a){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*n+(1+3*e+3*i-3*o)*r+o*a)/6}function pf(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],i=e[r+1],o=r>0?e[r-1]:2*a-i,s=r<t-1?e[r+2]:2*i-a;return mf((n-r/t)*t,o,a,i,s)}}function $a(e){return function(){return e}}function gf(e,t){return function(n){return e+n*t}}function yf(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function vf(e){return(e=+e)==1?ls:function(t,n){return n-t?yf(t,n,e):$a(isNaN(t)?n:t)}}function ls(e,t){var n=t-e;return n?gf(e,n):$a(isNaN(e)?t:e)}const Br=function e(t){var n=vf(t);function r(a,i){var o=n((a=Fr(a)).r,(i=Fr(i)).r),s=n(a.g,i.g),l=n(a.b,i.b),c=ls(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=s(u),a.b=l(u),a.opacity=c(u),a+""}}return r.gamma=e,r}(1);function _f(e){return function(t){var n=t.length,r=new Array(n),a=new Array(n),i=new Array(n),o,s;for(o=0;o<n;++o)s=Fr(t[o]),r[o]=s.r||0,a[o]=s.g||0,i[o]=s.b||0;return r=e(r),a=e(a),i=e(i),s.opacity=1,function(l){return s.r=r(l),s.g=a(l),s.b=i(l),s+""}}}var bf=_f(pf);function xf(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function wf(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function kf(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=ei(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(s){for(o=0;o<r;++o)i[o]=a[o](s);return i}}function Cf(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function wt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Tf(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=ei(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var Pa=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ga=new RegExp(Pa.source,"g");function Sf(e){return function(){return e}}function Af(e){return function(t){return e(t)+""}}function cs(e,t){var n=Pa.lastIndex=ga.lastIndex=0,r,a,i,o=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Pa.exec(e))&&(a=ga.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:wt(r,a)})),n=ga.lastIndex;return n<t.length&&(i=t.slice(n),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?Af(l[0].x):Sf(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)s[(f=l[u]).i]=f.x(c);return s.join("")})}function ei(e,t){var n=typeof t,r;return t==null||n==="boolean"?$a(t):(n==="number"?wt:n==="string"?(r=rr(t))?(t=r,Br):cs:t instanceof rr?Br:t instanceof Date?Cf:wf(t)?xf:Array.isArray(t)?kf:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Tf:wt)(e,t)}function Mf(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Qi=180/Math.PI,La={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function us(e,t,n,r,a,i){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(t,e)*Qi,skewX:Math.atan(l)*Qi,scaleX:o,scaleY:s}}var Hn,ya,Ji,Cr;function Ef(e){return e==="none"?La:(Hn||(Hn=document.createElement("DIV"),ya=document.documentElement,Ji=document.defaultView),Hn.style.transform=e,e=Ji.getComputedStyle(ya.appendChild(Hn),null).getPropertyValue("transform"),ya.removeChild(Hn),e=e.slice(7,-1).split(","),us(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function Pf(e){return e==null||(Cr||(Cr=document.createElementNS("http://www.w3.org/2000/svg","g")),Cr.setAttribute("transform",e),!(e=Cr.transform.baseVal.consolidate()))?La:(e=e.matrix,us(e.a,e.b,e.c,e.d,e.e,e.f))}function fs(e,t,n,r){function a(c){return c.length?c.pop()+" ":""}function i(c,u,f,h,d,y){if(c!==f||u!==h){var p=d.push("translate(",null,t,null,n);y.push({i:p-4,x:wt(c,f)},{i:p-2,x:wt(u,h)})}else(f||h)&&d.push("translate("+f+t+h+n)}function o(c,u,f,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:f.push(a(f)+"rotate(",null,r)-2,x:wt(c,u)})):u&&f.push(a(f)+"rotate("+u+r)}function s(c,u,f,h){c!==u?h.push({i:f.push(a(f)+"skewX(",null,r)-2,x:wt(c,u)}):u&&f.push(a(f)+"skewX("+u+r)}function l(c,u,f,h,d,y){if(c!==f||u!==h){var p=d.push(a(d)+"scale(",null,",",null,")");y.push({i:p-4,x:wt(c,f)},{i:p-2,x:wt(u,h)})}else(f!==1||h!==1)&&d.push(a(d)+"scale("+f+","+h+")")}return function(c,u){var f=[],h=[];return c=e(c),u=e(u),i(c.translateX,c.translateY,u.translateX,u.translateY,f,h),o(c.rotate,u.rotate,f,h),s(c.skewX,u.skewX,f,h),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,f,h),c=u=null,function(d){for(var y=-1,p=h.length,A;++y<p;)f[(A=h[y]).i]=A.x(d);return f.join("")}}}var Lf=fs(Ef,"px, ","px)","deg)"),qf=fs(Pf,", ",")",")"),qn=0,Xn=0,Fn=0,hs=1e3,Ur,Zn,Vr=0,sn=0,aa=0,ar=typeof performance=="object"&&performance.now?performance:Date,ds=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ia(){return sn||(ds(Nf),sn=ar.now()+aa)}function Nf(){sn=0}function zr(){this._call=this._time=this._next=null}zr.prototype=ms.prototype={constructor:zr,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ia():+n)+(t==null?0:+t),!this._next&&Zn!==this&&(Zn?Zn._next=this:Ur=this,Zn=this),this._call=e,this._time=n,qa()},stop:function(){this._call&&(this._call=null,this._time=1/0,qa())}};function ms(e,t,n){var r=new zr;return r.restart(e,t,n),r}function Df(){ia(),++qn;for(var e=Ur,t;e;)(t=sn-e._time)>=0&&e._call.call(null,t),e=e._next;--qn}function $i(){sn=(Vr=ar.now())+aa,qn=Xn=0;try{Df()}finally{qn=0,Rf(),sn=0}}function If(){var e=ar.now(),t=e-Vr;t>hs&&(aa-=t,Vr=e)}function Rf(){for(var e,t=Ur,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ur=n);Zn=e,qa(r)}function qa(e){if(!qn){Xn&&(Xn=clearTimeout(Xn));var t=e-sn;t>24?(e<1/0&&(Xn=setTimeout($i,e-ar.now()-aa)),Fn&&(Fn=clearInterval(Fn))):(Fn||(Vr=ar.now(),Fn=setInterval(If,hs)),qn=1,ds($i))}}function eo(e,t,n){var r=new zr;return t=t==null?0:+t,r.restart(function(a){r.stop(),e(a+t)},t,n),r}var Of=Go("start","end","cancel","interrupt"),Hf=[],ps=0,to=1,Na=2,qr=3,no=4,Da=5,Nr=6;function oa(e,t,n,r,a,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;Ff(e,n,{name:t,index:r,group:a,on:Of,tween:Hf,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:ps})}function ti(e,t){var n=kt(e,t);if(n.state>ps)throw new Error("too late; already scheduled");return n}function Yt(e,t){var n=kt(e,t);if(n.state>qr)throw new Error("too late; already running");return n}function kt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Ff(e,t,n){var r=e.__transition,a;r[t]=n,n.timer=ms(i,0,n.time);function i(c){n.state=to,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var u,f,h,d;if(n.state!==to)return l();for(u in r)if(d=r[u],d.name===n.name){if(d.state===qr)return eo(o);d.state===no?(d.state=Nr,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete r[u]):+u<t&&(d.state=Nr,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete r[u])}if(eo(function(){n.state===qr&&(n.state=no,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=Na,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Na){for(n.state=qr,a=new Array(h=n.tween.length),u=0,f=-1;u<h;++u)(d=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(a[++f]=d);a.length=f+1}}function s(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=Da,1),f=-1,h=a.length;++f<h;)a[f].call(e,u);n.state===Da&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Nr,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function Bf(e,t){var n=e.__transition,r,a,i=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){i=!1;continue}a=r.state>Na&&r.state<Da,r.state=Nr,r.timer.stop(),r.on.call(a?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}i&&delete e.__transition}}function Uf(e){return this.each(function(){Bf(this,e)})}function Vf(e,t){var n,r;return function(){var a=Yt(this,e),i=a.tween;if(i!==n){r=n=i;for(var o=0,s=r.length;o<s;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}a.tween=r}}function zf(e,t,n){var r,a;if(typeof n!="function")throw new Error;return function(){var i=Yt(this,e),o=i.tween;if(o!==r){a=(r=o).slice();for(var s={name:t,value:n},l=0,c=a.length;l<c;++l)if(a[l].name===t){a[l]=s;break}l===c&&a.push(s)}i.tween=a}}function Yf(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=kt(this.node(),n).tween,a=0,i=r.length,o;a<i;++a)if((o=r[a]).name===e)return o.value;return null}return this.each((t==null?Vf:zf)(n,e,t))}function ni(e,t,n){var r=e._id;return e.each(function(){var a=Yt(this,r);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return kt(a,r).value[t]}}function ri(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function gs(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function mr(){}var ir=.7,Yr=1/ir,Sn="\\s*([+-]?\\d+)\\s*",or="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Wf=/^#([0-9a-f]{3,8})$/,Gf=new RegExp("^rgb\\("+[Sn,Sn,Sn]+"\\)$"),jf=new RegExp("^rgb\\("+[Pt,Pt,Pt]+"\\)$"),Xf=new RegExp("^rgba\\("+[Sn,Sn,Sn,or]+"\\)$"),Zf=new RegExp("^rgba\\("+[Pt,Pt,Pt,or]+"\\)$"),Kf=new RegExp("^hsl\\("+[or,Pt,Pt]+"\\)$"),Qf=new RegExp("^hsla\\("+[or,Pt,Pt,or]+"\\)$"),ro={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ri(mr,sr,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:ao,formatHex:ao,formatHsl:Jf,formatRgb:io,toString:io});function ao(){return this.rgb().formatHex()}function Jf(){return ys(this).formatHsl()}function io(){return this.rgb().formatRgb()}function sr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Wf.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?oo(t):n===3?new dt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Tr(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Tr(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Gf.exec(e))?new dt(t[1],t[2],t[3],1):(t=jf.exec(e))?new dt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Xf.exec(e))?Tr(t[1],t[2],t[3],t[4]):(t=Zf.exec(e))?Tr(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Kf.exec(e))?co(t[1],t[2]/100,t[3]/100,1):(t=Qf.exec(e))?co(t[1],t[2]/100,t[3]/100,t[4]):ro.hasOwnProperty(e)?oo(ro[e]):e==="transparent"?new dt(NaN,NaN,NaN,0):null}function oo(e){return new dt(e>>16&255,e>>8&255,e&255,1)}function Tr(e,t,n,r){return r<=0&&(e=t=n=NaN),new dt(e,t,n,r)}function $f(e){return e instanceof mr||(e=sr(e)),e?(e=e.rgb(),new dt(e.r,e.g,e.b,e.opacity)):new dt}function eh(e,t,n,r){return arguments.length===1?$f(e):new dt(e,t,n,r??1)}function dt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ri(dt,eh,gs(mr,{brighter:function(e){return e=e==null?Yr:Math.pow(Yr,e),new dt(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?ir:Math.pow(ir,e),new dt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:so,formatHex:so,formatRgb:lo,toString:lo}));function so(){return"#"+va(this.r)+va(this.g)+va(this.b)}function lo(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function va(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function co(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new At(e,t,n,r)}function ys(e){if(e instanceof At)return new At(e.h,e.s,e.l,e.opacity);if(e instanceof mr||(e=sr(e)),!e)return new At;if(e instanceof At)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(n-r)/s+(n<r)*6:n===i?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new At(o,s,l,e.opacity)}function th(e,t,n,r){return arguments.length===1?ys(e):new At(e,t,n,r??1)}function At(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ri(At,th,gs(mr,{brighter:function(e){return e=e==null?Yr:Math.pow(Yr,e),new At(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?ir:Math.pow(ir,e),new At(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new dt(_a(e>=240?e-240:e+120,a,r),_a(e,a,r),_a(e<120?e+240:e-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function _a(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function vs(e,t){var n;return(typeof t=="number"?wt:t instanceof sr?Br:(n=sr(t))?(t=n,Br):cs)(e,t)}function nh(e){return function(){this.removeAttribute(e)}}function rh(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ah(e,t,n){var r,a=n+"",i;return function(){var o=this.getAttribute(e);return o===a?null:o===r?i:i=t(r=o,n)}}function ih(e,t,n){var r,a=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?i:i=t(r=o,n)}}function oh(e,t,n){var r,a,i;return function(){var o,s=n(this),l;return s==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=s+"",o===l?null:o===r&&l===a?i:(a=l,i=t(r=o,s)))}}function sh(e,t,n){var r,a,i;return function(){var o,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=s+"",o===l?null:o===r&&l===a?i:(a=l,i=t(r=o,s)))}}function lh(e,t){var n=ra(e),r=n==="transform"?qf:vs;return this.attrTween(e,typeof t=="function"?(n.local?sh:oh)(n,r,ni(this,"attr."+e,t)):t==null?(n.local?rh:nh)(n):(n.local?ih:ah)(n,r,t))}function ch(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function uh(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function fh(e,t){var n,r;function a(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&uh(e,i)),n}return a._value=t,a}function hh(e,t){var n,r;function a(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&ch(e,i)),n}return a._value=t,a}function dh(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=ra(e);return this.tween(n,(r.local?fh:hh)(r,t))}function mh(e,t){return function(){ti(this,e).delay=+t.apply(this,arguments)}}function ph(e,t){return t=+t,function(){ti(this,e).delay=t}}function gh(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?mh:ph)(t,e)):kt(this.node(),t).delay}function yh(e,t){return function(){Yt(this,e).duration=+t.apply(this,arguments)}}function vh(e,t){return t=+t,function(){Yt(this,e).duration=t}}function _h(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?yh:vh)(t,e)):kt(this.node(),t).duration}function bh(e,t){if(typeof t!="function")throw new Error;return function(){Yt(this,e).ease=t}}function xh(e){var t=this._id;return arguments.length?this.each(bh(t,e)):kt(this.node(),t).ease}function wh(e){typeof e!="function"&&(e=Zo(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i=t[a],o=i.length,s=r[a]=[],l,c=0;c<o;++c)(l=i[c])&&e.call(l,l.__data__,c,i)&&s.push(l);return new Bt(r,this._parents,this._name,this._id)}function kh(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,i=Math.min(r,a),o=new Array(r),s=0;s<i;++s)for(var l=t[s],c=n[s],u=l.length,f=o[s]=new Array(u),h,d=0;d<u;++d)(h=l[d]||c[d])&&(f[d]=h);for(;s<r;++s)o[s]=t[s];return new Bt(o,this._parents,this._name,this._id)}function Ch(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Th(e,t,n){var r,a,i=Ch(t)?ti:Yt;return function(){var o=i(this,e),s=o.on;s!==r&&(a=(r=s).copy()).on(t,n),o.on=a}}function Sh(e,t){var n=this._id;return arguments.length<2?kt(this.node(),n).on.on(e):this.each(Th(n,e,t))}function Ah(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Mh(){return this.on("end.remove",Ah(this._id))}function Eh(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ka(e));for(var r=this._groups,a=r.length,i=new Array(a),o=0;o<a;++o)for(var s=r[o],l=s.length,c=i[o]=new Array(l),u,f,h=0;h<l;++h)(u=s[h])&&(f=e.call(u,u.__data__,h,s))&&("__data__"in u&&(f.__data__=u.__data__),c[h]=f,oa(c[h],t,n,h,c,kt(u,n)));return new Bt(i,this._parents,t,n)}function Ph(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Xo(e));for(var r=this._groups,a=r.length,i=[],o=[],s=0;s<a;++s)for(var l=r[s],c=l.length,u,f=0;f<c;++f)if(u=l[f]){for(var h=e.call(u,u.__data__,f,l),d,y=kt(u,n),p=0,A=h.length;p<A;++p)(d=h[p])&&oa(d,t,n,p,h,y);i.push(h),o.push(u)}return new Bt(i,o,t,n)}var Lh=hr.prototype.constructor;function qh(){return new Lh(this._groups,this._parents)}function Nh(e,t){var n,r,a;return function(){var i=Ln(this,e),o=(this.style.removeProperty(e),Ln(this,e));return i===o?null:i===n&&o===r?a:a=t(n=i,r=o)}}function _s(e){return function(){this.style.removeProperty(e)}}function Dh(e,t,n){var r,a=n+"",i;return function(){var o=Ln(this,e);return o===a?null:o===r?i:i=t(r=o,n)}}function Ih(e,t,n){var r,a,i;return function(){var o=Ln(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),Ln(this,e))),o===l?null:o===r&&l===a?i:(a=l,i=t(r=o,s))}}function Rh(e,t){var n,r,a,i="style."+t,o="end."+i,s;return function(){var l=Yt(this,e),c=l.on,u=l.value[i]==null?s||(s=_s(t)):void 0;(c!==n||a!==u)&&(r=(n=c).copy()).on(o,a=u),l.on=r}}function Oh(e,t,n){var r=(e+="")=="transform"?Lf:vs;return t==null?this.styleTween(e,Nh(e,r)).on("end.style."+e,_s(e)):typeof t=="function"?this.styleTween(e,Ih(e,r,ni(this,"style."+e,t))).each(Rh(this._id,e)):this.styleTween(e,Dh(e,r,t),n).on("end.style."+e,null)}function Hh(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Fh(e,t,n){var r,a;function i(){var o=t.apply(this,arguments);return o!==a&&(r=(a=o)&&Hh(e,o,n)),r}return i._value=t,i}function Bh(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Fh(e,t,n??""))}function Uh(e){return function(){this.textContent=e}}function Vh(e){return function(){var t=e(this);this.textContent=t??""}}function zh(e){return this.tween("text",typeof e=="function"?Vh(ni(this,"text",e)):Uh(e==null?"":e+""))}function Yh(e){return function(t){this.textContent=e.call(this,t)}}function Wh(e){var t,n;function r(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&Yh(a)),t}return r._value=e,r}function Gh(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Wh(e))}function jh(){for(var e=this._name,t=this._id,n=bs(),r=this._groups,a=r.length,i=0;i<a;++i)for(var o=r[i],s=o.length,l,c=0;c<s;++c)if(l=o[c]){var u=kt(l,t);oa(l,e,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Bt(r,this._parents,e,n)}function Xh(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(i,o){var s={value:o},l={value:function(){--a===0&&i()}};n.each(function(){var c=Yt(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),c.on=t})})}var Zh=0;function Bt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function bs(){return++Zh}var xn=hr.prototype;Bt.prototype={constructor:Bt,select:Eh,selectAll:Ph,filter:wh,merge:kh,selection:qh,transition:jh,call:xn.call,nodes:xn.nodes,node:xn.node,size:xn.size,empty:xn.empty,each:xn.each,on:Sh,attr:lh,attrTween:dh,style:Oh,styleTween:Bh,text:zh,textTween:Gh,remove:Mh,tween:Yf,delay:gh,duration:_h,ease:xh,end:Xh};function Kh(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Ia={time:null,delay:0,duration:250,ease:Kh};function Qh(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return Ia.time=ia(),Ia;return n}function Jh(e){var t,n;e instanceof Bt?(t=e._id,e=e._name):(t=bs(),(n=Ia).time=ia(),e=e==null?null:e+"");for(var r=this._groups,a=r.length,i=0;i<a;++i)for(var o=r[i],s=o.length,l,c=0;c<s;++c)(l=o[c])&&oa(l,e,t,c,o,n||Qh(l,t));return new Bt(r,this._parents,e,t)}hr.prototype.interrupt=Uf;hr.prototype.transition=Jh;function xs(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function $h(e){return e.length===1&&(e=ed(e)),{left:function(t,n,r,a){for(r==null&&(r=0),a==null&&(a=t.length);r<a;){var i=r+a>>>1;e(t[i],n)<0?r=i+1:a=i}return r},right:function(t,n,r,a){for(r==null&&(r=0),a==null&&(a=t.length);r<a;){var i=r+a>>>1;e(t[i],n)>0?a=i:r=i+1}return r}}}function ed(e){return function(t,n){return xs(e(t),n)}}$h(xs);var Ra=Math.PI,Oa=2*Ra,nn=1e-6,td=Oa-nn;function Ha(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function sa(){return new Ha}Ha.prototype=sa.prototype={constructor:Ha,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,a,i){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+a)+","+(this._y1=+i)},arcTo:function(e,t,n,r,a){e=+e,t=+t,n=+n,r=+r,a=+a;var i=this._x1,o=this._y1,s=n-e,l=r-t,c=i-e,u=o-t,f=c*c+u*u;if(a<0)throw new Error("negative radius: "+a);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>nn)if(!(Math.abs(u*s-l*c)>nn)||!a)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var h=n-i,d=r-o,y=s*s+l*l,p=h*h+d*d,A=Math.sqrt(y),x=Math.sqrt(f),k=a*Math.tan((Ra-Math.acos((y+f-p)/(2*A*x)))/2),S=k/x,T=k/A;Math.abs(S-1)>nn&&(this._+="L"+(e+S*c)+","+(t+S*u)),this._+="A"+a+","+a+",0,0,"+ +(u*h>c*d)+","+(this._x1=e+T*s)+","+(this._y1=t+T*l)}},arc:function(e,t,n,r,a,i){e=+e,t=+t,n=+n,i=!!i;var o=n*Math.cos(r),s=n*Math.sin(r),l=e+o,c=t+s,u=1^i,f=i?r-a:a-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+l+","+c:(Math.abs(this._x1-l)>nn||Math.abs(this._y1-c)>nn)&&(this._+="L"+l+","+c),n&&(f<0&&(f=f%Oa+Oa),f>td?this._+="A"+n+","+n+",0,1,"+u+","+(e-o)+","+(t-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):f>nn&&(this._+="A"+n+","+n+",0,"+ +(f>=Ra)+","+u+","+(this._x1=e+n*Math.cos(a))+","+(this._y1=t+n*Math.sin(a))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var vt="$";function Wr(){}Wr.prototype=me.prototype={constructor:Wr,has:function(e){return vt+e in this},get:function(e){return this[vt+e]},set:function(e,t){return this[vt+e]=t,this},remove:function(e){var t=vt+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===vt&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===vt&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===vt&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===vt&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===vt&&++e;return e},empty:function(){for(var e in this)if(e[0]===vt)return!1;return!0},each:function(e){for(var t in this)t[0]===vt&&e(this[t],t.slice(1),this)}};function me(e,t){var n=new Wr;if(e instanceof Wr)e.each(function(s,l){n.set(l,s)});else if(Array.isArray(e)){var r=-1,a=e.length,i;if(t==null)for(;++r<a;)n.set(r,e[r]);else for(;++r<a;)n.set(t(i=e[r],r,e),i)}else if(e)for(var o in e)n.set(o,e[o]);return n}function ws(){var e=[],t=[],n,r,a;function i(s,l,c,u){if(l>=e.length)return n!=null&&s.sort(n),r!=null?r(s):s;for(var f=-1,h=s.length,d=e[l++],y,p,A=me(),x,k=c();++f<h;)(x=A.get(y=d(p=s[f])+""))?x.push(p):A.set(y,[p]);return A.each(function(S,T){u(k,T,i(S,l,c,u))}),k}function o(s,l){if(++l>e.length)return s;var c,u=t[l-1];return r!=null&&l>=e.length?c=s.entries():(c=[],s.each(function(f,h){c.push({key:h,values:o(f,l)})})),u!=null?c.sort(function(f,h){return u(f.key,h.key)}):c}return a={object:function(s){return i(s,0,nd,rd)},map:function(s){return i(s,0,uo,fo)},entries:function(s){return o(i(s,0,uo,fo),0)},key:function(s){return e.push(s),a},sortKeys:function(s){return t[e.length-1]=s,a},sortValues:function(s){return n=s,a},rollup:function(s){return r=s,a}}}function nd(){return{}}function rd(e,t,n){e[t]=n}function uo(){return me()}function fo(e,t,n){e.set(t,n)}function ho(){}var en=me.prototype;ho.prototype={constructor:ho,has:en.has,add:function(e){return e+="",this[vt+e]=e,this},remove:en.remove,clear:en.clear,values:en.keys,size:en.size,empty:en.empty,each:en.each};function ks(e){var t=[];for(var n in e)t.push(n);return t}function Cs(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ad(e){return e.length===1&&(e=id(e)),{left:function(t,n,r,a){for(r==null&&(r=0),a==null&&(a=t.length);r<a;){var i=r+a>>>1;e(t[i],n)<0?r=i+1:a=i}return r},right:function(t,n,r,a){for(r==null&&(r=0),a==null&&(a=t.length);r<a;){var i=r+a>>>1;e(t[i],n)>0?a=i:r=i+1}return r}}}function id(e){return function(t,n){return Cs(e(t),n)}}ad(Cs);function od(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Gr(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Nn(e){return e=Gr(Math.abs(e)),e?e[1]:NaN}function sd(e,t){return function(n,r){for(var a=n.length,i=[],o=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(n.substring(a-=s,a+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function ld(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var cd=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jr(e){if(!(t=cd.exec(e)))throw new Error("invalid format: "+e);var t;return new ai({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}jr.prototype=ai.prototype;function ai(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ai.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ud(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var Ts;function fd(e,t){var n=Gr(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(Ts=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Gr(e,Math.max(0,t+i-1))[0]}function mo(e,t){var n=Gr(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const po={"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:od,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return mo(e*100,t)},r:mo,s:fd,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function go(e){return e}var yo=Array.prototype.map,vo=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function hd(e){var t=e.grouping===void 0||e.thousands===void 0?go:sd(yo.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?go:ld(yo.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"-":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=jr(f);var h=f.fill,d=f.align,y=f.sign,p=f.symbol,A=f.zero,x=f.width,k=f.comma,S=f.precision,T=f.trim,g=f.type;g==="n"?(k=!0,g="g"):po[g]||(S===void 0&&(S=12),T=!0,g="g"),(A||h==="0"&&d==="=")&&(A=!0,h="0",d="=");var v=p==="$"?n:p==="#"&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",w=p==="$"?r:/[%p]/.test(g)?o:"",q=po[g],b=/[defgprs%]/.test(g);S=S===void 0?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function F(C){var P=v,O=w,V,$,H;if(g==="c")O=q(C)+O,C="";else{C=+C;var K=C<0||1/C<0;if(C=isNaN(C)?l:q(Math.abs(C),S),T&&(C=ud(C)),K&&+C==0&&y!=="+"&&(K=!1),P=(K?y==="("?y:s:y==="-"||y==="("?"":y)+P,O=(g==="s"?vo[8+Ts/3]:"")+O+(K&&y==="("?")":""),b){for(V=-1,$=C.length;++V<$;)if(H=C.charCodeAt(V),48>H||H>57){O=(H===46?a+C.slice(V+1):C.slice(V))+O,C=C.slice(0,V);break}}}k&&!A&&(C=t(C,1/0));var M=P.length+C.length+O.length,R=M<x?new Array(x-M+1).join(h):"";switch(k&&A&&(C=t(R+C,R.length?x-O.length:1/0),R=""),d){case"<":C=P+C+O+R;break;case"=":C=P+R+C+O;break;case"^":C=R.slice(0,M=R.length>>1)+P+C+O+R.slice(M);break;default:C=R+P+C+O;break}return i(C)}return F.toString=function(){return f+""},F}function u(f,h){var d=c((f=jr(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(Nn(h)/3)))*3,p=Math.pow(10,-y),A=vo[8+y/3];return function(x){return d(p*x)+A}}return{format:c,formatPrefix:u}}var Sr,Oe,Ss;dd({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function dd(e){return Sr=hd(e),Oe=Sr.format,Ss=Sr.formatPrefix,Sr}function md(e){return Math.max(0,-Nn(Math.abs(e)))}function pd(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Nn(t)/3)))*3-Nn(Math.abs(e)))}function gd(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Nn(t)-Nn(e))+1}function Rn(){return Math.random()}(function e(t){function n(r,a){return r=r==null?0:+r,a=a==null?1:+a,arguments.length===1?(a=r,r=0):a-=r,function(){return t()*a+r}}return n.source=e,n})(Rn);const yd=function e(t){function n(r,a){var i,o;return r=r==null?0:+r,a=a==null?1:+a,function(){var s;if(i!=null)s=i,i=null;else do i=t()*2-1,s=t()*2-1,o=i*i+s*s;while(!o||o>1);return r+a*s*Math.sqrt(-2*Math.log(o)/o)}}return n.source=e,n}(Rn);(function e(t){function n(){var r=yd.source(t).apply(this,arguments);return function(){return Math.exp(r())}}return n.source=e,n})(Rn);const vd=function e(t){function n(r){return function(){for(var a=0,i=0;i<r;++i)a+=t();return a}}return n.source=e,n}(Rn);(function e(t){function n(r){var a=vd.source(t)(r);return function(){return a()/r}}return n.source=e,n})(Rn);(function e(t){function n(r){return function(){return-Math.log(1-t())/r}}return n.source=e,n})(Rn);function As(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Ms(e){return e.length===1&&(e=_d(e)),{left:function(t,n,r,a){for(r==null&&(r=0),a==null&&(a=t.length);r<a;){var i=r+a>>>1;e(t[i],n)<0?r=i+1:a=i}return r},right:function(t,n,r,a){for(r==null&&(r=0),a==null&&(a=t.length);r<a;){var i=r+a>>>1;e(t[i],n)>0?a=i:r=i+1}return r}}}function _d(e){return function(t,n){return As(e(t),n)}}var bd=Ms(As),xd=bd.right;function wd(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}var Fa=Math.sqrt(50),Ba=Math.sqrt(10),Ua=Math.sqrt(2);function kd(e,t,n){var r,a=-1,i,o,s;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),(s=Dr(e,t,n))===0||!isFinite(s))return[];if(s>0)for(e=Math.ceil(e/s),t=Math.floor(t/s),o=new Array(i=Math.ceil(t-e+1));++a<i;)o[a]=(e+a)*s;else for(e=Math.floor(e*s),t=Math.ceil(t*s),o=new Array(i=Math.ceil(e-t+1));++a<i;)o[a]=(e-a)/s;return r&&o.reverse(),o}function Dr(e,t,n){var r=(t-e)/Math.max(0,n),a=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,a);return a>=0?(i>=Fa?10:i>=Ba?5:i>=Ua?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(i>=Fa?10:i>=Ba?5:i>=Ua?2:1)}function Va(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/a;return i>=Fa?a*=10:i>=Ba?a*=5:i>=Ua&&(a*=2),t<e?-a:a}function la(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Cd(e,t){switch(arguments.length){case 0:break;case 1:this.interpolator(e);break;default:this.interpolator(t).domain(e);break}return this}var Es=Array.prototype,Ps=Es.map,za=Es.slice,_o={name:"implicit"};function nt(){var e=me(),t=[],n=[],r=_o;function a(i){var o=i+"",s=e.get(o);if(!s){if(r!==_o)return r;e.set(o,s=t.push(i))}return n[(s-1)%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=me();for(var o=-1,s=i.length,l,c;++o<s;)e.has(c=(l=i[o])+"")||e.set(c,t.push(l));return a},a.range=function(i){return arguments.length?(n=za.call(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return nt(t,n).unknown(r)},la.apply(a,arguments),a}function jt(){var e=nt().unknown(void 0),t=e.domain,n=e.range,r=[0,1],a,i,o=!1,s=0,l=0,c=.5;delete e.unknown;function u(){var f=t().length,h=r[1]<r[0],d=r[h-0],y=r[1-h];a=(y-d)/Math.max(1,f-s+l*2),o&&(a=Math.floor(a)),d+=(y-d-a*(f-s))*c,i=a*(1-s),o&&(d=Math.round(d),i=Math.round(i));var p=wd(f).map(function(A){return d+a*A});return n(h?p.reverse():p)}return e.domain=function(f){return arguments.length?(t(f),u()):t()},e.range=function(f){return arguments.length?(r=[+f[0],+f[1]],u()):r.slice()},e.rangeRound=function(f){return r=[+f[0],+f[1]],o=!0,u()},e.bandwidth=function(){return i},e.step=function(){return a},e.round=function(f){return arguments.length?(o=!!f,u()):o},e.padding=function(f){return arguments.length?(s=Math.min(1,l=+f),u()):s},e.paddingInner=function(f){return arguments.length?(s=Math.min(1,f),u()):s},e.paddingOuter=function(f){return arguments.length?(l=+f,u()):l},e.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),u()):c},e.copy=function(){return jt(t(),r).round(o).paddingInner(s).paddingOuter(l).align(c)},la.apply(u(),arguments)}function Td(e){return function(){return e}}function Sd(e){return+e}var bo=[0,1];function Mt(e){return e}function Ya(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Td(isNaN(t)?NaN:.5)}function xo(e){var t=e[0],n=e[e.length-1],r;return t>n&&(r=t,t=n,n=r),function(a){return Math.max(t,Math.min(n,a))}}function Ad(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=Ya(a,r),i=n(o,i)):(r=Ya(r,a),i=n(i,o)),function(s){return i(r(s))}}function Md(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=Ya(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(s){var l=xd(e,s,1,r)-1;return i[l](a[l](s))}}function Ls(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ed(){var e=bo,t=bo,n=ei,r,a,i,o=Mt,s,l,c;function u(){return s=Math.min(e.length,t.length)>2?Md:Ad,l=c=null,f}function f(h){return isNaN(h=+h)?i:(l||(l=s(e.map(r),t,n)))(r(o(h)))}return f.invert=function(h){return o(a((c||(c=s(t,e.map(r),wt)))(h)))},f.domain=function(h){return arguments.length?(e=Ps.call(h,Sd),o===Mt||(o=xo(e)),u()):e.slice()},f.range=function(h){return arguments.length?(t=za.call(h),u()):t.slice()},f.rangeRound=function(h){return t=za.call(h),n=Mf,u()},f.clamp=function(h){return arguments.length?(o=h?xo(e):Mt,f):o!==Mt},f.interpolate=function(h){return arguments.length?(n=h,u()):n},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,d){return r=h,a=d,u()}}function qs(e,t){return Ed()(e,t)}function Pd(e,t,n,r){var a=Va(e,t,n),i;switch(r=jr(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=pd(a,o))&&(r.precision=i),Ss(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=gd(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=md(a))&&(r.precision=i-(r.type==="%")*2);break}}return Oe(r)}function Ns(e){var t=e.domain;return e.ticks=function(n){var r=t();return kd(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return Pd(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],s=r[i],l;return s<o&&(l=o,o=s,s=l,l=a,a=i,i=l),l=Dr(o,s,n),l>0?(o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l,l=Dr(o,s,n)):l<0&&(o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l,l=Dr(o,s,n)),l>0?(r[a]=Math.floor(o/l)*l,r[i]=Math.ceil(s/l)*l,t(r)):l<0&&(r[a]=Math.ceil(o*l)/l,r[i]=Math.floor(s*l)/l,t(r)),e},e}function Ht(){var e=qs(Mt,Mt);return e.copy=function(){return Ls(e,Ht())},la.apply(e,arguments),Ns(e)}function Ld(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}var ba=new Date,xa=new Date;function rt(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=function(i){return e(i=new Date(+i)),i},a.ceil=function(i){return e(i=new Date(i-1)),t(i,1),e(i),i},a.round=function(i){var o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=function(i,o){return t(i=new Date(+i),o==null?1:Math.floor(o)),i},a.range=function(i,o,s){var l=[],c;if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return l;do l.push(c=new Date(+i)),t(i,s),e(i);while(c<i&&i<o);return l},a.filter=function(i){return rt(function(o){if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},function(o,s){if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););})},n&&(a.count=function(i,o){return ba.setTime(+i),xa.setTime(+o),e(ba),e(xa),Math.floor(n(ba,xa))},a.every=function(i){return i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?function(o){return r(o)%i===0}:function(o){return a.count(0,o)%i===0}):a}),a}var Xr=rt(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});Xr.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?rt(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):Xr};Xr.range;var Zr=1e3,lr=6e4,wo=36e5,Ds=864e5,Is=6048e5,Rs=rt(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*Zr)},function(e,t){return(t-e)/Zr},function(e){return e.getUTCSeconds()});Rs.range;var Os=rt(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zr)},function(e,t){e.setTime(+e+t*lr)},function(e,t){return(t-e)/lr},function(e){return e.getMinutes()});Os.range;var Hs=rt(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zr-e.getMinutes()*lr)},function(e,t){e.setTime(+e+t*wo)},function(e,t){return(t-e)/wo},function(e){return e.getHours()});Hs.range;var ca=rt(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*lr)/Ds},function(e){return e.getDate()-1});ca.range;function cn(e){return rt(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n*7)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*lr)/Is})}var ii=cn(0),Kr=cn(1),qd=cn(2),Nd=cn(3),Dn=cn(4),Dd=cn(5),Id=cn(6);ii.range;Kr.range;qd.range;Nd.range;Dn.range;Dd.range;Id.range;var Fs=rt(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()});Fs.range;var Zt=rt(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});Zt.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:rt(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)})};Zt.range;var oi=rt(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/Ds},function(e){return e.getUTCDate()-1});oi.range;function un(e){return rt(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n*7)},function(t,n){return(n-t)/Is})}var Bs=un(0),Qr=un(1),Rd=un(2),Od=un(3),In=un(4),Hd=un(5),Fd=un(6);Bs.range;Qr.range;Rd.range;Od.range;In.range;Hd.range;Fd.range;var ln=rt(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});ln.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:rt(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})};ln.range;function wa(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ka(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Bn(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Bd(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=Un(a),u=Vn(a),f=Un(i),h=Vn(i),d=Un(o),y=Vn(o),p=Un(s),A=Vn(s),x=Un(l),k=Vn(l),S={a:K,A:M,b:R,B:W,c:null,d:Mo,e:Mo,f:cm,g:_m,G:xm,H:om,I:sm,j:lm,L:Us,m:um,M:fm,p:ue,q:U,Q:Lo,s:qo,S:hm,u:dm,U:mm,V:pm,w:gm,W:ym,x:null,X:null,y:vm,Y:bm,Z:wm,"%":Po},T={a:ae,A:Q,b:fe,B:m,c:null,d:Eo,e:Eo,f:Sm,g:Rm,G:Hm,H:km,I:Cm,j:Tm,L:zs,m:Am,M:Mm,p:X,q:xe,Q:Lo,s:qo,S:Em,u:Pm,U:Lm,V:qm,w:Nm,W:Dm,x:null,X:null,y:Im,Y:Om,Z:Fm,"%":Po},g={a:F,A:C,b:P,B:O,c:V,d:So,e:So,f:nm,g:To,G:Co,H:Ao,I:Ao,j:Jd,L:tm,m:Qd,M:$d,p:b,q:Kd,Q:am,s:im,S:em,u:Wd,U:Gd,V:jd,w:Yd,W:Xd,x:$,X:H,y:To,Y:Co,Z:Zd,"%":rm};S.x=v(n,S),S.X=v(r,S),S.c=v(t,S),T.x=v(n,T),T.X=v(r,T),T.c=v(t,T);function v(j,J){return function(te){var Y=[],L=-1,z=0,pe=j.length,ye,I,he;for(te instanceof Date||(te=new Date(+te));++L<pe;)j.charCodeAt(L)===37&&(Y.push(j.slice(z,L)),(I=ko[ye=j.charAt(++L)])!=null?ye=j.charAt(++L):I=ye==="e"?" ":"0",(he=J[ye])&&(ye=he(te,I)),Y.push(ye),z=L+1);return Y.push(j.slice(z,L)),Y.join("")}}function w(j,J){return function(te){var Y=Bn(1900,void 0,1),L=q(Y,j,te+="",0),z,pe;if(L!=te.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(J&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(z=ka(Bn(Y.y,0,1)),pe=z.getUTCDay(),z=pe>4||pe===0?Qr.ceil(z):Qr(z),z=oi.offset(z,(Y.V-1)*7),Y.y=z.getUTCFullYear(),Y.m=z.getUTCMonth(),Y.d=z.getUTCDate()+(Y.w+6)%7):(z=wa(Bn(Y.y,0,1)),pe=z.getDay(),z=pe>4||pe===0?Kr.ceil(z):Kr(z),z=ca.offset(z,(Y.V-1)*7),Y.y=z.getFullYear(),Y.m=z.getMonth(),Y.d=z.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),pe="Z"in Y?ka(Bn(Y.y,0,1)).getUTCDay():wa(Bn(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(pe+5)%7:Y.w+Y.U*7-(pe+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,ka(Y)):wa(Y)}}function q(j,J,te,Y){for(var L=0,z=J.length,pe=te.length,ye,I;L<z;){if(Y>=pe)return-1;if(ye=J.charCodeAt(L++),ye===37){if(ye=J.charAt(L++),I=g[ye in ko?J.charAt(L++):ye],!I||(Y=I(j,te,Y))<0)return-1}else if(ye!=te.charCodeAt(Y++))return-1}return Y}function b(j,J,te){var Y=c.exec(J.slice(te));return Y?(j.p=u[Y[0].toLowerCase()],te+Y[0].length):-1}function F(j,J,te){var Y=d.exec(J.slice(te));return Y?(j.w=y[Y[0].toLowerCase()],te+Y[0].length):-1}function C(j,J,te){var Y=f.exec(J.slice(te));return Y?(j.w=h[Y[0].toLowerCase()],te+Y[0].length):-1}function P(j,J,te){var Y=x.exec(J.slice(te));return Y?(j.m=k[Y[0].toLowerCase()],te+Y[0].length):-1}function O(j,J,te){var Y=p.exec(J.slice(te));return Y?(j.m=A[Y[0].toLowerCase()],te+Y[0].length):-1}function V(j,J,te){return q(j,t,J,te)}function $(j,J,te){return q(j,n,J,te)}function H(j,J,te){return q(j,r,J,te)}function K(j){return o[j.getDay()]}function M(j){return i[j.getDay()]}function R(j){return l[j.getMonth()]}function W(j){return s[j.getMonth()]}function ue(j){return a[+(j.getHours()>=12)]}function U(j){return 1+~~(j.getMonth()/3)}function ae(j){return o[j.getUTCDay()]}function Q(j){return i[j.getUTCDay()]}function fe(j){return l[j.getUTCMonth()]}function m(j){return s[j.getUTCMonth()]}function X(j){return a[+(j.getUTCHours()>=12)]}function xe(j){return 1+~~(j.getUTCMonth()/3)}return{format:function(j){var J=v(j+="",S);return J.toString=function(){return j},J},parse:function(j){var J=w(j+="",!1);return J.toString=function(){return j},J},utcFormat:function(j){var J=v(j+="",T);return J.toString=function(){return j},J},utcParse:function(j){var J=w(j+="",!0);return J.toString=function(){return j},J}}}var ko={"-":"",_:" ",0:"0"},Ue=/^\s*\d+/,Ud=/^%/,Vd=/[\\^$*+?|[\]().{}]/g;function Te(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function zd(e){return e.replace(Vd,"\\$&")}function Un(e){return new RegExp("^(?:"+e.map(zd).join("|")+")","i")}function Vn(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function Yd(e,t,n){var r=Ue.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Wd(e,t,n){var r=Ue.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Gd(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function jd(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Xd(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Co(e,t,n){var r=Ue.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function To(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Zd(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Kd(e,t,n){var r=Ue.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Qd(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function So(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Jd(e,t,n){var r=Ue.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Ao(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function $d(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function em(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function tm(e,t,n){var r=Ue.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function nm(e,t,n){var r=Ue.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function rm(e,t,n){var r=Ud.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function am(e,t,n){var r=Ue.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function im(e,t,n){var r=Ue.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Mo(e,t){return Te(e.getDate(),t,2)}function om(e,t){return Te(e.getHours(),t,2)}function sm(e,t){return Te(e.getHours()%12||12,t,2)}function lm(e,t){return Te(1+ca.count(Zt(e),e),t,3)}function Us(e,t){return Te(e.getMilliseconds(),t,3)}function cm(e,t){return Us(e,t)+"000"}function um(e,t){return Te(e.getMonth()+1,t,2)}function fm(e,t){return Te(e.getMinutes(),t,2)}function hm(e,t){return Te(e.getSeconds(),t,2)}function dm(e){var t=e.getDay();return t===0?7:t}function mm(e,t){return Te(ii.count(Zt(e)-1,e),t,2)}function Vs(e){var t=e.getDay();return t>=4||t===0?Dn(e):Dn.ceil(e)}function pm(e,t){return e=Vs(e),Te(Dn.count(Zt(e),e)+(Zt(e).getDay()===4),t,2)}function gm(e){return e.getDay()}function ym(e,t){return Te(Kr.count(Zt(e)-1,e),t,2)}function vm(e,t){return Te(e.getFullYear()%100,t,2)}function _m(e,t){return e=Vs(e),Te(e.getFullYear()%100,t,2)}function bm(e,t){return Te(e.getFullYear()%1e4,t,4)}function xm(e,t){var n=e.getDay();return e=n>=4||n===0?Dn(e):Dn.ceil(e),Te(e.getFullYear()%1e4,t,4)}function wm(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Te(t/60|0,"0",2)+Te(t%60,"0",2)}function Eo(e,t){return Te(e.getUTCDate(),t,2)}function km(e,t){return Te(e.getUTCHours(),t,2)}function Cm(e,t){return Te(e.getUTCHours()%12||12,t,2)}function Tm(e,t){return Te(1+oi.count(ln(e),e),t,3)}function zs(e,t){return Te(e.getUTCMilliseconds(),t,3)}function Sm(e,t){return zs(e,t)+"000"}function Am(e,t){return Te(e.getUTCMonth()+1,t,2)}function Mm(e,t){return Te(e.getUTCMinutes(),t,2)}function Em(e,t){return Te(e.getUTCSeconds(),t,2)}function Pm(e){var t=e.getUTCDay();return t===0?7:t}function Lm(e,t){return Te(Bs.count(ln(e)-1,e),t,2)}function Ys(e){var t=e.getUTCDay();return t>=4||t===0?In(e):In.ceil(e)}function qm(e,t){return e=Ys(e),Te(In.count(ln(e),e)+(ln(e).getUTCDay()===4),t,2)}function Nm(e){return e.getUTCDay()}function Dm(e,t){return Te(Qr.count(ln(e)-1,e),t,2)}function Im(e,t){return Te(e.getUTCFullYear()%100,t,2)}function Rm(e,t){return e=Ys(e),Te(e.getUTCFullYear()%100,t,2)}function Om(e,t){return Te(e.getUTCFullYear()%1e4,t,4)}function Hm(e,t){var n=e.getUTCDay();return e=n>=4||n===0?In(e):In.ceil(e),Te(e.getUTCFullYear()%1e4,t,4)}function Fm(){return"+0000"}function Po(){return"%"}function Lo(e){return+e}function qo(e){return Math.floor(+e/1e3)}var wn,Ws,si;Bm({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Bm(e){return wn=Bd(e),Ws=wn.format,si=wn.parse,wn.utcFormat,wn.utcParse,wn}var Kn=1e3,Qn=Kn*60,Jn=Qn*60,cr=Jn*24,Um=cr*7,No=cr*30,Ca=cr*365;function Vm(e){return new Date(e)}function zm(e){return e instanceof Date?+e:+new Date(+e)}function Gs(e,t,n,r,a,i,o,s,l){var c=qs(Mt,Mt),u=c.invert,f=c.domain,h=l(".%L"),d=l(":%S"),y=l("%I:%M"),p=l("%I %p"),A=l("%a %d"),x=l("%b %d"),k=l("%B"),S=l("%Y"),T=[[o,1,Kn],[o,5,5*Kn],[o,15,15*Kn],[o,30,30*Kn],[i,1,Qn],[i,5,5*Qn],[i,15,15*Qn],[i,30,30*Qn],[a,1,Jn],[a,3,3*Jn],[a,6,6*Jn],[a,12,12*Jn],[r,1,cr],[r,2,2*cr],[n,1,Um],[t,1,No],[t,3,3*No],[e,1,Ca]];function g(w){return(o(w)<w?h:i(w)<w?d:a(w)<w?y:r(w)<w?p:t(w)<w?n(w)<w?A:x:e(w)<w?k:S)(w)}function v(w,q,b,F){if(w==null&&(w=10),typeof w=="number"){var C=Math.abs(b-q)/w,P=Ms(function(O){return O[2]}).right(T,C);P===T.length?(F=Va(q/Ca,b/Ca,w),w=e):P?(P=T[C/T[P-1][2]<T[P][2]/C?P-1:P],F=P[1],w=P[0]):(F=Math.max(Va(q,b,w),1),w=s)}return F==null?w:w.every(F)}return c.invert=function(w){return new Date(u(w))},c.domain=function(w){return arguments.length?f(Ps.call(w,zm)):f().map(Vm)},c.ticks=function(w,q){var b=f(),F=b[0],C=b[b.length-1],P=C<F,O;return P&&(O=F,F=C,C=O),O=v(w,F,C,q),O=O?O.range(F,C+1):[],P?O.reverse():O},c.tickFormat=function(w,q){return q==null?g:l(q)},c.nice=function(w,q){var b=f();return(w=v(w,b[0],b[b.length-1],q))?f(Ld(b,w)):c},c.copy=function(){return Ls(c,Gs(e,t,n,r,a,i,o,s,l))},c}function js(){return la.apply(Gs(Zt,Fs,ii,ca,Hs,Os,Rs,Xr,Ws).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ym(){var e=0,t=1,n,r,a,i,o=Mt,s=!1,l;function c(u){return isNaN(u=+u)?l:o(a===0?.5:(u=(i(u)-n)*a,s?Math.max(0,Math.min(1,u)):u))}return c.domain=function(u){return arguments.length?(n=i(e=+u[0]),r=i(t=+u[1]),a=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(u){return arguments.length?(s=!!u,c):s},c.interpolator=function(u){return arguments.length?(o=u,c):o},c.unknown=function(u){return arguments.length?(l=u,c):l},function(u){return i=u,n=u(e),r=u(t),a=n===r?0:1/(r-n),c}}function Wm(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Xs(){var e=Ns(Ym()(Mt));return e.copy=function(){return Wm(e,Xs())},Cd.apply(e,arguments)}function li(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const Zs=li("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function Ks(e){return bf(e[e.length-1])}var Qs=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(li);Ks(Qs);var Gm=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(li);const jm=Ks(Gm);function Ce(e){return function(){return e}}var Do=Math.abs,Ye=Math.atan2,tn=Math.cos,Xm=Math.max,Ta=Math.min,Tt=Math.sin,kn=Math.sqrt,st=1e-12,ur=Math.PI,Jr=ur/2,Ir=2*ur;function Zm(e){return e>1?0:e<-1?ur:Math.acos(e)}function Io(e){return e>=1?Jr:e<=-1?-Jr:Math.asin(e)}function Km(e){return e.innerRadius}function Qm(e){return e.outerRadius}function Jm(e){return e.startAngle}function $m(e){return e.endAngle}function ep(e){return e&&e.padAngle}function tp(e,t,n,r,a,i,o,s){var l=n-e,c=r-t,u=o-a,f=s-i,h=f*l-u*c;if(!(h*h<st))return h=(u*(t-i)-f*(e-a))/h,[e+h*l,t+h*c]}function Ar(e,t,n,r,a,i,o){var s=e-n,l=t-r,c=(o?i:-i)/kn(s*s+l*l),u=c*l,f=-c*s,h=e+u,d=t+f,y=n+u,p=r+f,A=(h+y)/2,x=(d+p)/2,k=y-h,S=p-d,T=k*k+S*S,g=a-i,v=h*p-y*d,w=(S<0?-1:1)*kn(Xm(0,g*g*T-v*v)),q=(v*S-k*w)/T,b=(-v*k-S*w)/T,F=(v*S+k*w)/T,C=(-v*k+S*w)/T,P=q-A,O=b-x,V=F-A,$=C-x;return P*P+O*O>V*V+$*$&&(q=F,b=C),{cx:q,cy:b,x01:-u,y01:-f,x11:q*(a/g-1),y11:b*(a/g-1)}}function np(){var e=Km,t=Qm,n=Ce(0),r=null,a=Jm,i=$m,o=ep,s=null;function l(){var c,u,f=+e.apply(this,arguments),h=+t.apply(this,arguments),d=a.apply(this,arguments)-Jr,y=i.apply(this,arguments)-Jr,p=Do(y-d),A=y>d;if(s||(s=c=sa()),h<f&&(u=h,h=f,f=u),!(h>st))s.moveTo(0,0);else if(p>Ir-st)s.moveTo(h*tn(d),h*Tt(d)),s.arc(0,0,h,d,y,!A),f>st&&(s.moveTo(f*tn(y),f*Tt(y)),s.arc(0,0,f,y,d,A));else{var x=d,k=y,S=d,T=y,g=p,v=p,w=o.apply(this,arguments)/2,q=w>st&&(r?+r.apply(this,arguments):kn(f*f+h*h)),b=Ta(Do(h-f)/2,+n.apply(this,arguments)),F=b,C=b,P,O;if(q>st){var V=Io(q/f*Tt(w)),$=Io(q/h*Tt(w));(g-=V*2)>st?(V*=A?1:-1,S+=V,T-=V):(g=0,S=T=(d+y)/2),(v-=$*2)>st?($*=A?1:-1,x+=$,k-=$):(v=0,x=k=(d+y)/2)}var H=h*tn(x),K=h*Tt(x),M=f*tn(T),R=f*Tt(T);if(b>st){var W=h*tn(k),ue=h*Tt(k),U=f*tn(S),ae=f*Tt(S),Q;if(p<ur&&(Q=tp(H,K,U,ae,W,ue,M,R))){var fe=H-Q[0],m=K-Q[1],X=W-Q[0],xe=ue-Q[1],j=1/Tt(Zm((fe*X+m*xe)/(kn(fe*fe+m*m)*kn(X*X+xe*xe)))/2),J=kn(Q[0]*Q[0]+Q[1]*Q[1]);F=Ta(b,(f-J)/(j-1)),C=Ta(b,(h-J)/(j+1))}}v>st?C>st?(P=Ar(U,ae,H,K,h,C,A),O=Ar(W,ue,M,R,h,C,A),s.moveTo(P.cx+P.x01,P.cy+P.y01),C<b?s.arc(P.cx,P.cy,C,Ye(P.y01,P.x01),Ye(O.y01,O.x01),!A):(s.arc(P.cx,P.cy,C,Ye(P.y01,P.x01),Ye(P.y11,P.x11),!A),s.arc(0,0,h,Ye(P.cy+P.y11,P.cx+P.x11),Ye(O.cy+O.y11,O.cx+O.x11),!A),s.arc(O.cx,O.cy,C,Ye(O.y11,O.x11),Ye(O.y01,O.x01),!A))):(s.moveTo(H,K),s.arc(0,0,h,x,k,!A)):s.moveTo(H,K),!(f>st)||!(g>st)?s.lineTo(M,R):F>st?(P=Ar(M,R,W,ue,f,-F,A),O=Ar(H,K,U,ae,f,-F,A),s.lineTo(P.cx+P.x01,P.cy+P.y01),F<b?s.arc(P.cx,P.cy,F,Ye(P.y01,P.x01),Ye(O.y01,O.x01),!A):(s.arc(P.cx,P.cy,F,Ye(P.y01,P.x01),Ye(P.y11,P.x11),!A),s.arc(0,0,f,Ye(P.cy+P.y11,P.cx+P.x11),Ye(O.cy+O.y11,O.cx+O.x11),A),s.arc(O.cx,O.cy,F,Ye(O.y11,O.x11),Ye(O.y01,O.x01),!A))):s.arc(0,0,f,T,S,A)}if(s.closePath(),c)return s=null,c+""||null}return l.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,u=(+a.apply(this,arguments)+ +i.apply(this,arguments))/2-ur/2;return[tn(u)*c,Tt(u)*c]},l.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:Ce(+c),l):e},l.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:Ce(+c),l):t},l.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:Ce(+c),l):n},l.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Ce(+c),l):r},l.startAngle=function(c){return arguments.length?(a=typeof c=="function"?c:Ce(+c),l):a},l.endAngle=function(c){return arguments.length?(i=typeof c=="function"?c:Ce(+c),l):i},l.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:Ce(+c),l):o},l.context=function(c){return arguments.length?(s=c??null,l):s},l}function Js(e){this._context=e}Js.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function $s(e){return new Js(e)}function el(e){return e[0]}function tl(e){return e[1]}function $r(){var e=el,t=tl,n=Ce(!0),r=null,a=$s,i=null;function o(s){var l,c=s.length,u,f=!1,h;for(r==null&&(i=a(h=sa())),l=0;l<=c;++l)!(l<c&&n(u=s[l],l,s))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(u,l,s),+t(u,l,s));if(h)return i=null,h+""||null}return o.x=function(s){return arguments.length?(e=typeof s=="function"?s:Ce(+s),o):e},o.y=function(s){return arguments.length?(t=typeof s=="function"?s:Ce(+s),o):t},o.defined=function(s){return arguments.length?(n=typeof s=="function"?s:Ce(!!s),o):n},o.curve=function(s){return arguments.length?(a=s,r!=null&&(i=a(r)),o):a},o.context=function(s){return arguments.length?(s==null?r=i=null:i=a(r=s),o):r},o}function rp(){var e=el,t=null,n=Ce(0),r=tl,a=Ce(!0),i=null,o=$s,s=null;function l(u){var f,h,d,y=u.length,p,A=!1,x,k=new Array(y),S=new Array(y);for(i==null&&(s=o(x=sa())),f=0;f<=y;++f){if(!(f<y&&a(p=u[f],f,u))===A)if(A=!A)h=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),d=f-1;d>=h;--d)s.point(k[d],S[d]);s.lineEnd(),s.areaEnd()}A&&(k[f]=+e(p,f,u),S[f]=+n(p,f,u),s.point(t?+t(p,f,u):k[f],r?+r(p,f,u):S[f]))}if(x)return s=null,x+""||null}function c(){return $r().defined(a).curve(o).context(i)}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Ce(+u),t=null,l):e},l.x0=function(u){return arguments.length?(e=typeof u=="function"?u:Ce(+u),l):e},l.x1=function(u){return arguments.length?(t=u==null?null:typeof u=="function"?u:Ce(+u),l):t},l.y=function(u){return arguments.length?(n=typeof u=="function"?u:Ce(+u),r=null,l):n},l.y0=function(u){return arguments.length?(n=typeof u=="function"?u:Ce(+u),l):n},l.y1=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:Ce(+u),l):r},l.lineX0=l.lineY0=function(){return c().x(e).y(n)},l.lineY1=function(){return c().x(e).y(r)},l.lineX1=function(){return c().x(t).y(n)},l.defined=function(u){return arguments.length?(a=typeof u=="function"?u:Ce(!!u),l):a},l.curve=function(u){return arguments.length?(o=u,i!=null&&(s=o(i)),l):o},l.context=function(u){return arguments.length?(u==null?i=s=null:s=o(i=u),l):i},l}function ap(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function ip(e){return e}function op(){var e=ip,t=ap,n=null,r=Ce(0),a=Ce(Ir),i=Ce(0);function o(s){var l,c=s.length,u,f,h=0,d=new Array(c),y=new Array(c),p=+r.apply(this,arguments),A=Math.min(Ir,Math.max(-Ir,a.apply(this,arguments)-p)),x,k=Math.min(Math.abs(A)/c,i.apply(this,arguments)),S=k*(A<0?-1:1),T;for(l=0;l<c;++l)(T=y[d[l]=l]=+e(s[l],l,s))>0&&(h+=T);for(t!=null?d.sort(function(g,v){return t(y[g],y[v])}):n!=null&&d.sort(function(g,v){return n(s[g],s[v])}),l=0,f=h?(A-c*S)/h:0;l<c;++l,p=x)u=d[l],T=y[u],x=p+(T>0?T*f:0)+S,y[u]={data:s[u],index:l,value:T,startAngle:p,endAngle:x,padAngle:k};return y}return o.value=function(s){return arguments.length?(e=typeof s=="function"?s:Ce(+s),o):e},o.sortValues=function(s){return arguments.length?(t=s,n=null,o):t},o.sort=function(s){return arguments.length?(n=s,t=null,o):n},o.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:Ce(+s),o):r},o.endAngle=function(s){return arguments.length?(a=typeof s=="function"?s:Ce(+s),o):a},o.padAngle=function(s){return arguments.length?(i=typeof s=="function"?s:Ce(+s),o):i},o}var Ro=Array.prototype.slice;function Oo(e,t){if((o=e.length)>1)for(var n=1,r,a,i=e[t[0]],o,s=i.length;n<o;++n)for(a=i,i=e[t[n]],r=0;r<s;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function Ho(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function sp(e,t){return e[t]}function nl(){var e=Ce([]),t=Ho,n=Oo,r=sp;function a(i){var o=e.apply(this,arguments),s,l=i.length,c=o.length,u=new Array(c),f;for(s=0;s<c;++s){for(var h=o[s],d=u[s]=new Array(l),y=0,p;y<l;++y)d[y]=p=[0,+r(i[y],h,y,i)],p.data=i[y];d.key=h}for(s=0,f=t(u);s<c;++s)u[f[s]].index=s;return n(u,f),u}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ce(Ro.call(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:Ce(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?Ho:typeof i=="function"?i:Ce(Ro.call(i)),a):t},a.offset=function(i){return arguments.length?(n=i??Oo,a):n},a}function ea(){this._=null}function ua(e){e.U=e.C=e.L=e.R=e.P=e.N=null}ea.prototype={constructor:ea,insert:function(e,t){var n,r,a;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=Fo(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(a=r.R,a&&a.C?(n.C=a.C=!1,r.C=!0,e=r):(e===n.R&&(zn(this,n),e=n,n=e.U),n.C=!1,r.C=!0,Yn(this,r))):(a=r.L,a&&a.C?(n.C=a.C=!1,r.C=!0,e=r):(e===n.L&&(Yn(this,n),e=n,n=e.U),n.C=!1,r.C=!0,zn(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t=e.U,n,r=e.L,a=e.R,i,o;if(r?a?i=Fo(a):i=r:i=a,t?t.L===e?t.L=i:t.R=i:this._=i,r&&a?(o=i.C,i.C=e.C,i.L=r,r.U=i,i!==a?(t=i.U,i.U=e.U,e=i.R,t.L=e,i.R=a,a.U=i):(i.U=t,t=i,e=i.R)):(o=e.C,e=i),e&&(e.U=t),!o){if(e&&e.C){e.C=!1;return}do{if(e===this._)break;if(e===t.L){if(n=t.R,n.C&&(n.C=!1,t.C=!0,zn(this,t),n=t.R),n.L&&n.L.C||n.R&&n.R.C){(!n.R||!n.R.C)&&(n.L.C=!1,n.C=!0,Yn(this,n),n=t.R),n.C=t.C,t.C=n.R.C=!1,zn(this,t),e=this._;break}}else if(n=t.L,n.C&&(n.C=!1,t.C=!0,Yn(this,t),n=t.L),n.L&&n.L.C||n.R&&n.R.C){(!n.L||!n.L.C)&&(n.R.C=!1,n.C=!0,zn(this,n),n=t.L),n.C=t.C,t.C=n.L.C=!1,Yn(this,t),e=this._;break}n.C=!0,e=t,t=t.U}while(!e.C);e&&(e.C=!1)}}};function zn(e,t){var n=t,r=t.R,a=n.U;a?a.L===n?a.L=r:a.R=r:e._=r,r.U=a,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Yn(e,t){var n=t,r=t.L,a=n.U;a?a.L===n?a.L=r:a.R=r:e._=r,r.U=a,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Fo(e){for(;e.L;)e=e.L;return e}function $n(e,t,n,r){var a=[null,null],i=Xe.push(a)-1;return a.left=e,a.right=t,n&&ta(a,e,t,n),r&&ta(a,t,e,r),ft[e.index].halfedges.push(i),ft[t.index].halfedges.push(i),a}function Wn(e,t,n){var r=[t,n];return r.left=e,r}function ta(e,t,n,r){!e[0]&&!e[1]?(e[0]=r,e.left=t,e.right=n):e.left===n?e[1]=r:e[0]=r}function lp(e,t,n,r,a){var i=e[0],o=e[1],s=i[0],l=i[1],c=o[0],u=o[1],f=0,h=1,d=c-s,y=u-l,p;if(p=t-s,!(!d&&p>0)){if(p/=d,d<0){if(p<f)return;p<h&&(h=p)}else if(d>0){if(p>h)return;p>f&&(f=p)}if(p=r-s,!(!d&&p<0)){if(p/=d,d<0){if(p>h)return;p>f&&(f=p)}else if(d>0){if(p<f)return;p<h&&(h=p)}if(p=n-l,!(!y&&p>0)){if(p/=y,y<0){if(p<f)return;p<h&&(h=p)}else if(y>0){if(p>h)return;p>f&&(f=p)}if(p=a-l,!(!y&&p<0)){if(p/=y,y<0){if(p>h)return;p>f&&(f=p)}else if(y>0){if(p<f)return;p<h&&(h=p)}return!(f>0)&&!(h<1)||(f>0&&(e[0]=[s+f*d,l+f*y]),h<1&&(e[1]=[s+h*d,l+h*y])),!0}}}}}function cp(e,t,n,r,a){var i=e[1];if(i)return!0;var o=e[0],s=e.left,l=e.right,c=s[0],u=s[1],f=l[0],h=l[1],d=(c+f)/2,y=(u+h)/2,p,A;if(h===u){if(d<t||d>=r)return;if(c>f){if(!o)o=[d,n];else if(o[1]>=a)return;i=[d,a]}else{if(!o)o=[d,a];else if(o[1]<n)return;i=[d,n]}}else if(p=(c-f)/(h-u),A=y-p*d,p<-1||p>1)if(c>f){if(!o)o=[(n-A)/p,n];else if(o[1]>=a)return;i=[(a-A)/p,a]}else{if(!o)o=[(a-A)/p,a];else if(o[1]<n)return;i=[(n-A)/p,n]}else if(u<h){if(!o)o=[t,p*t+A];else if(o[0]>=r)return;i=[r,p*r+A]}else{if(!o)o=[r,p*r+A];else if(o[0]<t)return;i=[t,p*t+A]}return e[0]=o,e[1]=i,!0}function up(e,t,n,r){for(var a=Xe.length,i;a--;)(!cp(i=Xe[a],e,t,n,r)||!lp(i,e,t,n,r)||!(Math.abs(i[0][0]-i[1][0])>Le||Math.abs(i[0][1]-i[1][1])>Le))&&delete Xe[a]}function fp(e){return ft[e.index]={site:e,halfedges:[]}}function hp(e,t){var n=e.site,r=t.left,a=t.right;return n===a&&(a=r,r=n),a?Math.atan2(a[1]-r[1],a[0]-r[0]):(n===r?(r=t[1],a=t[0]):(r=t[0],a=t[1]),Math.atan2(r[0]-a[0],a[1]-r[1]))}function rl(e,t){return t[+(t.left!==e.site)]}function dp(e,t){return t[+(t.left===e.site)]}function mp(){for(var e=0,t=ft.length,n,r,a,i;e<t;++e)if((n=ft[e])&&(i=(r=n.halfedges).length)){var o=new Array(i),s=new Array(i);for(a=0;a<i;++a)o[a]=a,s[a]=hp(n,Xe[r[a]]);for(o.sort(function(l,c){return s[c]-s[l]}),a=0;a<i;++a)s[a]=r[o[a]];for(a=0;a<i;++a)r[a]=s[a]}}function pp(e,t,n,r){var a=ft.length,i,o,s,l,c,u,f,h,d,y,p,A,x=!0;for(i=0;i<a;++i)if(o=ft[i]){for(s=o.site,c=o.halfedges,l=c.length;l--;)Xe[c[l]]||c.splice(l,1);for(l=0,u=c.length;l<u;)y=dp(o,Xe[c[l]]),p=y[0],A=y[1],f=rl(o,Xe[c[++l%u]]),h=f[0],d=f[1],(Math.abs(p-h)>Le||Math.abs(A-d)>Le)&&(c.splice(l,0,Xe.push(Wn(s,y,Math.abs(p-e)<Le&&r-A>Le?[e,Math.abs(h-e)<Le?d:r]:Math.abs(A-r)<Le&&n-p>Le?[Math.abs(d-r)<Le?h:n,r]:Math.abs(p-n)<Le&&A-t>Le?[n,Math.abs(h-n)<Le?d:t]:Math.abs(A-t)<Le&&p-e>Le?[Math.abs(d-t)<Le?h:e,t]:null))-1),++u);u&&(x=!1)}if(x){var k,S,T,g=1/0;for(i=0,x=null;i<a;++i)(o=ft[i])&&(s=o.site,k=s[0]-e,S=s[1]-t,T=k*k+S*S,T<g&&(g=T,x=o));if(x){var v=[e,t],w=[e,r],q=[n,r],b=[n,t];x.halfedges.push(Xe.push(Wn(s=x.site,v,w))-1,Xe.push(Wn(s,w,q))-1,Xe.push(Wn(s,q,b))-1,Xe.push(Wn(s,b,v))-1)}}for(i=0;i<a;++i)(o=ft[i])&&(o.halfedges.length||delete ft[i])}var al=[],ci;function gp(){ua(this),this.x=this.y=this.arc=this.site=this.cy=null}function Cn(e){var t=e.P,n=e.N;if(!(!t||!n)){var r=t.site,a=e.site,i=n.site;if(r!==i){var o=a[0],s=a[1],l=r[0]-o,c=r[1]-s,u=i[0]-o,f=i[1]-s,h=2*(l*f-c*u);if(!(h>=-xp)){var d=l*l+c*c,y=u*u+f*f,p=(f*d-c*y)/h,A=(l*y-u*d)/h,x=al.pop()||new gp;x.arc=e,x.site=a,x.x=p+o,x.y=(x.cy=A+s)+Math.sqrt(p*p+A*A),e.circle=x;for(var k=null,S=fr._;S;)if(x.y<S.y||x.y===S.y&&x.x<=S.x)if(S.L)S=S.L;else{k=S.P;break}else if(S.R)S=S.R;else{k=S;break}fr.insert(k,x),k||(ci=x)}}}}function An(e){var t=e.circle;t&&(t.P||(ci=t.N),fr.remove(t),al.push(t),ua(t),e.circle=null)}var il=[];function yp(){ua(this),this.edge=this.site=this.circle=null}function Bo(e){var t=il.pop()||new yp;return t.site=e,t}function Sa(e){An(e),Mn.remove(e),il.push(e),ua(e)}function vp(e){var t=e.circle,n=t.x,r=t.cy,a=[n,r],i=e.P,o=e.N,s=[e];Sa(e);for(var l=i;l.circle&&Math.abs(n-l.circle.x)<Le&&Math.abs(r-l.circle.cy)<Le;)i=l.P,s.unshift(l),Sa(l),l=i;s.unshift(l),An(l);for(var c=o;c.circle&&Math.abs(n-c.circle.x)<Le&&Math.abs(r-c.circle.cy)<Le;)o=c.N,s.push(c),Sa(c),c=o;s.push(c),An(c);var u=s.length,f;for(f=1;f<u;++f)c=s[f],l=s[f-1],ta(c.edge,l.site,c.site,a);l=s[0],c=s[u-1],c.edge=$n(l.site,c.site,null,a),Cn(l),Cn(c)}function _p(e){for(var t=e[0],n=e[1],r,a,i,o,s=Mn._;s;)if(i=ol(s,n)-t,i>Le)s=s.L;else if(o=t-bp(s,n),o>Le){if(!s.R){r=s;break}s=s.R}else{i>-Le?(r=s.P,a=s):o>-Le?(r=s,a=s.N):r=a=s;break}fp(e);var l=Bo(e);if(Mn.insert(r,l),!(!r&&!a)){if(r===a){An(r),a=Bo(r.site),Mn.insert(l,a),l.edge=a.edge=$n(r.site,l.site),Cn(r),Cn(a);return}if(!a){l.edge=$n(r.site,l.site);return}An(r),An(a);var c=r.site,u=c[0],f=c[1],h=e[0]-u,d=e[1]-f,y=a.site,p=y[0]-u,A=y[1]-f,x=2*(h*A-d*p),k=h*h+d*d,S=p*p+A*A,T=[(A*k-d*S)/x+u,(h*S-p*k)/x+f];ta(a.edge,c,y,T),l.edge=$n(c,e,null,T),a.edge=$n(e,y,null,T),Cn(r),Cn(a)}}function ol(e,t){var n=e.site,r=n[0],a=n[1],i=a-t;if(!i)return r;var o=e.P;if(!o)return-1/0;n=o.site;var s=n[0],l=n[1],c=l-t;if(!c)return s;var u=s-r,f=1/i-1/c,h=u/c;return f?(-h+Math.sqrt(h*h-2*f*(u*u/(-2*c)-l+c/2+a-i/2)))/f+r:(r+s)/2}function bp(e,t){var n=e.N;if(n)return ol(n,t);var r=e.site;return r[1]===t?r[0]:1/0}var Le=1e-6,xp=1e-12,Mn,ft,fr,Xe;function wp(e,t,n){return(e[0]-n[0])*(t[1]-e[1])-(e[0]-t[0])*(n[1]-e[1])}function kp(e,t){return t[1]-e[1]||t[0]-e[0]}function Uo(e,t){var n=e.sort(kp).pop(),r,a,i;for(Xe=[],ft=new Array(e.length),Mn=new ea,fr=new ea;;)if(i=ci,n&&(!i||n[1]<i.y||n[1]===i.y&&n[0]<i.x))(n[0]!==r||n[1]!==a)&&(_p(n),r=n[0],a=n[1]),n=e.pop();else if(i)vp(i.arc);else break;if(mp(),t){var o=+t[0][0],s=+t[0][1],l=+t[1][0],c=+t[1][1];up(o,s,l,c),pp(o,s,l,c)}this.edges=Xe,this.cells=ft,Mn=fr=Xe=ft=null}Uo.prototype={constructor:Uo,polygons:function(){var e=this.edges;return this.cells.map(function(t){var n=t.halfedges.map(function(r){return rl(t,e[r])});return n.data=t.site.data,n})},triangles:function(){var e=[],t=this.edges;return this.cells.forEach(function(n,r){if(s=(i=n.halfedges).length)for(var a=n.site,i,o=-1,s,l,c=t[i[s-1]],u=c.left===a?c.right:c.left;++o<s;)l=u,c=t[i[o]],u=c.left===a?c.right:c.left,l&&u&&r<l.index&&r<u.index&&wp(a,l,u)<0&&e.push([a.data,l.data,u.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,t,n){for(var r=this,a,i=r._found||0,o=r.cells.length,s;!(s=r.cells[i]);)if(++i>=o)return null;var l=e-s.site[0],c=t-s.site[1],u=l*l+c*c;do s=r.cells[a=i],i=null,s.halfedges.forEach(function(f){var h=r.edges[f],d=h.left;if(!((d===s.site||!d)&&!(d=h.right))){var y=e-d[0],p=t-d[1],A=y*y+p*p;A<u&&(u=A,i=d.index)}});while(i!==null);return r._found=a,n==null||u<=n*n?s.site:null}};function er(e,t,n){this.k=e,this.x=t,this.y=n}er.prototype={constructor:er,scale:function(e){return e===1?this:new er(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new er(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};er.prototype;class Mr{constructor(t,n,r,a,i){let o;typeof t=="string"?o=document.querySelector(t):o=t,o.innerHTML="",Ee(o).attr("chart_type","PieExploded"),o.classList.add("PieExploded"),o.classList.add("d3chart"),o.classList.add("chart_container"),this.container=Ee(o);const s=700,l=500,c=20,u=40,f=170,h=110,d=this.container.append("svg").attr("width",s).attr("height",l).attr("viewBox",[0,0,s,l]).attr("preserveAspectRatio","xMinYMin meet").attr("style","max-width: 100%; height: auto;");let y=.4,p=Math.min(s-h-u,l-c-f)/2,A=p+h,x=80,k=50,S=100,T=16,g=u,v=l-f/3,w=s/2,q=c/3,b={M:" million",G:" billion",T:" trillion"},F=nt(Zs);const C=(I,he)=>Array(he-I+1).fill().map((qe,Ne)=>I+Ne);var P=Xs(jm).domain([0,30]),O=C(5,20).map(I=>P(I)),V=nt().range(O);let $=Rr(n,I=>I.value);var H=Rr(n,I=>I.exploded?I.value:0),K=H/$,M=Math.PI*2*(K/2),R=Math.PI*.5-M;let W=op().startAngle(R).endAngle(Math.PI*2+R).sort((I,he)=>I.exploded<he.exploded?1:-1).value(I=>I.value),ue=np().innerRadius(p*y).outerRadius(p).cornerRadius(5),U=this.container.append("div").attr("class","d3tooltip").style("display","none");var ae=W(n);ae.forEach(I=>I.midAngle=kc([I.startAngle,I.endAngle])),ae.forEach(I=>I.midAngle+=I.midAngle<=Math.PI*.5?Math.PI*2:0),ae.forEach(I=>I.rightHalf=Math.sin(I.midAngle)>0),ae.forEach(I=>I.topHalf=Math.cos(I.midAngle)>0),ae.forEach(I=>I.quadrant=(I.topHalf?"N":"S")+(I.rightHalf?"E":"W")),ae.forEach(I=>I.ascending=Math.sin(I.midAngle)>0==Math.cos(I.midAngle)>0?-1:1),ae.forEach(I=>I.texty=Math.round(j(I.midAngle,p)[1])),ae.forEach(I=>I.textx=I.rightHalf?Math.round(j(I.midAngle,p)[0])+k:Math.round(j(I.midAngle,p)[0])-S),ae.sort((I,he)=>I.quadrant>he.quadrant?1:-1),ae.sort(function(I,he){return I.quadrant==he.quadrant&&I.midAngle>he.midAngle?1*I.ascending:0}),ae.forEach(function(I){I.elbowx=I.rightHalf?I.textx-k*J(I.textx):I.textx-S*J(I.textx)}),ae.forEach(I=>I.elbowy=I.texty),ae.sort((I,he)=>I.startAngle>he.startAngle?1:-1),ae=ae.sort(I=>I.data.exploded);let Q=d.append("g").attr("transform","translate("+A+","+l/2+")").selectAll("g").data(ae).enter().append("g").attr("transform",I=>I.data.exploded?"translate("+x+" 0)":"translate(0 0)");Q.append("path").attr("class",I=>I.data.exploded?I.data.key:"non-PACTA").attr("d",ue).attr("fill",I=>I.data.exploded?F(I.data.key):V(I.data.key)).attr("stroke","#d9e2e8").style("stroke-width","2px").style("opacity",1).on("mouseover",z).on("mousemove",pe).on("mouseout",ye);var fe=Q.filter(I=>I.data.exploded),m=fe.append("polyline").attr("stroke","black").style("fill","none").attr("stroke-width",1).attr("points",I=>[j(I.midAngle,p),[I.elbowx,I.elbowy],[I.textx-2*J(I.textx),I.texty]]),X=fe.append("text").attr("x",function(I){return I.textx}).attr("y",function(I){return I.texty}).attr("text-anchor",function(I){return I.rightHalf?"start":"end"}).text(I=>I.data.key_translation+" "+te(I.data.value/$)).style("dominant-baseline","middle");const xe=.5;L(),d.append("text").attr("transform","translate("+[s-g,v]+")").text(te(H/$)).style("dominant-baseline","middle").style("font-weight","bold").style("text-anchor","end").style("font-size","2em"),d.append("text").attr("transform","translate("+[s-g,v+30]+")").text(a).style("dominant-baseline","middle").style("text-anchor","end"),d.append("text").attr("transform","translate("+[s-w,q+30]+")").text(i).style("dominant-baseline","middle").style("text-anchor","middle").style("font-size","1.3em");function j(I,he){return[he*Math.sin(I),he*Math.cos(I)*-1]}function J(I){return I<0?-1:1}function te(I){return I<.001?"< 0.1%":Oe(".2p")(I)}function Y(I){return Oe(".2s")(I).replace(/M/,b.M).replace(/G/,b.G).replace(/T/,b.T)+" "+r}function L(){let I,he,qe,Ne,ge,Ae,Me,De,He;I=!1,X.each(function(Fe){he=Ee(this),qe=he.attr("y"),X.each(function(Be){Ne=Ee(this),ge=Ne.attr("y"),Fe!=Be&&he.attr("text-anchor")==Ne.attr("text-anchor")&&(Ae=qe-ge,!(Math.abs(Ae)>T)&&(I=!0,Me=Ae>0?1:-1,De=Me*xe,he.attr("y",+qe+De),Ne.attr("y",+ge-De)))})}),I&&(m.attr("points",function(Fe,Be){return He=Ee(X.nodes()[Be]),[j(Fe.midAngle,p),[Fe.elbowx,He.attr("y")],[Fe.textx-2*J(Fe.textx),He.attr("y")]]}),setTimeout(L,20))}function z(I){U.html(I.data.key_translation+"<br>"+Y(I.data.value)+" ("+te(I.data.value/$)+")").style("display","inline-block").style("left",Pe.pageX+10+"px").style("top",Pe.pageY-20+"px")}function pe(){U.style("left",Pe.pageX+10+"px").style("top",Pe.pageY-20+"px")}function ye(){U.style("display","none")}}}class Vo{constructor(t,n,r,a,i){let o;typeof t=="string"?o=document.querySelector(t):o=t,o.innerHTML="",o.classList.add("d3chart"),o.classList.add("techexposure_chart"),o.classList.add("chart_container"),this.container=Ee(o);const s=600,l=700,c=20,u=170,f=60,h=100,d=30,y=12,p=25;let A="This portfolio",x="Benchmark*",k=" of assets under management<br>",S={before_sec:" of ",after_sec:" sector"},T={before_sec:"Low-carbon ",after_sec:" technologies"},g={top:"Low-carbon technologies",bottom:"within a sector"};const v=this.container.append("svg").attr("width",s).attr("height",l).attr("viewBox",[0,0,s,l]).attr("preserveAspectRatio","xMinYMin meet").attr("style","max-width: 100%; height: auto;");let w="Global Market",q=n.filter(L=>L.asset_class_translation==r).filter(L=>L.equity_market_translation==w).filter(L=>L.this_portfolio==!0|L.portfolio_name==a),b=q.filter(L=>L.this_portfolio).sort(function(L,z){return xc(L.cumsum+L.plan_carsten,z.cumsum+z.plan_carsten)}),F=me(b,L=>L.ald_sector_translation).keys();q=q.filter(L=>F.includes(L.ald_sector_translation));let C=[];F.forEach(function(L){q.filter(pe=>pe.ald_sector_translation==L).forEach(function(pe){C.push(pe)})});let P=Za(C.map(L=>L.cumsum+L.plan_carsten))*1.05,O=jt().range([c,l-f]).domain(F),V=jt().range([0,(d+y)*2]).domain([!0,!1]),$=Ht().range([0,s-u-h]).domain([0,P]).nice();v.append("g").attr("class","bars_group").attr("transform","translate("+h+",0)").selectAll("rect").data(C).enter().append("rect").attr("height",d).attr("class","bar").attr("class",L=>L.ald_sector+" "+L.technology).attr("transform",L=>"translate(0,"+O(L.ald_sector_translation)+")").attr("class",L=>L.ald_sector+" "+L.technology).attr("y",L=>V(L.this_portfolio)).attr("x",L=>$(L.cumsum)).attr("width",L=>$(L.plan_carsten)).on("mouseover",X).on("mouseout",J).on("mousemove",j),v.append("g").attr("class","green_group").attr("transform","translate("+h+",0)").selectAll("rect").data(C).enter().append("rect").attr("class","green_bar").attr("height",5).attr("fill","green").attr("transform",L=>"translate(0,"+O(L.ald_sector_translation)+")").attr("y",L=>V(L.this_portfolio)+d+2).attr("x",L=>$(L.cumsum)).attr("width",L=>$(L.plan_carsten)).attr("visibility",L=>L.green?"visible":"hidden").on("mouseover",xe).on("mouseout",J).on("mousemove",j),v.append("g").attr("class","sector_labels").attr("transform","translate("+h+", 0)").selectAll(".sector_label").data(F).enter().append("text").attr("class","sector_label").style("alignment-baseline","bottom").style("text-anchor","middle").attr("fill","black").attr("font-size","0.8em").attr("transform",L=>"translate(0,"+O(L)+") translate(-5,"+(d+y/2)+") rotate(-90)").text(L=>L),v.append("g").attr("class","port_labels").attr("transform","translate("+h+", 0)").selectAll(".portfolio_label").data(F.map(L=>[{ald_sector_translation:L,this_portfolio:!0},{ald_sector_translation:L,this_portfolio:!1}]).flat()).enter().append("text").attr("class","portfolio_label").style("alignment-baseline","central").style("text-anchor","end").attr("fill","black").attr("font-size","0.8em").text(L=>L.this_portfolio?A:x).attr("transform",L=>"translate(-"+p+","+O(L.ald_sector_translation)+")").attr("y",L=>V(L.this_portfolio)+d/2),P>=.04?v.append("g").attr("class","axis").attr("transform","translate("+h+","+(l-c-f+20)+")").call(on($).ticks(5).tickFormat(Oe(".0%"))):v.append("g").attr("class","axis").attr("transform","translate("+h+","+(l-c-f+20)+")").call(on($).ticks(5).tickFormat(Oe(".2%")));let H="*"+a;v.append("g").attr("class","footnote").attr("transform","translate("+(s-u)+","+(l-f/4)+")").selectAll(null).data([H]).enter().append("text").attr("x",0).attr("y",0).style("text-anchor","middle").style("alignment-baseline","central").style("font-size","0.8em").text(L=>L);let K=C.filter(L=>L.sector_prcnt>0).map(L=>(({ald_sector:z,technology:pe,ald_sector_translation:ye,technology_translation:I})=>({ald_sector:z,technology:pe,ald_sector_translation:ye,technology_translation:I}))(L)).filter((L,z,pe)=>pe.findIndex(ye=>ye.ald_sector===L.ald_sector&&ye.technology===L.technology)===z),M=te(K,i),R=me(M,L=>L.ald_sector_translation).keys(),W=25;M.forEach(L=>{L.sector_shift=R.indexOf(L.ald_sector_translation)});let ue=[];ue[0]=0;for(var U=1;U<R.length;U++)ue[U]=ue[U-1]+M.filter(L=>L.ald_sector_translation===R[U-1]).length;let ae=v.append("g").attr("class","legend_group").attr("transform","translate("+(s-h-65)+","+c+")");ae.selectAll("rect").data(M).enter().append("rect").attr("width",12).attr("height",12).attr("class",L=>L.ald_sector+" "+L.technology).attr("x",0).attr("y",(L,z)=>z*17+L.sector_shift*W+20),ae.selectAll("text").data(M).enter().append("text").text(L=>L.technology_translation).style("alignment-baseline","central").style("text-anchor","start").attr("font-size","0.8em").attr("x",25).attr("y",(L,z)=>z*17+6+L.sector_shift*W+20),ae.append("g").attr("class","sector_labels_legend").selectAll("text").data(R).enter().append("text").text(L=>L).style("alignment-baseline","central").style("text-anchor","start").attr("font-size","0.8em").attr("x",0).attr("y",(L,z)=>ue[z]*17+6+z*W);let Q=v.append("g").attr("class","legend_group");if(C.find(L=>L.green==!0)!=null){let L=[{class:"green",sector_shift:M[M.length-1].sector_shift+1}],z=[{text:g.top,sector_shift:M[M.length-1].sector_shift+1},{text:g.bottom,sector_shift:M[M.length-1].sector_shift+1}],pe=ue[ue.length-1]+M.filter(ye=>ye.ald_sector_translation===R[R.length-1]).length;Q.attr("transform","translate("+(s-h-65)+","+(5+pe*17+c)+")"),Q.selectAll("rect").data(L).enter().append("rect").attr("width",12).attr("height",12).attr("class",ye=>ye.class).attr("fill","green").attr("x",0).attr("y",(ye,I)=>I*17+ye.sector_shift*W+20),Q.selectAll("text").data(z).enter().append("text").text(ye=>ye.text).style("alignment-baseline","top").style("text-anchor","start").attr("font-size","0.8em").attr("x",25).attr("y",(ye,I)=>I*14+5+ye.sector_shift*W+20)}const fe=Ee(o).append("div").attr("class","d3tooltip").style("display","none");function m(L){return L=Math.round((L+Number.EPSILON)*1e3)/10,L<.1?"< 0.1%":L+"%"}function X(L){fe.html(Y(L.technology)+"<br>"+m(L.plan_carsten)+k+m(L.sector_prcnt)+S.before_sec+L.ald_sector+S.after_sec).style("display","inline-block")}function xe(L){fe.html(T.before_sec+Y(L.ald_sector)+T.after_sec+"<br>"+m(L.green_sum)+k+m(L.green_prcnt)+S.before_sec+L.ald_sector+S.after_sec).style("display","inline-block")}function j(){fe.style("left",Pe.pageX+10+"px").style("top",Pe.pageY-20+"px")}function J(){fe.style("display","none")}function te(L,z){let pe=me(L,he=>he.ald_sector).keys(),ye=me(L,he=>he.technology).keys(),I=[];return pe.forEach(function(he){z.filter(Ne=>Ne.sector==he)[0].tech_order.forEach(function(Ne){if(ye.includes(Ne)){let ge=L.findIndex(Ae=>Ae.ald_sector==he&&Ae.technology==Ne);I.push(L[ge])}})}),L.length>I.length&&console.warn("Not all sector/technology pairs from the data were found in sector_order variable. The legend shown is incomplete. Please, amend the tech_order_in_sectors.json file. "),I}function Y(L){switch(L){case"Electric":return"Electric";case"Hybrid":return"Hybrid";case"ICE":return"ICE";case"FuelCell":return"Fuel Cell";case"Freight":return"Freight";case"Mix":return"Mix";case"Passenger":return"Passenger";case"Grinding":return"Grinding";case"Integrated facility":return"Integrated facility";case"Coal":return"Coal";case"Gas":return"Gas";case"Oil":return"Oil";case"CoalCap":return"Coal Power";case"GasCap":return"Gas Power";case"HydroCap":return"Hydro Power";case"NuclearCap":return"Nuclear Power";case"OilCap":return"Oil Power";case"RenewablesCap":return"Renewables Power";case"Ac-Electric Arc Furnace":return"Ac-Electric Arc Furnace";case"Bof Shop":return"Bof Shop";case"Dc-Electric Arc Furnace":return"Dc-Electric Arc Furnace";case"Open Hearth Meltshop":return"Open Hearth Meltshop";default:return L}}}}function Cp(e,t,n){n=typeof n>"u"?{}:n;var r=typeof n.columnsText>"u"?[1,6]:n.columnsText,a=typeof n.columnsNumeric>"u"?[2,5]:n.columnsNumeric,i=typeof n.columnsPercent>"u"?[3]:n.columnsPercent,o=typeof n.columnsShortText>"u"?[4]:n.columnsShortText,s=typeof n.columnValueBreakdown>"u"?5:n.columnValueBreakdown,l=typeof n.columnToMergeHeaderWithContent>"u"?5:n.columnToMergeHeaderWithContent,c=typeof n.columnToMergeHeaderNoContent>"u"?6:n.columnToMergeHeaderNoContent,u=Object.keys(e[0]);Ee(t).selectAll("table").remove();var f=Ee(t).attr("class","d3chart included_table").style("width","800px"),h=f.append("table"),d=h.append("thead"),y=h.append("tbody");d.append("tr").selectAll("th").data(u).enter().append("th").text(function(v){return v}).style("text-align","center"),l!=null&&c!=null&&(h.selectAll("thead th:nth-child("+l+")").attr("colspan",2),h.selectAll("thead th:nth-child("+c+")").remove());var p=y.selectAll("tr").data(e).enter().append("tr");p.selectAll("td").data(v=>u.map(w=>({value:v[w]}))).enter().append("td").html(v=>v.value).attr("border","none").style("text-align","left"),r.forEach(v=>S(v)),a.forEach(v=>{A(v),T(v)}),i.forEach(v=>{k(v),T(v)}),o.forEach(v=>g(v));function A(v){h.selectAll("tbody td:nth-child("+v+")").html(w=>x(w.value))}function x(v){return v==null?v:v<1e4&&v>-1e4?v>=0?"<0.01":">-0.01":Oe(",.2f")(v/1e6)}function k(v){h.selectAll("tbody td:nth-child("+v+")").html(w=>w.value==null?w.value:Oe(".0%")(w.value))}function S(v){h.selectAll("tbody td:nth-child("+v+")").style("text-align","left")}function T(v){h.selectAll("tbody td:nth-child("+v+")").style("text-align","right")}function g(v){h.selectAll("tbody td:nth-child("+v+")").style("text-align","center")}return h.selectAll("tbody tr:nth-child("+e.length+")").attr("class","summary_row"),s!=null&&(h.selectAll("thead th:nth-child("+s+")").attr("class","column_left_border"),h.selectAll("tbody td:nth-child("+s+")").attr("class","column_left_border")),h}function lt(){let e=document.createElement("div");e.setAttribute("role","alert");let t=document.createElement("div");t.classList="bg-red-500 text-white font-bold rounded-t px-4 py-2",t.appendChild(document.createTextNode("Something went wrong"));let n=document.createElement("div");return n.classList="border border-t-0 border-red-400 rounded-b bg-red-100 px-4 py-3 text-red-700",n.appendChild(document.createTextNode("An error occurred while generating this plot.")),e.appendChild(t),e.appendChild(n),e}function Tp(e){let t,n=`<div class="analysis"><div class="analysis-intro grid sm:grid-cols-12"><div class="analysis-intro-text sm:col-span-12 p-4"><h3 class="h3">Portfolio-Level Overview</h3> <br/> <p>This section provides an overview of your portfolio&#39;s exposure to key climate-relevant
					sectors, asset classes, and emissions. It answers essential questions about the scope of
					the PACTA analysis, helping you assess the breadth and depth of climate-related metrics
					across your portfolio.
					<br/> <br/>
					You can hover over the graphs to get more in-depth insights of your portfolio-level analysis.
					<br/> <br/>
					Key features in this section:</p> <br/> <ul class="list-disc"><li><strong>Scope of Analysis</strong>: Understand which holdings are included in the
						assessment and if it is a direct or indirect investment.</li> <li><strong>Sector Coverage</strong>: First overview of the exposure to climate-relevant
						sectors and their technologies, as a share of the AUM (assets under management) of the
						portfolio</li> <li><strong>Emissions Coverage</strong>: Get an estimate of how much of your portfolio’s
						emissions are addressed in the analysis, as well as an overview of your portfolio
						absolute emissions.</li></ul> <br/></div></div> <div class="analysis-content grid sm:grid-cols-12 p-4"><div class="analysis-table-explanation sm:col-span-12 card p-8"><h4 class="h4">Asset classes covered by the analysis</h4> <br/> <p>This analysis focuses on asset classes with a direct and measurable impact on the real
					economy, specifically investments in <strong>listed equities</strong> and
					<strong>corporate bonds</strong> on the secondary market. These asset classes represent
					the most accessible and reliable data sources for understanding portfolio alignment with
					climate transition goals.
					<br/> <br/>
					From the total market value of the portfolio, <strong>[X]%</strong> is allocated to equity
					investments, and <strong>[Y]%</strong> is allocated to corporate bonds.</p> <div class="table-box sm:col-span-12"><div class="table table-hover" id="includedTable"></div></div></div></div> <div class="analysis-pie grid sm:grid-cols-12 p-4"><div class="analysis-pie-box sm:col-span-12 card p-8"><div class="analysis-pies-explanation sm:col-span-12"><h4 class="h4">Sector Coverage by Assets Under Management and Absolute CO<sub>2</sub> Emissions</h4> <br/>
					The <strong>PACTA for Investors</strong> analysis focuses on listed equity and corporate
					bond holdings in key climate-relevant sectors, including
					<strong>oil and gas, coal, automotive, power generation, cement, steel, and aviation</strong>, and <strong>aviation</strong>. These sectors meet three criteria: they are major
					contributors to global GHG emissions, have available scenario benchmarks for transition
					expectations, and provide sufficient data for analysis.
					<br/> <br/>
					Sectors like <strong>agriculture, forestry, aluminum, paper, and glass</strong>
					are excluded due to limited asset-level or scenario data.
					<br/><br/>
					While the PACTA analysis centers on sectoral alignment through production capacity, estimating
					<strong>absolute CO2 emissions</strong> associated with a portfolio can provide additional
					insights into the relative importance of each sector in the decarbonization of the
					portfolio.
					<br/><br/>
					The charts below provide an overview of the portfolio’s exposure to
					<strong>PACTA sectors</strong>, as well as the
					<strong>emissions</strong> associated with those sectors.</div> <br/> <div class="analysis-pies-box grid sm:grid-cols-12 card p-4"><div class="pie-value-bonds sm:col-span-6" id="valuePieBonds"></div> <div class="pie-value-equity sm:col-span-6" id="valuePieEquity"></div> <div class="pie-emissions-bonds sm:col-span-6" id="emissionsPieBonds"></div> <div class="pie-emissions-equity sm:col-span-6" id="emissionsPieEquity"></div></div>
				Comparing these charts allows you to assess the relative climate relevance of different sectors
				in your portfolio. For example, while
				<strong>PACTA sectors</strong> may represent
				<strong>[X]%</strong>
				of the equity portfolio&#39;s market value and <strong>[Y]%</strong> of the corporate bond
				portfolio&#39;s market value, they are responsible for <strong>[Z]%</strong> and
				<strong>[W]%</strong>
				of the portfolio&#39;s <strong>absolute CO<sub>2</sub> emissions</strong> in equity and corporate
				bonds, respectively.</div></div> <div class="analysis-exposures grid sm:grid-cols-12 p-4"><div class="analysis-exposure-box sm:col-span-12 card p-8"><div class="analysis-exposures-explanation sm:col-span-12"><h4 class="h4">Exposure to climate-relevant sectors and technologies</h4> <br/> <p>Within each climate-relevant sector, different technologies play varying roles in the
						transition to a low-carbon economy. Understanding your portfolio’s exposure to the
						sector and the associated technologies is critical for assessing both <strong>transition risks</strong>
						and <strong>investment opportunities</strong> in the context of climate change.
						<br/>
						The following chart visualizes the portfolio&#39;s exposure to the different sectors and technologies,
						compared to the relevant benchmarks.</p></div> <div class="analysis-exosures-box grid sm:grid-cols-12 p-4"><div class="exposures-bonds sm:col-span-6" id="techMixAllBonds"></div> <div class="exposures-equity sm:col-span-6" id="techMixAllEquity"></div></div></div></div></div>`;return{c(){t=N("div"),t.innerHTML=n,this.h()},l(r){t=D(r,"DIV",{class:!0,id:!0,"data-svelte-h":!0}),ce(t)!=="svelte-u2ufnw"&&(t.innerHTML=n),this.h()},h(){_(t,"class","content p-8"),_(t,"id","content-portfolio-view")},m(r,a){Z(r,t,a)},p:ke,i:ke,o:ke,d(r){r&&E(t)}}}function Sp(e){return Xa(async()=>{let n=await(await fetch("data/data_included_table.json")).json(),a=await(await fetch("data/data_value_pie_bonds.json")).json(),o=await(await fetch("data/data_value_pie_equity.json")).json(),l=await(await fetch("data/data_emissions_pie_bonds.json")).json(),u=await(await fetch("data/data_emissions_pie_equity.json")).json(),h=await(await fetch("data/data_techexposure.json")).json();function d(){try{new Mr(document.querySelector("#valuePieBonds"),a,"USD","of assets' value covered by PACTA sectors","Corporate bonds portion of the portfolio [% market value]")}catch(x){console.error("Error fetching value pie for bonds",x),document.querySelector("#valuePieBonds").innerHTML="",document.querySelector("#valuePieBonds").appendChild(lt())}try{new Mr(document.querySelector("#valuePieEquity"),o,"USD","of assets' value covered by PACTA sectors","Listed equity portion of the portfolio [% market value]")}catch(x){console.error("Error fetching value pie for equity",x),document.querySelector("#valuePieEquity").innerHTML="",document.querySelector("#valuePieEquity").appendChild(lt())}}function y(){try{new Mr(document.querySelector("#emissionsPieBonds"),l,"tonnes CO<sub>2</sub> emissions","of assets' emissions covered by PACTA sectors","Corporate bonds portion of the portfolio [% CO2 emissions]")}catch(x){console.error("Error fetching emissions pie for bonds",x),document.querySelector("#emissionsPieBonds").innerHTML="",document.querySelector("#emissionsPieBonds").appendChild(lt())}try{new Mr(document.querySelector("#emissionsPieEquity"),u,"tonnes CO<sub>2</sub> emissions","of assets' emissions covered by PACTA sectors","Listed equity portion of the portfolio [% CO2 emissions]")}catch(x){console.error("Error fetching emissions pie for equity",x),document.querySelector("#emissionsPieEquity").innerHTML="",document.querySelector("#emissionsPieEquity").appendChild(lt())}}function p(){try{new Vo(document.querySelector("#techMixAllBonds"),h,"Corporate Bonds","iShares Global Corp Bond UCITS ETF",Aa)}catch(x){console.error("Error fetching techmix for bonds",x),document.querySelector("#techMixAllBonds").innerHTML="",document.querySelector("#techMixAllBonds").appendChild(lt())}try{new Vo(document.querySelector("#techMixAllEquity"),h,"Listed Equity","iShares MSCI World ETF",Aa)}catch(x){console.error("Error fetching techmix for equity",x),document.querySelector("#techMixAllEquity").innerHTML="",document.querySelector("#techMixAllEquity").appendChild(lt())}}function A(){try{Cp(n,"#includedTable",{columnsText:[1,6],columnsNumeric:[2,5],columnsPercent:[3],columnsShortText:[4],columnValueBreakdown:5,columnToMergeHeaderWithContent:5,columnToMergeHeaderNoContent:6})}catch{document.querySelector("#includedTable").innerHTML="",document.querySelector("#includedTable").appendChild(lt())}}A(),d(),y(),p()}),[]}class Ap extends Vt{constructor(t){super(),zt(this,t,Sp,Tp,Ut,{})}}class sl{constructor(t,n){let r;typeof t=="string"?r=document.querySelector(t):r=t,r.innerHTML="",Ee(r).attr("chart_type","ExposureStatsTile"),r.classList.add("ExposureStatsTile"),r.classList.add("d3chart"),r.classList.add("chart_container"),this.container=Ee(r);const a=250,i=120,o=10,s=5,l=5;let c=(a-l)/2,u=i-s-35,f=(i-s)/2-10,h=a-l;const d=this.container.append("svg").attr("width",a).attr("height",i).attr("viewBox",[0,0,a,i]).attr("preserveAspectRatio","xMinYMin meet").attr("style","max-width: 100%; height: auto;");let y=document.querySelector("#sector_selector").value,p=document.querySelector("#asset_class_selector").value,A=n.filter(T=>T.asset_type==p).filter(T=>T.sector==y);d.append("g").attr("transform","translate("+[c,o]+")").append("text").text(p).style("dominant-baseline","middle").style("font-weight","bold").style("text-anchor","end"),d.append("g").attr("transform","translate("+[c,f]+")").append("text").text(S(A[0].percentage_value_invested)).style("dominant-baseline","middle").style("font-weight","bold").style("text-anchor","end").style("font-size","2.5em");let x=["of the","total portfolio"];d.append("g").attr("transform","translate("+[c,u]+")").selectAll("text").data(x).enter().append("text").attr("transform",(T,g)=>"translate(0, "+g*15+")").text(T=>T).style("dominant-baseline","middle").style("text-anchor","end"),d.append("g").attr("transform","translate("+[h,o]+")").append("text").text(y).style("dominant-baseline","middle").style("font-weight","bold").style("text-anchor","end"),d.append("g").attr("transform","translate("+[h,f]+")").append("text").text(S(A[0].perc_asset_val_sector)).style("dominant-baseline","middle").style("font-weight","bold").style("text-anchor","end").style("font-size","2.5em");let k=["of the",p,"portion of portfolio"];d.append("g").attr("transform","translate("+[h,u]+")").selectAll("text").data(k).enter().append("text").attr("transform",(T,g)=>"translate(0, "+g*15+")").text(T=>T).style("dominant-baseline","middle").style("text-anchor","end").style("font-weight",(T,g)=>g==1?"bold":"normal");function S(T){return T==0?"0%":T<.001?"< 0.1%":Oe(".2p")(T)}}}class Mp{constructor(t,n){function r(m,X){var xe=[];return X.forEach((j,J)=>{xe[J]={},xe[J].val_type=j,m.filter(te=>te.val_type==j).forEach(te=>{xe[J][te.technology]=te.value})}),xe}function a(m,X,xe){let j=m.filter(L=>L.year==xe),J=r(j,X),te=ks(J[0]).slice(1);return nl().keys(te)(J)}function i(m,X,xe){let j=m.filter(te=>te.year==xe),J=[];return X.forEach((te,Y)=>{let L=j.filter(z=>z.val_type==te&z.green==!0);J[Y]={},J[Y].val_type=te,L.length>0?J[Y].green_sum=L[0].green_sum:J[Y].green_sum=0}),J}let o;typeof t=="string"?o=document.querySelector(t):o=t,o.innerHTML="",o.classList.add("stacked_bars"),o.classList.add("d3chart"),o.classList.add("chart_container"),this.container=Ee(o);const s=928,l=650,c=50,u=50,f=200,h=200,d=this.container.append("svg").attr("width",s).attr("height",l).attr("viewBox",[0,0,s,l]).attr("preserveAspectRatio","xMinYMin meet").attr("style","max-width: 100%; height: auto;");let y=document.querySelector("#sector_selector").value,p=document.querySelector("#asset_class_selector").value,A=document.querySelector("#scenario_source_selector").value,x=document.querySelector("#scenario_selector").value,k=document.querySelector("#equity_market_selector").value,S=document.querySelector("#benchmark_selector").value,T=n.filter(m=>m.asset_class==p).filter(m=>m.ald_sector==y).filter(m=>m.scenario_source==A).filter(m=>m.scenario==x).filter(m=>m.equity_market==k).filter(m=>m.this_portfolio|m.portfolio_name==S),g=me(T,m=>m.year).keys(),v=[];g.forEach((m,X)=>{v[X]=me(T.filter(xe=>xe.year==m),xe=>xe.val_type).keys()});let w=[];g.forEach((m,X)=>{w[X]={},w[X].year=m,w[X].stackedData=a(T,v[X],m),w[X].greenBars=i(T,v[X],m)});let q=new Set(me(w[0].stackedData,m=>m.key).keys()),b=new Set(me(w[1].stackedData,m=>m.key).keys()),F=Array.from(q.union(b));const C=Ht().domain([0,1]).range([h,s-u]),P=jt().domain(g).rangeRound([c,l-f]).paddingInner(.1),O=jt().domain(v[0]).rangeRound([0,P.bandwidth()]).paddingInner(.1),V=jt().domain(v[1]).rangeRound([0,P.bandwidth()]).paddingInner(.1);let $=Math.min(O.bandwidth()-O.bandwidth()/5,V.bandwidth()-V.bandwidth()/5);const H=nt().domain(F).range(Math.min(3,Qs[F.length])).unknown("#ccc");d.append("g").attr("transform",function(){return"translate(0, "+P(w[0].year)+")"}).selectAll("g").data(w[0].stackedData).enter().append("g").attr("fill",m=>H(m.key)).attr("class",m=>y+" "+m.key).selectAll("rect").data(m=>m.map(X=>(X.key=m.key,X))).enter().append("rect").attr("x",m=>C(m[0])).attr("y",m=>O(m.data.val_type)).attr("height",$).attr("width",m=>C(m[1])-C(m[0])).on("mouseover",ue).on("mouseout",fe).on("mousemove",Q),d.append("g").attr("transform",function(){return"translate(0, "+P(w[1].year)+")"}).selectAll("g").data(w[1].stackedData).enter().append("g").attr("fill",m=>H(m.key)).attr("class",m=>y+" "+m.key).selectAll("rect").data(m=>m.map(X=>(X.key=m.key,X))).enter().append("rect").attr("x",m=>C(m[0])).attr("y",m=>V(m.data.val_type)).attr("height",$).attr("width",m=>C(m[1])-C(m[0])).on("mouseover",ue).on("mouseout",fe).on("mousemove",Q),d.append("g").attr("transform",function(){return"translate(0, "+P(w[0].year)+")"}).selectAll().data(w[0].greenBars).join("g").attr("class",m=>"green_bar"+m.val_type).attr("height",5).attr("fill","green").append("rect").attr("x",h).attr("y",m=>O(m.val_type)+11*$/10).attr("height",$/5).attr("width",m=>C(m.green_sum)-C(0)).on("mouseover",U).on("mouseout",fe).on("mousemove",Q),d.append("g").attr("transform",function(){return"translate(0, "+P(w[1].year)+")"}).selectAll().data(w[1].greenBars).join("g").attr("class",m=>"green_bar"+m.val_type).attr("height",5).attr("fill","green").append("rect").attr("x",h).attr("y",m=>V(m.val_type)+11*$/10).attr("height",$/5).attr("width",m=>C(m.green_sum)-C(0)).on("mouseover",U).on("mouseout",fe).on("mousemove",Q),d.append("g").attr("transform",`translate(0,${c-c/5})`).attr("class","axis").call(Dc(C).ticks(5).tickFormat(Oe(".0%"))).selectAll("text").style("font-size","1.8em"),d.append("g").attr("transform",`translate(0,${l-f})`).attr("class","axis").call(on(C).ticks(5).tickFormat(Oe(".0%"))).selectAll("text").style("font-size","1.8em"),d.append("g").attr("transform",`translate(${h},${P(w[0].year)-20})`).attr("class","axis").call(Pn(O).tickSizeOuter(0)).call(m=>m.selectAll(".domain").remove()).call(m=>m.selectAll(".tick line").remove()).selectAll("text").style("font-size","1.8em").on("mouseover",ae).on("mouseout",fe).on("mousemove",Q),d.append("g").attr("transform",`translate(${h},${P(w[1].year)})`).attr("class","axis").call(Pn(V).tickSizeOuter(0)).call(m=>m.selectAll(".domain").remove()).call(m=>m.selectAll(".tick line").remove()).selectAll("text").style("font-size","1.8em").on("mouseover",ae).on("mouseout",fe).on("mousemove",Q),d.append("g").attr("class","axis").call(Wo(P).tickSizeOuter(0)).call(m=>m.selectAll(".domain").remove()).call(m=>m.selectAll(".tick line").remove()).selectAll("text").style("font-size","1.8em");let K=d.append("g").attr("transform",`translate(${h},${l-2*f/3})`).attr("class","legend").selectAll("g").data(F).enter().append("g").attr("transform",function(m,X){return"translate("+X%3*230+", "+Math.floor(X/3)*30+")"});if(K.append("rect").attr("width",22).attr("height",22).attr("class",m=>y+" "+m),K.append("text").attr("x",30).attr("y",20).text(m=>m).style("font-size","0.9em"),Rr(w[0].greenBars,m=>m.green_sum)+Rr(w[1].greenBars,m=>m.green_sum)>0){let m=d.append("g").attr("transform",`translate(${h},${l-f/4})`).attr("class","legend").selectAll("g").data(["Low-carbon technologies within a sector"]).enter().append("g");m.append("rect").attr("width",22).attr("height",22).attr("fill","green"),m.append("text").attr("x",30).attr("y",20).text(X=>X).style("font-size","0.9em")}const R=Ee(o).append("div").attr("class","d3tooltip").style("display","none");function W(m){return m=Math.round((m+Number.EPSILON)*1e3)/10,m<.1?"< 0.1%":m+"%"}function ue(m){R.html(m.key+":<br>"+W(m[1]-m[0])+" of the "+y+" sector.").style("display","inline-block")}function U(m){R.html("Low-carbon technologies:<br>"+W(m.green_sum)+" of the "+y+" sector.").style("display","inline-block")}function ae(){this.innerHTML=="Scenario"?R.html(x).style("display","inline-block"):this.innerHTML=="Benchmark"&&R.html(S).style("display","inline-block")}function Q(){R.style("left",Pe.pageX+10+"px").style("top",Pe.pageY-20+"px")}function fe(){R.style("display","none")}}}class Ep{constructor(t,n){let r;typeof t=="string"?r=document.querySelector(t):r=t,r.innerHTML="",Ee(r).attr("chart_type","trajectory_alignment"),r.classList.add("d3chart"),r.classList.add("trajectory_alignment_chart"),Ee(r).attr("constructor_name","trajectory_alignment"),r.classList.add("chart_container"),this.container=Ee(r);let a=document.querySelector("#asset_class_selector").value,i=document.querySelector("#sector_selector").value,o=document.querySelector("#scenario_source_selector").value,s=document.querySelector("#benchmark_selector").value,l=document.querySelector("#allocation_method_selector").value,c=document.querySelector("#equity_market_selector").value,u=n.filter(G=>G.asset_class==a).filter(G=>G.ald_sector==i).filter(G=>G.scenario_source==o).filter(G=>!G.benchmark|G.portfolio_name==s).filter(G=>G.allocation_translation==l).filter(G=>G.equity_market_translation==c),f=me(u,G=>G.technology).keys();const h=1e3;let d,y;f.length>3&f.length<=6?(d=550,y=60):f.length>0&f.length<=3?(d=350,y=0):console.log("Too many or too few technologies to create a plot. Please check your data. Maximum number of technologies we support currently is 6.");const p=50,A=50,x=150,k=55,S=this.container.append("svg").attr("width",h).attr("height",d).attr("viewBox",[0,0,h,d]).attr("preserveAspectRatio","xMinYMin meet").attr("style","max-width: 100%; height: auto;");n.forEach(G=>G.date=si("%Y")(G.year));let T=Za(me(u.filter(G=>G.scenario=="production"),G=>G.year).keys());if(u=u.filter(G=>G.year<=T),u.length==0){r.querySelector("svg").innerHTML="";return}let g="Production in ",v="Portfolio",w="Benchmark",q={top:"Yearly production",bottom:"volume"},b="* start date of the analysis",F="(Planned) yearly production: ";const C=Ee(r).append("div").attr("class","d3tooltip").style("display","none");let P=ie(o),O=ne(o),V=3,$=60,H=(h-k-x-(V-1)*$)/V,K=195;const M=js().range([0,H]).clamp(!0).domain(Gt(u,G=>G.date));let R=Ht().range([K,0]).clamp(!0);const W=1+Math.abs(M.domain().reduce((G,ee)=>G.getFullYear()-ee.getFullYear()));let ue,U,ae,Q,fe,m,X,xe,j,J,te,Y,L,z,pe,ye,I,he,qe;f.forEach((G,ee)=>{if(ue=u.filter(re=>re.technology==G),U=S.append("g").attr("transform",`translate(${ee%3*H+$*(ee%3)+k},${Math.floor(ee/3)*K+y*Math.floor(ee/3)+p})`),ae=ue.filter(re=>!re.benchmark&&re.scenario=="production"),ae.length!=0&&(Q=ue.filter(re=>re.portfolio_name_translation==s),Q.length==0&&console.log("No benchmark data available for selected combination of benchmark, allocation method, equity market and scenario source. Try changing the selection."),fe=ue.filter(re=>!re.benchmark),ue=ue.filter(re=>!re.benchmark||re.portfolio_name_translation==s),ue.length!=0)){if(m=ws().key(re=>re.scenario).entries(fe).sort(re=>re.key=="production"),X=de(G),Q.length>0?(j=ae[0].value/Q[0].value,xe=Gt(Q,re=>re.value*j)):xe=null,J=Gt(ae,re=>re.value),te=Gt(fe,re=>re.value),R.domain(Gt([xe,J,te].flat())).nice(),X?m.sort((re,_e)=>_e.values.filter(we=>we.year==T)[0].value>re.values.filter(we=>we.year==T)[0].value?1:-1):m.sort((re,_e)=>_e.values.filter(we=>we.year==T)[0].value>re.values.filter(we=>we.year==T)[0].value?-1:1),Y=rp().x(re=>M(re.date)).y0(X?K:0).y1(re=>R(re.value)),L=U.append("g").attr("class","area_paths"),z=U.select("g.area_paths"),z.selectAll("*").remove(),L.append("rect").attr("class","worse").attr("x",0).attr("y",0).attr("width",H).attr("height",K).style("fill",O("worse")),z=L.selectAll(".area").data(m.filter(re=>re.key!="production")),z.enter().append("path").attr("class",re=>"area "+re.key).attr("d",re=>Y(re.values)).style("fill",re=>O(re.key)),he=me(ae,re=>re.unit_translation).keys()[0],qe=me(ue,re=>re.year).keys().slice(0,Math.min(W,5)+1),qe[0]="31-12-"+qe[0]+"*",U.append("g").attr("class","xaxis").attr("transform","translate(0,"+K+")").call(on(M).ticks(Math.min(W,5)).tickFormat((re,_e)=>qe[_e])).selectAll("text").style("font-size","1.1em"),U.append("g").attr("class","yaxis").call(Pn(R).ticks(8).tickFormat(Oe(".2s"))).selectAll("text").style("font-size","1.1em"),U.append("g").attr("class","yaxislabel").append("text").attr("class","yaxislabel").attr("transform","rotate(-90)").attr("y",0-k).attr("x",0-K/2).attr("dy","1em").style("text-anchor","middle").style("alignment-baseline","bottom").text(g+he),pe=U.append("g").attr("class","production_line_grp"),ye=$r().x(re=>M(re.date)).y(re=>R(+re.value)),pe.selectAll("path").remove(),pe.selectAll(".dot").remove(),pe.append("path").attr("class","production_line").attr("stroke-width",1.5).attr("fill","none").attr("stroke","black").attr("d",()=>ye(ae)),pe.selectAll(".dot").data(ae).enter().append("circle").attr("class","dot").attr("r",2.5).style("stroke","#000").style("fill","#000").attr("cx",re=>M(re.date)).attr("cy",re=>R(+re.value)).on("mouseover",Be).on("mousemove",at).on("mouseout",Ve),I=U.append("g").attr("class","benchmark_line_grp"),I.selectAll("path").remove(),I.selectAll(".dot").remove(),Q.length>0){let re=$r().x(_e=>M(_e.date)).y(_e=>R(+_e.value*j));I.append("path").attr("class","benchmark_line").attr("stroke-width",1.5).attr("fill","none").attr("stroke","black").style("stroke-dasharray","2,2").attr("d",()=>re(Q)),I.selectAll(".dot").data(Q).enter().append("circle").attr("class","dot").attr("r",2.5).style("stroke","#000").style("fill","#000").attr("cx",_e=>M(_e.date)).attr("cy",_e=>R(+_e.value*j))}U.append("g").attr("class","mini-plot-title").append("text").attr("y",-p/2).attr("x",H/2).attr("dy","1em").style("text-anchor","middle").style("alignment-baseline","bottom").text(G)}});let Ne=S.append("g").attr("transform","translate("+(H*V+$*(V-1)+k+27)+", "+p+")").attr("class","legend_grp");S.append("svg:defs").append("svg:marker").attr("id","arrow").attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto-start-reverse").append("svg:path").attr("d","M 0 0 L 10 5 L 0 10 z");let ge=25,Ae=50,Me=m.filter(G=>G.key!="production");Me=[{key:"worse"}].concat(Me),Me.sort((G,ee)=>P.indexOf(G.key)-P.indexOf(ee.key)),Ne.selectAll("*").remove();let De=Ne.selectAll(null).data(Me);De.enter().append("rect").attr("x",0).attr("y",(G,ee)=>ee*ge).attr("width",Ae).attr("height",ge).style("fill",G=>O(G.key)),De.enter().append("text").attr("x",Ae+8).attr("y",(G,ee)=>ee*ge).style("display",(G,ee)=>ee==0?"none":"inline").style("text-anchor","start").style("alignment-baseline","central").style("font-size","0.8em").text(G=>G.key),De.enter().append("line").attr("x1",0).attr("y1",(G,ee)=>ee*ge).attr("x2",Ae+3).attr("y2",(G,ee)=>ee*ge).attr("marker-end","url(#arrow)").style("stroke","black").style("stroke-width",1).style("display",(G,ee)=>ee==0?"none":"inline"),De.data([v,w]).enter().append("text").attr("transform","translate(0,"+(Me.length*ge+10)+")").attr("x",31).attr("y",(G,ee)=>ee*ge+ge/2).style("text-anchor","start").style("alignment-baseline","central").style("font-size","0.8em").text(G=>G),De.data([v,w]).enter().append("line").attr("transform","translate(0,"+(Me.length*ge+10)+")").attr("x1",0).attr("y1",(G,ee)=>ee*ge+ge/2).attr("x2",26).attr("y2",(G,ee)=>ee*ge+ge/2).style("stroke","black").style("stroke-width",1.5).style("stroke-dasharray",(G,ee)=>ee==0?"none":"2,2"),De.data([v,w]).enter().append("circle").attr("transform","translate(0,"+(Me.length*ge+10)+")").attr("r",2.5).style("stroke","#000").style("fill","#000").attr("cx",13).attr("cy",(G,ee)=>ee*ge+ge/2),De.data([1]).enter().append("circle").attr("transform","translate(0,"+((Me.length+1)*ge+10)+")").attr("r",2.5).style("stroke","#000").style("fill","#000").attr("cx",13).attr("cy",ge+ge/2);let He=[q.top,q.bottom];De.data(He).enter().append("text").attr("transform","translate(0,"+((Me.length+1)*ge+10)+")").attr("x",31).attr("y",(G,ee)=>ge+ge/2+ee*(ge/2)).style("text-anchor","start").style("alignment-baseline","central").style("font-size","0.8em").text(G=>G),S.append("g").attr("class","footnote").attr("transform","translate("+(h-x)+","+(d-A/3)+")").selectAll(null).data([b]).enter().append("text").attr("x",0).attr("y",0).style("text-anchor","end").style("alignment-baseline","central").style("font-size","0.8em").text(G=>G);function Be(G){C.html(v+"<br>"+F+Oe(".2f")(G.value)+" "+G.unit_translation).style("display","inline-block").style("left",Pe.pageX+10+"px").style("top",Pe.pageY-20+"px")}function at(){C.style("left",Pe.pageX+10+"px").style("top",Pe.pageY-20+"px")}function Ve(){C.style("display","none")}function ne(G){switch(G){case"GECO2021":return nt().domain(["production","1.5C-Unif","NDC-LTS","CurPol","worse"]).range(["black","#709458","#8db96e","#FDF28D","#e07b73"]);case"WEO2021":return nt().domain(["production","NZE_2050","SDS","APS","STEPS","worse"]).range(["black","#9cab7c","#c3d69b","#FFFFCC","#fde291","#e07b73"]);case"GECO2022":return nt().domain(["production","1.5C","NDC_LTS","Reference","worse"]).range(["black","#9cab7c","#c3d69b","#FFFFCC","#e07b73"]);case"ISF2021":return nt().domain(["production","NZE","worse"]).range(["black","#9cab7c","#e07b73"]);case"WEO2022":return nt().domain(["production","NZE_2050","APS","STEPS","worse"]).range(["black","#9cab7c","#FFFFCC","#fde291","#e07b73"]);case"GECO2023":return nt().domain(["production","1.5C","NDC-LTS","Reference","worse"]).range(["black","#9cab7c","#c3d69b","#FFFFCC","#e07b73"]);case"ISF2023":return nt().domain(["production","1.5°C","worse"]).range(["black","#9cab7c","#e07b73"]);case"WEO2023":return nt().domain(["production","NZE_2050","APS","STEPS","worse"]).range(["black","#9cab7c","#FFFFCC","#fde291","#e07b73"]);default:return nt().domain(["production","ETP_SDS","NZE","IPR FPS 2021","worse"]).range(["black","#9cab7c","#9cab7c","#9cab7c","#e07b73"])}}function ie(G){let ee;return G=="GECO2021"?ee=["worse","CurPol","NDC-LTS","1.5C-Unif"]:G=="WEO2021"?ee=["worse","STEPS","APS","SDS","NZE_2050"]:G=="GECO2022"?ee=["worse","Reference","NDC_LTS","1.5C"]:G=="ISF2021"?ee=["worse","NZE"]:G=="WEO2022"?ee=["worse","STEPS","APS","NZE_2050"]:G=="WEO2023"?ee=["worse","STEPS","APS","NZE_2050"]:G=="GECO2023"?ee=["worse","Reference","NDC-LTS","1.5C"]:G=="ISF2023"?ee=["worse","1.5°C"]:ee=["worse","IPR FPS 2021","NZE","ETP_SDS"],ee}function de(G){switch(G){case"Oil":case"Coal":case"Gas":case"ICE":case"CoalCap":case"GasCap":case"OilCap":return!0;case"Electric":case"Hybrid":case"HydroCap":case"NuclearCap":case"RenewablesCap":case"FuelCell":return!1;default:console.log("undefined tech:",G)}}}}class Pp{constructor(t,n){let r;typeof t=="string"?r=document.querySelector(t):r=t,Ee(r).attr("chart_type","time_line"),r.innerHTML="",r.classList.add("time_lineChart"),r.classList.add("d3chart"),r.classList.add("emissionstrajectory_chart"),r.classList.add("chart_container"),this.container=Ee(r);const a=928,i=650,o=50,s=50,l=200,c=200,u=this.container.append("svg").attr("width",a).attr("height",i).attr("viewBox",[0,0,a,i]).attr("preserveAspectRatio","xMinYMin meet").attr("style","max-width: 100%; height: auto;");let f=document.querySelector("#asset_class_selector").value,h=document.querySelector("#sector_selector").value,d=document.querySelector("#allocation_method_selector").value,y=document.querySelector("#equity_market_selector").value,p=document.querySelector("#scenario_source_selector").value,A=document.querySelector("#scenario_selector").value,x=n.filter(U=>U.asset_class==f).filter(U=>U.sector==h).filter(U=>U.allocation_translation==d).filter(U=>U.equity_market==y).filter(U=>U.scenario_source==p).filter(U=>U.scenario==A);const k=si("%Y"),S=js().domain(Gt(x,U=>k(U.year))).range([c,a-s]),T=Ht().domain(Gt(x,U=>U.value)).nice().range([i-l,o]);let g="#1b324f",v="#00c082",w="Scenario",q="Portfolio",b="Value: ",F="* start date of the analysis";const C=$r().x(U=>S(k(U.year))).y(U=>T(U.value));let O=ws().key(U=>U.name).entries(x);u.selectAll(".line").data(O).enter().append("path").attr("class","line").style("fill","none").style("stroke",U=>U.values[0].plan=="plan"?g:v).style("stroke-width","2px").attr("id",U=>U.key).attr("d",U=>C(U.values)),u.selectAll(".dot").data(x).enter().append("circle").attr("class","dot").attr("r",5).style("stroke","#fff").style("fill",U=>U.plan=="plan"?g:v).attr("name",U=>U.key).attr("x_value",U=>U.year).attr("y_value",U=>U.value).attr("cx",U=>S(k(U.year))).attr("cy",U=>T(U.value)).on("mouseover",R).on("mousemove",W).on("mouseout",ue);const V=Ee(r).append("div").attr("class","d3tooltip").style("display","none"),$=1+Math.abs(S.domain().reduce((U,ae)=>U.getFullYear()-ae.getFullYear()));let H=me(x,U=>U.year).keys().slice(0,Math.min($,5)+1);H[0]="31-Dec-"+H[0]+"*",u.append("g").attr("transform","translate(0,"+(i-l)+")").call(on(S).ticks(Math.min($,5)).tickFormat((U,ae)=>H[ae])).selectAll("text").style("font-size","2em"),u.append("g").attr("transform","translate("+c+",0)").call(Pn(T).ticks(6).tickFormat(Oe(".3s"))).selectAll("text").style("font-size","2em"),u.append("text").attr("transform",`translate(${c/2},${(i-l)/2+25}) rotate(-90)`).attr("x",0).attr("y",0).attr("dy","1em").style("text-anchor","middle").text(x.map(U=>U.unit_translation)[0]).style("font-size","1.6em"),u.append("g").attr("class","footnote").attr("transform","translate("+(a-s/2)+","+(i-o-5*l/12)+")").append("text").attr("x",0).attr("y",0).style("text-anchor","end").style("alignment-baseline","central").style("font-size","1.4em").text(F);let K=[q,x.map(U=>U.scenario_source)[0]+" "+x.map(U=>U.scenario)[0]+" "+w],M=u.append("g").attr("class","legend").attr("transform","translate("+c+","+(i-l/3)+")").selectAll("g").data(K);M.enter().append("line").attr("x1",U=>U==q?0:200).attr("x2",U=>U==q?60:260).attr("y1",0).attr("y2",0).style("stroke-width",2).style("stroke",U=>U==q?g:v),M.enter().append("circle").attr("r",5).attr("cx",U=>U==q?30:230).attr("cy",0).style("stroke","#fff").style("fill",U=>U==q?g:v),M.enter().append("text").attr("x",U=>U==q?70:270).attr("y",3).text(U=>U).attr("alignment-baseline","middle").style("font-size","0.9em");function R(U){V.html((U.plan=="plan"?q:w)+"<br>"+b+Oe(".5f")(U.value)+" "+U.unit_translation).style("display","inline-block").style("left",Pe.pageX+10+"px").style("top",Pe.pageY-20+"px")}function W(){V.style("left",Pe.pageX+10+"px").style("top",Pe.pageY-20+"px")}function ue(){V.style("display","none")}}}function Lp(e){let t,n,r,a=`<h2 class="h3 text-center">Please select a sector and an asset class for the analysis</h2> <br/> <p>The <strong>sector-level analysis</strong> provides a detailed look at your listed equity
				and corporate bond holding’s exposure to key technologies relevant for the climate
				transition in the analysed sector.
				<br/><br/>

				To view the sector-level results, select the appropriate options from the drop-down menus
				below and click <kbd class="kbd">Go!</kbd>. If no results appear after clicking
				<kbd class="kbd">Go!</kbd>, it likely means your portfolio does not have exposure to the
				selected sector or financial asset.</p>`,i,o,s,l,c="Please select",u,f,h,d="Please select",y,p,A="Go!",x,k,S,T,g,v="Please select",w,q,b,F="Please select",C,P,O,V=`<div class="analysis-intro-text sm:col-span-9"><h3 class="h3">Sector-level analysis</h3> <br/>
				This section presents by sector and asset class, how the aggregated production plans of companies
				within the portfolio align with climate goals in terms of technology share, and future build
				out of low carbon technologies or future phase down of high carbon technologies. For sectors
				without technology roadmaps, you will obtain the 5-year emission intensity projections for your
				portfolio, compared to scenario targets. By evaluating sector-level alignment with climate scenarios,
				this section helps you understand your portfolio&#39;s positioning in key sectors for the global
				transition to a low-carbon economy.
				<br/><br/>
				Key features in this section:
				<br/><br/> <ul class="list-disc"><li><strong>Sector Exposure</strong>: Review the portfolio&#39;s exposure to a specific sector,
						as well as its exposure to sector-specific technologies.</li> <li><strong>Climate Scenario Alignment</strong>: Understand how the production plans of
						investee companies in this sector align with different climate pathways.</li> <li><strong>Benchmark Comparison</strong>: See how your portfolio&#39;s performance compares to
						market benchmarks.</li></ul> <br/>
				For deeper insights into the methodology behind these analyses, please refer to the
				<a class="anchor" href="https://rmi.gitbook.io/pacta-knowledge-hub">PACTA Knowledge Hub</a>.</div> <div class="analysis-intro-stats sm:col-span-3 p-0"><div class="exposure-stats" id="exposure-stats"></div></div>`,$,H,K,M=`<div class="plot-trajectory-card-box p-2 sm:col-span-10"><div class="plot-trajectory-box grid card p-8" id="trajectory-box"><div class="trajectory-explanation"><h4 class="h4">Future production plans</h4> <br/> <p>The charts below present the portfolio alignment with various climate transition
								scenarios by technology, based on the <strong>production plans</strong> of the
								companies in the portfolio. This analysis applies to sectors with well-defined
								technology decarbonization roadmaps, including <strong>power, fossil fuels,</strong>
								and <strong>automotive</strong>. The analysis looks at a
								<strong>5-year horizon</strong>, comparing companies’ planned production
								trajectories with those outlined in climate scenarios. The results are benchmarked
								against market indices to help assess potential risks and opportunities for
								alignment with climate goals.
								<br/>
								Note that the scenarios vary in their assumptions about the pace of technological change,
								ranging from rapid to gradual shifts. For more details, refer to the
								<a class="anchor" href="https://pacta.rmi.org/wp-content/uploads/2024/11/202410_P4I_scenario_document.pdf">PACTA for Investors Scenario Document</a>.</p></div> <div class="trajectory-plot" id="trajectory-plot"></div></div></div> <div class="other-sector-plots-box grid sm:grid-cols-6"><div class="techmix-plot-card-box p-2 sm:col-span-3"><div class="techmix-plot-box sm:col-span-3 card p-8"><div class="techmix-explanation"><h4 class="h4">Current and Future technology breakdown</h4> <p>In sectors with established low-carbon alternatives, it is valuable to examine how
									the <strong>technology mix</strong> evolves over the next five years. This comparison
									helps gauge how the portfolio’s technology distribution aligns with future decarbonization
									goals. In the long term, low-carbon technologies will play a more critical role than
									high carbon technologies.</p></div> <div class="techmix-plot" id="techmix-plot"></div></div></div> <div class="emission-intensity-card-box p-2 sm:col-span-3"><div class="emission-intensity-plot-box sm:col-span-3 card p-8"><div class="emission-intensity-explanation"><h4 class="h4">Alignment of emission intensities</h4> <p>The emission intensities metric tracks changes in <strong>emissions intensity</strong>
									over time, comparing the current trajectory of the portfolio with the emission reduction
									paths outlined in climate scenarios. It&#39;s a key measure for sectors like cement, steel,
									and aviation, where decarbonization relies on improving efficiency and investing in
									R&amp;D. This metric helps investors understand how companies are progressing toward carbon
									neutrality and assess their potential for future alignment with decarbonization goals.
									<br/></p></div> <div class="emission-intensity-plot" id="emission-intensity-plot"></div></div></div></div>`,R,W,ue=`<p class="font-bold">No data found for the parameter selection</p> <p class="text-sm">Please make a different selecion in the parameters panel or change the asset class or
					sector.</p>`,U,ae,Q,fe,m="Parameters",X,xe,j,J,te,Y="Scenario source ⓘ",L,z,pe="Applies to the technology mix and production volume alignment plots.",ye,I,he,qe="Please select",Ne,ge,Ae,Me="Scenario ⓘ",De,He,Fe="Applies to the technology mix plot.",Be,at,Ve,ne="Please select",ie,de,G,ee="Allocation method ⓘ",re,_e,we="Applies to the production volume alignment and emission intensity plots.",pt,$e,et,Kt="Please select",bt,ze,ct,fn="Equity market ⓘ",It,Se,On="Applies to the production volume alignment and the technology mix plots.",it,gt,yt,Qt="Please select",hn,tt,xt,ui="Benchmark ⓘ",fa,Jt,fi="Applies to the production volume alignment and the technology mix plots.",ha,$t,Rt,hi="Please select",pr,Ct,di='<p class="font-bold">No data found for this asset class / sector combination</p> <p class="text-sm">Please make a different selecion.</p>';return{c(){t=N("div"),n=N("div"),r=N("div"),r.innerHTML=a,i=se(),o=N("div"),s=N("select"),l=N("option"),l.textContent=c,u=se(),f=N("select"),h=N("option"),h.textContent=d,y=se(),p=N("button"),p.textContent=A,x=se(),k=N("div"),S=N("div"),T=N("select"),g=N("option"),g.textContent=v,w=se(),q=N("select"),b=N("option"),b.textContent=F,C=se(),P=N("div"),O=N("div"),O.innerHTML=V,$=se(),H=N("div"),K=N("div"),K.innerHTML=M,R=se(),W=N("div"),W.innerHTML=ue,U=se(),ae=N("div"),Q=N("div"),fe=N("h4"),fe.textContent=m,X=se(),xe=N("br"),j=se(),J=N("label"),te=N("span"),te.textContent=Y,L=se(),z=N("div"),z.textContent=pe,ye=se(),I=N("select"),he=N("option"),he.textContent=qe,Ne=se(),ge=N("label"),Ae=N("span"),Ae.textContent=Me,De=se(),He=N("div"),He.textContent=Fe,Be=se(),at=N("select"),Ve=N("option"),Ve.textContent=ne,ie=se(),de=N("label"),G=N("span"),G.textContent=ee,re=se(),_e=N("div"),_e.textContent=we,pt=se(),$e=N("select"),et=N("option"),et.textContent=Kt,bt=se(),ze=N("label"),ct=N("span"),ct.textContent=fn,It=se(),Se=N("div"),Se.textContent=On,it=se(),gt=N("select"),yt=N("option"),yt.textContent=Qt,hn=se(),tt=N("label"),xt=N("span"),xt.textContent=ui,fa=se(),Jt=N("div"),Jt.textContent=fi,ha=se(),$t=N("select"),Rt=N("option"),Rt.textContent=hi,pr=se(),Ct=N("div"),Ct.innerHTML=di,this.h()},l(ut){t=D(ut,"DIV",{class:!0,id:!0});var Wt=oe(t);n=D(Wt,"DIV",{class:!0});var gr=oe(n);r=D(gr,"DIV",{class:!0,"data-svelte-h":!0}),ce(r)!=="svelte-107q3q1"&&(r.innerHTML=a),i=le(gr),o=D(gr,"DIV",{class:!0});var dn=oe(o);s=D(dn,"SELECT",{class:!0,id:!0});var mi=oe(s);l=D(mi,"OPTION",{"data-svelte-h":!0}),ce(l)!=="svelte-1msln"&&(l.textContent=c),mi.forEach(E),u=le(dn),f=D(dn,"SELECT",{class:!0,id:!0});var pi=oe(f);h=D(pi,"OPTION",{"data-svelte-h":!0}),ce(h)!=="svelte-1msln"&&(h.textContent=d),pi.forEach(E),y=le(dn),p=D(dn,"BUTTON",{class:!0,id:!0,"data-svelte-h":!0}),ce(p)!=="svelte-2z7m03"&&(p.textContent=A),dn.forEach(E),gr.forEach(E),Wt.forEach(E),x=le(ut),k=D(ut,"DIV",{class:!0,id:!0});var yr=oe(k);S=D(yr,"DIV",{class:!0});var vr=oe(S);T=D(vr,"SELECT",{class:!0,id:!0});var gi=oe(T);g=D(gi,"OPTION",{"data-svelte-h":!0}),ce(g)!=="svelte-1msln"&&(g.textContent=v),gi.forEach(E),w=le(vr),q=D(vr,"SELECT",{class:!0,id:!0});var yi=oe(q);b=D(yi,"OPTION",{"data-svelte-h":!0}),ce(b)!=="svelte-1msln"&&(b.textContent=F),yi.forEach(E),vr.forEach(E),C=le(yr),P=D(yr,"DIV",{class:!0});var _r=oe(P);O=D(_r,"DIV",{class:!0,"data-svelte-h":!0}),ce(O)!=="svelte-1gypapr"&&(O.innerHTML=V),$=le(_r),H=D(_r,"DIV",{class:!0,id:!0});var mn=oe(H);K=D(mn,"DIV",{class:!0,id:!0,"data-svelte-h":!0}),ce(K)!=="svelte-1wbesis"&&(K.innerHTML=M),R=le(mn),W=D(mn,"DIV",{class:!0,role:!0,id:!0,"data-svelte-h":!0}),ce(W)!=="svelte-ittqtt"&&(W.innerHTML=ue),U=le(mn),ae=D(mn,"DIV",{class:!0});var vi=oe(ae);Q=D(vi,"DIV",{class:!0});var ot=oe(Q);fe=D(ot,"H4",{class:!0,"data-svelte-h":!0}),ce(fe)!=="svelte-1ywp2eh"&&(fe.textContent=m),X=le(ot),xe=D(ot,"BR",{}),j=le(ot),J=D(ot,"LABEL",{class:!0});var pn=oe(J);te=D(pn,"SPAN",{id:!0,class:!0,"data-svelte-h":!0}),ce(te)!=="svelte-26q0d9"&&(te.textContent=Y),L=le(pn),z=D(pn,"DIV",{class:!0,"data-svelte-h":!0}),ce(z)!=="svelte-3boqv3"&&(z.textContent=pe),ye=le(pn),I=D(pn,"SELECT",{class:!0,id:!0});var _i=oe(I);he=D(_i,"OPTION",{"data-svelte-h":!0}),ce(he)!=="svelte-1msln"&&(he.textContent=qe),_i.forEach(E),pn.forEach(E),Ne=le(ot),ge=D(ot,"LABEL",{class:!0});var gn=oe(ge);Ae=D(gn,"SPAN",{id:!0,class:!0,"data-svelte-h":!0}),ce(Ae)!=="svelte-1stzdk0"&&(Ae.textContent=Me),De=le(gn),He=D(gn,"DIV",{class:!0,"data-svelte-h":!0}),ce(He)!=="svelte-1n6ege7"&&(He.textContent=Fe),Be=le(gn),at=D(gn,"SELECT",{class:!0,id:!0});var bi=oe(at);Ve=D(bi,"OPTION",{"data-svelte-h":!0}),ce(Ve)!=="svelte-1msln"&&(Ve.textContent=ne),bi.forEach(E),gn.forEach(E),ie=le(ot),de=D(ot,"LABEL",{class:!0});var yn=oe(de);G=D(yn,"SPAN",{id:!0,class:!0,"data-svelte-h":!0}),ce(G)!=="svelte-j1nbmh"&&(G.textContent=ee),re=le(yn),_e=D(yn,"DIV",{class:!0,"data-svelte-h":!0}),ce(_e)!=="svelte-q3h5s3"&&(_e.textContent=we),pt=le(yn),$e=D(yn,"SELECT",{class:!0,id:!0});var xi=oe($e);et=D(xi,"OPTION",{"data-svelte-h":!0}),ce(et)!=="svelte-1msln"&&(et.textContent=Kt),xi.forEach(E),yn.forEach(E),bt=le(ot),ze=D(ot,"LABEL",{class:!0});var vn=oe(ze);ct=D(vn,"SPAN",{id:!0,class:!0,"data-svelte-h":!0}),ce(ct)!=="svelte-13akdy5"&&(ct.textContent=fn),It=le(vn),Se=D(vn,"DIV",{class:!0,"data-svelte-h":!0}),ce(Se)!=="svelte-i17isc"&&(Se.textContent=On),it=le(vn),gt=D(vn,"SELECT",{class:!0,id:!0});var wi=oe(gt);yt=D(wi,"OPTION",{"data-svelte-h":!0}),ce(yt)!=="svelte-1msln"&&(yt.textContent=Qt),wi.forEach(E),vn.forEach(E),hn=le(ot),tt=D(ot,"LABEL",{class:!0});var _n=oe(tt);xt=D(_n,"SPAN",{id:!0,class:!0,"data-svelte-h":!0}),ce(xt)!=="svelte-1t4yf28"&&(xt.textContent=ui),fa=le(_n),Jt=D(_n,"DIV",{class:!0,"data-svelte-h":!0}),ce(Jt)!=="svelte-i17isc"&&(Jt.textContent=fi),ha=le(_n),$t=D(_n,"SELECT",{class:!0,id:!0});var ki=oe($t);Rt=D(ki,"OPTION",{"data-svelte-h":!0}),ce(Rt)!=="svelte-1msln"&&(Rt.textContent=hi),ki.forEach(E),_n.forEach(E),ot.forEach(E),vi.forEach(E),mn.forEach(E),_r.forEach(E),yr.forEach(E),pr=le(ut),Ct=D(ut,"DIV",{class:!0,role:!0,id:!0,"data-svelte-h":!0}),ce(Ct)!=="svelte-16t1fa1"&&(Ct.innerHTML=di),this.h()},h(){_(r,"class","intro-text p-8"),l.__value="Not_selected",je(l,l.__value),_(s,"class","select max-w-48 variant-outline-surface"),_(s,"id","sector_selector_landing"),h.__value="Not_selected",je(h,h.__value),_(f,"class","select max-w-48 variant-outline-surface"),_(f,"id","asset_class_selector_landing"),_(p,"class","btn variant-filled-surface"),_(p,"id","go_button_landing"),_(o,"class","buttons-sector-asset-class p-4 flex space-x-2 justify-center"),_(n,"class","intro-box card"),_(t,"class","content p-8"),_(t,"id","content-landing-page"),g.__value="Not_selected",je(g,g.__value),_(T,"class","select max-w-48 variant-outline-surface"),_(T,"id","sector_selector"),b.__value="Not_selected",je(b,b.__value),_(q,"class","select max-w-48 variant-outline-surface"),_(q,"id","asset_class_selector"),_(S,"class","buttons-sector-asset-class p-4 flex space-x-2 justify-center"),_(O,"class","analysis-intro grid sm:grid-cols-12 p-2"),_(K,"class","analysis-plots sm:col-span-10"),_(K,"id","analysis-plots"),_(W,"class","alert-message sm:col-span-10 bg-blue-100 border-t border-b border-blue-500 text-blue-700 px-4 py-3 hidden"),_(W,"role","alert"),_(W,"id","alert-message-parameters"),_(fe,"class","h4"),_(te,"id","scenario-source-label"),_(te,"class","svelte-1a8g59e"),_(z,"class","hide dashboard-tooltip card p-4 shadow-xl svelte-1a8g59e"),he.__value="Not_selected",je(he,he.__value),_(I,"class","select variant-outline-surface"),_(I,"id","scenario_source_selector"),_(J,"class","label"),_(Ae,"id","scenario-label"),_(Ae,"class","svelte-1a8g59e"),_(He,"class","hide dashboard-tooltip card p-4 shadow-xl svelte-1a8g59e"),Ve.__value="Not_selected",je(Ve,Ve.__value),_(at,"class","select variant-outline-surface"),_(at,"id","scenario_selector"),_(ge,"class","label"),_(G,"id","allocation-method-label"),_(G,"class","svelte-1a8g59e"),_(_e,"class","hide dashboard-tooltip card p-4 shadow-xl svelte-1a8g59e"),et.__value="Not_selected",je(et,et.__value),_($e,"class","select variant-outline-surface"),_($e,"id","allocation_method_selector"),_(de,"class","label"),_(ct,"id","equity-market-label"),_(ct,"class","svelte-1a8g59e"),_(Se,"class","hide dashboard-tooltip card p-4 shadow-xl svelte-1a8g59e"),yt.__value="Not_selected",je(yt,yt.__value),_(gt,"class","select variant-outline-surface"),_(gt,"id","equity_market_selector"),_(ze,"class","label"),_(xt,"id","benchmark-label"),_(xt,"class","svelte-1a8g59e"),_(Jt,"class","hide dashboard-tooltip card p-4 shadow-xl svelte-1a8g59e"),Rt.__value="Not_selected",je(Rt,Rt.__value),_($t,"class","select variant-outline-surface"),_($t,"id","benchmark_selector"),_(tt,"class","label"),_(Q,"class","analysis-parameters sm:col-span-2 p-8 card"),_(ae,"class","parameters-box p-2 sm:col-span-2"),_(H,"class","analysis-content grid sm:grid-cols-12"),_(H,"id","analysis-content"),_(P,"class","analysis p-8"),_(k,"class","content p-8 hidden"),_(k,"id","content-sector-view"),_(Ct,"class","alert-message bg-blue-100 border-t border-b border-blue-500 text-blue-700 px-4 py-3 hidden"),_(Ct,"role","alert"),_(Ct,"id","alert-message")},m(ut,Wt){Z(ut,t,Wt),B(t,n),B(n,r),B(n,i),B(n,o),B(o,s),B(s,l),B(o,u),B(o,f),B(f,h),B(o,y),B(o,p),Z(ut,x,Wt),Z(ut,k,Wt),B(k,S),B(S,T),B(T,g),B(S,w),B(S,q),B(q,b),B(k,C),B(k,P),B(P,O),B(P,$),B(P,H),B(H,K),B(H,R),B(H,W),B(H,U),B(H,ae),B(ae,Q),B(Q,fe),B(Q,X),B(Q,xe),B(Q,j),B(Q,J),B(J,te),B(J,L),B(J,z),B(J,ye),B(J,I),B(I,he),B(Q,Ne),B(Q,ge),B(ge,Ae),B(ge,De),B(ge,He),B(ge,Be),B(ge,at),B(at,Ve),B(Q,ie),B(Q,de),B(de,G),B(de,re),B(de,_e),B(de,pt),B(de,$e),B($e,et),B(Q,bt),B(Q,ze),B(ze,ct),B(ze,It),B(ze,Se),B(ze,it),B(ze,gt),B(gt,yt),B(Q,hn),B(Q,tt),B(tt,xt),B(tt,fa),B(tt,Jt),B(tt,ha),B(tt,$t),B($t,Rt),Z(ut,pr,Wt),Z(ut,Ct,Wt)},p:ke,i:ke,o:ke,d(ut){ut&&(E(t),E(x),E(k),E(pr),E(Ct))}}}function qp(e){return Xa(async()=>{let n=await(await fetch("data/data_exposure_stats.json")).json(),a=await(await fetch("data/data_techmix_sector.json")).json(),o=await(await fetch("data/data_trajectory_alignment.json")).json(),l=await(await fetch("data/data_emissions.json")).json();function c(){try{new sl(document.querySelector("#exposure-stats"),n)}catch(F){console.error("Error fetching exposure stats: ",F),document.querySelector("#exposure-stats").innerHTML="",document.querySelector("#exposure-stats").appendChild(lt())}}function u(){try{new Mp(document.querySelector("#techmix-plot"),a)}catch(F){console.error("Error fetching techmix: ",F),document.querySelector("#techmix-plot").innerHTML="",document.querySelector("#techmix-plot").appendChild(lt())}}function f(){try{const F=["Power","Automotive","Oil&Gas","Coal"];let C=document.querySelector("#sector_selector").value;F.includes(C)?(document.querySelector("#trajectory-box").classList.remove("hidden"),new Ep(document.querySelector("#trajectory-plot"),o)):document.querySelector("#trajectory-box").classList.add("hidden")}catch(F){console.error("Error fetching trajectory alignment: ",F),document.querySelector("#trajectory-box").innerHTML="",document.querySelector("#trajectory-box").appendChild(lt())}}function h(){try{new Pp(document.querySelector("#emission-intensity-plot"),l)}catch(F){console.error("Error fetching emission intensity plot: ",F),document.querySelector("#emission-intensity-plot").innerHTML="",document.querySelector("#emission-intensity-plot").appendChild(lt())}}function d(){const F=document.querySelector("#sector_selector_landing"),C=document.querySelector("#sector_selector");let P=new Set(me(o,H=>H.ald_sector).keys()),O=new Set(me(a,H=>H.ald_sector).keys()),V=new Set(me(l,H=>H.sector).keys()),$=Array.from(P.union(O).union(V));F.length=0,C.length=0,$.forEach(H=>F.add(new Option(H,H))),$.forEach(H=>C.add(new Option(H,H)))}function y(){const F=document.querySelector("#asset_class_selector_landing"),C=document.querySelector("#asset_class_selector");let P=new Set(me(o,H=>H.asset_class).keys()),O=new Set(me(a,H=>H.asset_class).keys()),V=new Set(me(l,H=>H.asset_class).keys()),$=Array.from(P.union(O).union(V));F.length=0,C.length=0,$.forEach(H=>F.add(new Option(H,H))),$.forEach(H=>C.add(new Option(H,H)))}function p(){let F=document.querySelector("#asset_class_selector").value,C=document.querySelector("#sector_selector").value,P=a.filter(H=>H.asset_class==F).filter(H=>H.ald_sector==C),O=o.filter(H=>H.asset_class==F).filter(H=>H.ald_sector==C),V=l.filter(H=>H.asset_class==F).filter(H=>H.ald_sector==C);return[P,O,V].some(H=>H.length!=0)}function A(){document.querySelector("#analysis-content").classList.add("hidden"),document.querySelector("#alert-message").classList.remove("hidden")}function x(){document.querySelector("#analysis-content").classList.remove("hidden"),document.querySelector("#alert-message").classList.add("hidden")}function k(){document.querySelector("#analysis-plots").classList.add("hidden"),document.querySelector("#alert-message-parameters").classList.remove("hidden")}function S(){document.querySelector("#analysis-plots").classList.remove("hidden"),document.querySelector("#alert-message-parameters").classList.add("hidden")}function T(){let F=document.querySelector("#scenario_source_selector").value,C=document.querySelector("#asset_class_selector").value,P=document.querySelector("#sector_selector").value,O=a.filter(M=>M.asset_class==C).filter(M=>M.ald_sector==P),V=new Set(me(O,M=>M.scenario_source).keys()),$=o.filter(M=>M.asset_class==C).filter(M=>M.ald_sector==P),H=new Set(me($,M=>M.scenario_source).keys()),K=Array.from(V.union(H));if(K.length!=0){S();const M=document.querySelector("#scenario_source_selector");M.length=0,K.forEach(R=>M.add(new Option(R,R))),M.options[Math.max(0,K.indexOf(F))].selected="selected"}else k()}function g(){let F=document.querySelector("#asset_class_selector").value,C=document.querySelector("#sector_selector").value,P=document.querySelector("#scenario_source_selector").value,O=document.querySelector("#scenario_selector").value,V=a.filter(H=>H.asset_class==F).filter(H=>H.ald_sector==C).filter(H=>H.scenario_source==P),$=me(V,H=>H.scenario).keys();if($.length!=0){S();const H=document.querySelector("#scenario_selector");H.length=0,$.forEach(K=>H.add(new Option(K,K))),H.options[Math.max(0,$.indexOf(O))].selected="selected"}else k()}function v(){let F=document.querySelector("#allocation_method_selector").value,C=document.querySelector("#asset_class_selector").value,P=document.querySelector("#sector_selector").value,O=l.filter(M=>M.asset_class==C).filter(M=>M.ald_sector==P),V=new Set(me(O,M=>M.allocation_translation).keys()),$=o.filter(M=>M.asset_class==C).filter(M=>M.ald_sector==P),H=new Set(me($,M=>M.allocation_translation).keys()),K=Array.from(V.union(H));if(K.length!=0){S();const M=document.querySelector("#allocation_method_selector");M.length=0,K.forEach(R=>M.add(new Option(R,R))),M.options[Math.max(0,K.indexOf(F))].selected="selected"}else k()}function w(){let F=document.querySelector("#equity_market_selector").value,C=document.querySelector("#asset_class_selector").value,P=document.querySelector("#sector_selector").value,O=a.filter(M=>M.asset_class==C).filter(M=>M.ald_sector==P),V=new Set(me(O,M=>M.equity_market).keys()),$=o.filter(M=>M.asset_class==C).filter(M=>M.ald_sector==P),H=new Set(me($,M=>M.equity_market_translation).keys()),K=Array.from(V.union(H));if(K.length!=0){S();const M=document.querySelector("#equity_market_selector");M.length=0,K.forEach(R=>M.add(new Option(R,R))),M.options[Math.max(0,K.indexOf(F))].selected="selected"}else k()}function q(){let F=document.querySelector("#benchmark_selector").value,C=document.querySelector("#asset_class_selector").value,P=document.querySelector("#sector_selector").value,O=document.querySelector("#equity_market_selector").value,V=a.filter(R=>R.asset_class==C).filter(R=>R.ald_sector==P).filter(R=>R.equity_market==O).filter(R=>!R.this_portfolio),$=new Set(me(V,R=>R.portfolio_name).keys()),H=o.filter(R=>R.asset_class==C).filter(R=>R.ald_sector==P).filter(R=>R.equity_market==O).filter(R=>R.this_benchmark),K=new Set(me(H,R=>R.portfolio_name).keys()),M=Array.from($.union(K));if(M.length!=0){S();const R=document.querySelector("#benchmark_selector");R.length=0,M.forEach(W=>R.add(new Option(W,W))),R.options[Math.max(0,M.indexOf(F))].selected="selected"}else k()}function b(){const F=document.querySelector("#go_button_landing"),C=document.querySelector("#asset_class_selector"),P=document.querySelector("#sector_selector");F.addEventListener("click",function(){let M=document.querySelector("#asset_class_selector_landing").value,R=document.querySelector("#sector_selector_landing").value;C.value=M,P.value=R,document.querySelector("#content-landing-page").classList.toggle("hidden"),document.querySelector("#content-sector-view").classList.toggle("hidden"),c(),p()?(x(),f(),u(),h()):A()}),P.addEventListener("change",function(){c(),p()?(x(),T(),g(),w(),q(),f(),u(),h()):A()}),C.addEventListener("change",function(){c(),p()?(x(),T(),g(),v(),w(),q(),f(),u(),h()):A()}),document.querySelector("#benchmark_selector").addEventListener("change",function(){f(),u()}),document.querySelector("#scenario_source_selector").addEventListener("change",function(){g(),f(),u(),h()}),document.querySelector("#scenario_selector").addEventListener("change",function(){u(),h()}),document.querySelector("#equity_market_selector").addEventListener("change",function(){q(),f(),u(),h()}),document.querySelector("#allocation_method_selector").addEventListener("change",function(){f(),h()})}d(),y(),c(),p()?(x(),T(),g(),v(),w(),q(),b(),u(),f(),h()):A()}),[]}class Np extends Vt{constructor(t){super(),zt(this,t,qp,Lp,Ut,{})}}function Dp(e,t){var n=0;return Float64Array.from(e,r=>n+=+r||0)}class Ip{constructor(t,n){let r;typeof t=="string"?r=document.querySelector(t):r=t,r.innerHTML="",r.classList.add("BubbleChart"),r.classList.add("d3chart"),r.classList.add("companybubble_chart"),r.classList.add("chart_container"),this.container=Ee(r);const a=600,i=500,o=40,s=60,l=80,c=85;let u=i-o-l,f=5,h="plan_tech_share",d="y",y="port_weight",p="#A9A9A9",A="company_name",x="#1b324f",k="#1b324f",S="Current capacity in low-carbon technologies",T="(as % of sector production capacity)",g="Planned new capacity in low-carbon technologies",v="(as a % of the scenario target for YEAR)",w=S,q=g,b="Weight in portfolio (% of AUM)",F="Portfolio weight";const C=this.container.append("svg").attr("width",a).attr("height",i).attr("viewBox",[0,0,a,i]).attr("preserveAspectRatio","xMinYMin meet").attr("style","max-width: 100%; height: auto;");let P=document.querySelector("#sector_selector").value,O=document.querySelector("#asset_class_selector").value,V=document.querySelector("#scenario_source_selector").value,$=document.querySelector("#scenario_selector").value,H=document.querySelector("#allocation_method_selector").value,K=n.filter(z=>z.asset_class==O).filter(z=>z.ald_sector_translation==P).filter(z=>z.scenario_source==V).filter(z=>z.scenario==$).filter(z=>z.allocation==H);var M=K.map(z=>z.year)[0]+f,R=0;let W=Ht().range([0,u]).domain([0-R,1+R]).nice(),ue=Ht().range([u,0]).clamp(!0).domain([0-R,1+R]).nice(),U=Ht().range([1,20]).domain(Gt(K,z=>z[y])).nice(),ae=on(W).ticks(6).tickFormat(Oe(".0%")),Q=Pn(ue).ticks(6).tickFormat(Oe(".0%"));C.append("g").attr("class","xaxis").style("stroke-width","1px").attr("transform","translate("+c+","+(i-l)+")"),C.select(".xaxis").call(ae).selectAll(".domain").attr("stroke",p),C.select(".xaxis").selectAll(".tick").selectAll("line").attr("stroke",p),C.select(".xaxis").selectAll("text").style("font-size","1.2em"),C.append("text").attr("class","xtitle").attr("transform","translate("+(u/2+c)+" ,"+(i-l+40)+")").style("text-anchor","middle").text(S),C.append("text").attr("class","xsubtitle").attr("transform","translate("+(u/2+c)+" ,"+(i-l+55)+")").style("text-anchor","middle").text(T),C.append("g").attr("class","yaxis").style("stroke-width","1px").attr("transform","translate("+c+","+(o+Math.max(0,i-o-l-u))+")"),C.append("text").attr("class","ytitle").attr("transform","rotate(-90)").attr("x",-(i/2)).attr("y",10).attr("dy","1em").style("text-anchor","middle").text(g),v=v.replaceAll("YEAR",M),C.append("text").attr("class","ysubtitle").attr("transform","rotate(-90)").attr("y",25).attr("x",-(i/2)).attr("dy","1em").style("text-anchor","middle").text(v),C.select(".yaxis").call(Q).selectAll(".domain").attr("stroke",p),C.select(".yaxis").selectAll(".tick").selectAll("line").attr("stroke",p),C.select(".yaxis").selectAll("text").style("font-size","1.2em"),C.append("line").attr("transform","translate("+c+","+(o+Math.max(0,i-o-l-u))+")").attr("x1",W(.5)).attr("x2",W(.5)).attr("y1",ue(0)).attr("y2",ue(1)).attr("stroke","black").attr("stroke-dasharray","1, 2"),C.append("line").attr("transform","translate("+c+","+(o+Math.max(0,i-o-l-u))+")").attr("x1",W(0)).attr("x2",W(1)).attr("y1",ue(.5)).attr("y2",ue(.5)).attr("stroke","black").attr("stroke-dasharray","1, 2"),C.append("g").attr("transform","translate("+c+","+(o+Math.max(0,i-o-l-u))+")").selectAll(".bubble").data(K).enter().append("circle").attr("class","bubble").attr("cx",z=>W(z[h])).attr("cy",z=>ue(z[d])).attr("r",z=>U(z[y])).style("opacity","0.7").style("fill",x).attr("stroke","#1b324f").on("mouseover",te).on("mousemove",Y).on("mouseout",L);let fe=U.ticks(3),m=fe.map(z=>U(z)),X=Dp(m.map(z=>z*2)),xe=Ac(fe,X),j=C.append("g").attr("transform","translate("+(u+c+s/4)+","+(o+u/5)+")");j.selectAll("circle").data(xe).enter().append("circle").attr("cx",35).attr("cy",z=>20+z[1]).attr("r",z=>U(z[0])).style("fill",x).attr("stroke",k).style("opacity","0.7"),j.selectAll("text").data(xe).enter().append("text").text(z=>Oe("~%")(z[0].toPrecision(3))).attr("alignment-baseline","central").attr("font-size","0.9em").attr("x",40+U.range()[1]).attr("y",z=>20+z[1]),j.append("text").attr("x",10).attr("y",5).attr("alignment-baseline","central").text(F);let J=Ee(r).append("div").attr("class","d3tooltip").style("display","none");function te(z){let pe="<br>"+b+": "+Oe("~%")(z[y].toPrecision(3));J.html("<b>"+z[A]+"</b><br><br>"+w+": "+Oe(".1%")(z[h])+"<br>"+q+": "+Oe(".1%")(z[d])+pe).style("display","inline-block").style("left",Pe.pageX+10+"px").style("top",Pe.pageY-20+"px")}function Y(){J.style("left",Pe.pageX+10+"px").style("top",Pe.pageY-20+"px")}function L(){J.style("display","none")}}}class Rp{constructor(t,n,r,a){let i;typeof t=="string"?i=document.querySelector(t):i=t,i.innerHTML="",i.classList.add("techexposure_company"),i.classList.add("d3chart"),i.classList.add("chart_container"),this.container=Ee(i);const o=928,s=775,l=40,c=90,u=140;let f=90;const h=17,d=2;let y={before_sec:" of ",after_sec:" sector"},p="Weights",A={befor_scen:"* Aligned to ",after_scen:" scenario in year ",after_year:"."};const x=this.container.append("svg").attr("width",o).attr("height",s).attr("viewBox",[0,0,o,s]).attr("preserveAspectRatio","xMinYMin meet").attr("style","max-width: 100%; height: auto;"),k=Ee(i).append("div").attr("class","d3tooltip").style("display","none");let S=document.querySelector("#sector_selector").value,T=document.querySelector("#asset_class_selector").value,g=document.querySelector("#scenario_source_selector").value,v=document.querySelector("#scenario_selector").value,w=document.querySelector("#allocation_method_selector").value,q=n.filter(ne=>ne.ald_sector_translation==S)[0].ald_sector,[b,F]=qe(r,T,S,g,v,w);if(b=Me(b,a.filter(ne=>ne.sector==S)[0].tech_order),b.length==0)throw new Error("No data found after applying selected filters");n.forEach((ne,ie)=>{n[ie].id_translation=ne.id});let[C,P]=qe(n,T,S,g,v,w);if(C.length==0)throw new Error("No data found after applying selected filters");C=Me(C,a.filter(ne=>ne.sector==S)[0].tech_order);let O=He(C,"id"),V=He(b,"id"),H=(O>=V?O:V).length*11;f<H&&(f=H);let K=jt(),M=Ht().domain([0,1]).range([0,o-f-c]),R=jt(),W=ks(C[0]).slice(1),ue=me(C,function(ne){return ne.id}).keys(),U=me(b,function(ne){return ne.id}).keys(),ae=U.length+ue.length,Q=(s-l-u-h)/ae,fe=x.append("g").attr("class","y_axis_labels_up"),m=x.append("g").attr("class","y_axis_labels_down"),X=x.append("g").attr("class","bars_group").attr("transform","translate("+f+","+l+")");De(X,M,K,fe,"bars_up",b,W,U,0,o-c-f,Q,d,q),De(X,M,K,m,"bars_down",C,W,ue,U.length*Q+h,o-c-f,Q,d,q);var xe=Oe(".0%");x.append("g").attr("class","xaxis_group").attr("transform","translate("+f+","+(s-u)+")").call(on(M).tickFormat(xe)).selectAll("text").style("text-anchor","middle").style("font-size","2em");var j=P.map(function(ne){return(ne.port_weight*100).toFixed(2)+"%"});R.range([0,ue.length*Q]).domain(ue),x.append("g").attr("class","y_axis_weights_labels").attr("transform","translate( "+(o-c+5)+", "+(U.length*Q+h+l)+" )").call(Wo(R).tickSize(0).tickValues(ue).tickFormat(function(ne,ie){return j[ie]})).call(ne=>ne.select(".domain").remove()).selectAll("text").attr("font-size","2em"),x.append("g").attr("class","weights_label").append("text").attr("x",o-c+5+1).attr("y",U.length*Q+h-5+l).attr("font-size","1.5em").text(p);let J=x.append("g").attr("class","legend").attr("transform","translate( "+f+","+(s-2*u/3)+")"),te=[];W.forEach((ne,ie)=>{te[ie]={},te[ie].technology=ne,te[ie].technology_translation=n.filter(de=>de.technology==ne)[0].technology_translation,te[ie].class=q+" "+ne});let L=He(te,"technology_translation").length*10,z=Math.round((o-f-c)/(L+45));Math.ceil(te.length/z)==1&&(L=Math.max(100,L)),J.selectAll("rect").data(te).enter().append("rect").attr("class",ne=>ne.class).attr("width",15).attr("height",15).attr("x",(ne,ie)=>ie%z*(L+45)).attr("y",(ne,ie)=>Math.floor(ie/z)*30),J.selectAll("text").data(te).enter().append("text").text(ne=>ne.technology_translation).style("alignment-baseline","central").style("text-anchor","start").attr("font-size","0.9em").attr("x",(ne,ie)=>ie%z*(L+45)+20).attr("y",(ne,ie)=>Math.floor(ie/z)*30+7);let pe=x.append("g").attr("class","footnote").attr("transform","translate("+(o-c)+","+(s-u/6)+")"),ye=A.befor_scen+g+" "+v+A.after_scen+r.map(ne=>ne.year)[0]+A.after_year;pe.selectAll("text").data([ye]).enter().append("text").attr("x",0).attr("y",0).style("text-anchor","end").style("alignment-baseline","central").style("font-size","1.5em").text(ne=>ne);function I(ne){let ie=[];return ne.forEach(de=>{ee=!1;for(var G=0;G<ie.length;G++)var ee=ee||ie[G].id==de.id_translation;ee||ie.push({id:de.id_translation,port_weight:de.port_weight})}),ie}function he(ne,ie){var de=[];return ie.forEach((G,ee)=>{de[ee]={},de[ee].id=G.id,ne.filter(re=>re.id_translation==G.id).forEach(function(re){de[ee][re.technology]=re.plan_tech_share})}),de}function qe(ne,ie,de,G,ee,re){let _e=Ae(ne,ie,de,G,ee,re);var we=I(_e);return[he(_e,we),we]}function Ne(ne){let ie=r.findIndex(de=>de.technology===ne);return ie>-1?r[ie].technology_translation:(ie=n.findIndex(de=>de.technology===ne),ie>-1?n[ie].technology_translation:ne)}function ge(ne){let ie=r.findIndex(de=>de.ald_sector===ne);return ie>-1?r[ie].ald_sector_translation:(ie=n.findIndex(de=>de.ald_sector===ne),ie>-1?n[ie].ald_sector_translation:ne)}function Ae(ne,ie,de,G,ee,re){return ne.filter(we=>we.asset_class_translation==ie).filter(we=>we.ald_sector_translation==de).filter(we=>we.scenario_source==G).filter(we=>we.scenario==ee).filter(we=>we.allocation==re)}function Me(ne,ie){let de=[];return ne.forEach(function(G,ee){if(de[ee]={},de[ee].id=G.id,ie.forEach(function(re){Object.keys(G).includes(re)&&(de[ee][re]=G[re])}),Object.keys(G).length!=Object.keys(de[ee]).length)throw new Error("Not all technologies for the sector found in json/tech_order_in_sectors.json dataset. Please append the dataset with new technologies if needed.")}),de}function De(ne,ie,de,G,ee,re,_e,we,pt,$e,et,Kt,bt){de.range([0,we.length*et]).domain(we),G.attr("transform","translate("+f+","+(l+pt)+")").call(Pn(de).tickSize(0)).call(Se=>Se.select(".domain").remove()).selectAll("text").attr("font-size","2em");var ze=nt(Zs),ct=nl().keys(_e)(re);ne.selectAll("rect").selectAll("."+ee).data([]).exit().attr("width",0).remove(),ne.selectAll("g").selectAll("."+ee).data([]).exit().remove(),ne.append("g").selectAll("g").data(ct).enter().append("g").attr("class",Se=>bt+" "+Se.key+" "+ee).attr("fill",function(Se){return ze(Se.key)}).attr("technology",function(Se){return Ne(Se.key)}).attr("sector",function(){return ge(bt)}).selectAll("rect").data(function(Se){return Se}).enter().append("rect").attr("class",ee).attr("x",function(Se){return ie(Se[0])}).attr("y",function(Se){return pt+de(Se.data.id)}).attr("width",function(Se){return ie(Se[1])-ie(Se[0])}).attr("height",et-Kt).on("mouseover",Be).on("mouseout",Ve).on("mousemove",at)}function He(ne,ie){let de=Za(ne,ee=>ee[ie].length);return new Array(de).join("a")}function Fe(ne){return ne=Math.round((ne+Number.EPSILON)*1e3)/10,ne<.1?"< 0.1%":ne+"%"}function Be(ne){var ie=Ee(this.parentElement),de=ie.attr("technology"),G=ie.attr("sector");k.html(de+"<br>"+Fe(ne[1]-ne[0])+y.before_sec+G+y.after_sec).style("display","inline-block")}function at(){k.style("left",Pe.pageX+10+"px").style("top",Pe.pageY-20+"px")}function Ve(){k.style("display","none")}}}function Op(e){let t,n,r,a=`<h2 class="h3 text-center">Please select a sector and an asset class for the analysis</h2> <br/> <p>The <strong>company-level analysis</strong> focuses on identifying the companies within your
				portfolio with the greatest impact on the overall climate alignment results for the
				<strong>Automotive</strong> and the <strong>Power</strong> Sectors on your listed equity and
				corporate bond investments.
				<br/><br/>
				To view the company-level results, select the appropriate options from the drop-down menus below
				and click <kbd class="kbd">Go!</kbd>. If no results appear after clicking
				<kbd class="kbd">Go!</kbd>, it likely means your portfolio does not have exposure to the
				selected sector or financial asset.</p>`,i,o,s,l,c="Please select",u,f,h,d="Please select",y,p,A="Go!",x,k,S,T,g,v="Please select",w,q,b,F="Please select",C,P,O,V=`<div class="analysis-intro-text sm:col-span-9 p-2"><h3 class="h3">Company-level analysis</h3> <p>This section allows you to drill down into specific companies and evaluate their role in
					driving or hindering progress towards low-carbon solutions. It highlights leaders and
					laggards in adopting low-carbon technologies, providing key insights for engagement
					strategies, investment decisions, and managing transition risks. This analysis supports
					climate-related decisions, such as investment selection, engagement, or exclusion, and
					helps shape targeted climate strategies.
					<br/><br/>
					Key features in this section:
					<br/><br/></p> <ul class="list-disc"><li><strong>Critical Players</strong>: Identify the most influential companies in your
						portfolio’s alignment with climate goals.</li> <li><strong>Leaders and Laggards</strong>: Discover which companies are at the forefront of
						adopting low-carbon alternatives and which are lagging behind.</li></ul> <br/></div> <div class="analysis-intro-stats sm:col-span-3"><div class="exposure-stats" id="exposure-stats"></div></div>`,$,H,K,M=`<div class="plot-bubble-card-box sm:col-span-3 p-2"><div class="plot-bubble-box sm:col-span-3 card p-8"><div class="bubble-explanation"><h4 class="h4">Company Exposure to Low- and High-Carbon Technologies</h4> <p>This chart illustrates the current and future technology exposure and future plans
								for climate alignment of companies in the sector. Companies on the left have higher
								exposure to high-carbon technologies, while those on the right are more aligned with
								low-carbon solutions.</p> <br/><br/> <p>It also compares each company&#39;s plans for expanding low-carbon technologies against
								the selected climate scenario. Companies lower on the chart have smaller planned
								investments in low-carbon tech, while those higher up have larger planned
								expansions.</p> <br/><br/> <p>The size of the dots reflects each company&#39;s influence on the portfolio’s overall
								climate alignment, with larger dots representing companies with greater weight.</p> <br/><br/></div> <div class="bubble-plot" id="bubble-plot"></div></div></div> <div class="plot-techmix-card-box sm:col-span-3 p-2"><div class="plot-techmix sm:col-span-3 card p-8"><div class="techmix-explanation"><h4 class="h4">Future technology mix</h4> <p>This section presents the <strong>most significant companies</strong> in your
								portfolio, based on their weight, within the <strong>Power</strong> and
								<strong>Automotive</strong>
								sectors. For each company, we show its future <strong>technology mix</strong>.
								<br/> <br/>
								By understanding the <strong>technology breakdown</strong> of these key companies,
								you can assess how their planned production activities contribute to the overall
								<strong>climate alignment</strong>
								of the portfolio. This analysis supports
								<strong>transition risk management</strong>
								and helps inform <strong>engagement strategies</strong> for companies that may need to
								accelerate their transition to low-carbon solutions.</p></div> <div class="techmix-plot" id="techmix-plot"></div></div></div>`,R,W,ue=`<p class="font-bold">No data found for the parameter selection</p> <p class="text-sm">Please make a different selecion in the parameters panel or change the asset class or
					sector.</p>`,U,ae,Q,fe,m="Parameters",X,xe,j,J,te,Y="Scenario source",L,z,pe,ye="Please select",I,he,qe,Ne="Scenario",ge,Ae,Me,De="Please select",He,Fe,Be,at="Allocation method",Ve,ne,ie,de="Please select",G,ee,re='<p class="font-bold">No data found for this asset class / sector combination</p> <p class="text-sm">Please make a different selecion.</p>';return{c(){t=N("div"),n=N("div"),r=N("div"),r.innerHTML=a,i=se(),o=N("div"),s=N("select"),l=N("option"),l.textContent=c,u=se(),f=N("select"),h=N("option"),h.textContent=d,y=se(),p=N("button"),p.textContent=A,x=se(),k=N("div"),S=N("div"),T=N("select"),g=N("option"),g.textContent=v,w=se(),q=N("select"),b=N("option"),b.textContent=F,C=se(),P=N("div"),O=N("div"),O.innerHTML=V,$=se(),H=N("div"),K=N("div"),K.innerHTML=M,R=se(),W=N("div"),W.innerHTML=ue,U=se(),ae=N("div"),Q=N("div"),fe=N("h4"),fe.textContent=m,X=se(),xe=N("br"),j=se(),J=N("label"),te=N("span"),te.textContent=Y,L=se(),z=N("select"),pe=N("option"),pe.textContent=ye,I=se(),he=N("label"),qe=N("span"),qe.textContent=Ne,ge=se(),Ae=N("select"),Me=N("option"),Me.textContent=De,He=se(),Fe=N("label"),Be=N("span"),Be.textContent=at,Ve=se(),ne=N("select"),ie=N("option"),ie.textContent=de,G=se(),ee=N("div"),ee.innerHTML=re,this.h()},l(_e){t=D(_e,"DIV",{class:!0,id:!0});var we=oe(t);n=D(we,"DIV",{class:!0});var pt=oe(n);r=D(pt,"DIV",{class:!0,"data-svelte-h":!0}),ce(r)!=="svelte-13ogo46"&&(r.innerHTML=a),i=le(pt),o=D(pt,"DIV",{class:!0});var $e=oe(o);s=D($e,"SELECT",{class:!0,id:!0});var et=oe(s);l=D(et,"OPTION",{"data-svelte-h":!0}),ce(l)!=="svelte-1msln"&&(l.textContent=c),et.forEach(E),u=le($e),f=D($e,"SELECT",{class:!0,id:!0});var Kt=oe(f);h=D(Kt,"OPTION",{"data-svelte-h":!0}),ce(h)!=="svelte-1msln"&&(h.textContent=d),Kt.forEach(E),y=le($e),p=D($e,"BUTTON",{class:!0,id:!0,"data-svelte-h":!0}),ce(p)!=="svelte-2z7m03"&&(p.textContent=A),$e.forEach(E),pt.forEach(E),we.forEach(E),x=le(_e),k=D(_e,"DIV",{class:!0,id:!0});var bt=oe(k);S=D(bt,"DIV",{class:!0});var ze=oe(S);T=D(ze,"SELECT",{class:!0,id:!0});var ct=oe(T);g=D(ct,"OPTION",{"data-svelte-h":!0}),ce(g)!=="svelte-1msln"&&(g.textContent=v),ct.forEach(E),w=le(ze),q=D(ze,"SELECT",{class:!0,id:!0});var fn=oe(q);b=D(fn,"OPTION",{"data-svelte-h":!0}),ce(b)!=="svelte-1msln"&&(b.textContent=F),fn.forEach(E),ze.forEach(E),C=le(bt),P=D(bt,"DIV",{class:!0});var It=oe(P);O=D(It,"DIV",{class:!0,"data-svelte-h":!0}),ce(O)!=="svelte-1ake552"&&(O.innerHTML=V),$=le(It),H=D(It,"DIV",{class:!0,id:!0});var Se=oe(H);K=D(Se,"DIV",{class:!0,id:!0,"data-svelte-h":!0}),ce(K)!=="svelte-1q1pt27"&&(K.innerHTML=M),R=le(Se),W=D(Se,"DIV",{class:!0,role:!0,id:!0,"data-svelte-h":!0}),ce(W)!=="svelte-ittqtt"&&(W.innerHTML=ue),U=le(Se),ae=D(Se,"DIV",{class:!0});var On=oe(ae);Q=D(On,"DIV",{class:!0});var it=oe(Q);fe=D(it,"H4",{class:!0,"data-svelte-h":!0}),ce(fe)!=="svelte-1ywp2eh"&&(fe.textContent=m),X=le(it),xe=D(it,"BR",{}),j=le(it),J=D(it,"LABEL",{class:!0});var gt=oe(J);te=D(gt,"SPAN",{"data-svelte-h":!0}),ce(te)!=="svelte-jrcxpn"&&(te.textContent=Y),L=le(gt),z=D(gt,"SELECT",{class:!0,id:!0});var yt=oe(z);pe=D(yt,"OPTION",{"data-svelte-h":!0}),ce(pe)!=="svelte-1msln"&&(pe.textContent=ye),yt.forEach(E),gt.forEach(E),I=le(it),he=D(it,"LABEL",{class:!0});var Qt=oe(he);qe=D(Qt,"SPAN",{"data-svelte-h":!0}),ce(qe)!=="svelte-1yokr7c"&&(qe.textContent=Ne),ge=le(Qt),Ae=D(Qt,"SELECT",{class:!0,id:!0});var hn=oe(Ae);Me=D(hn,"OPTION",{"data-svelte-h":!0}),ce(Me)!=="svelte-1msln"&&(Me.textContent=De),hn.forEach(E),Qt.forEach(E),He=le(it),Fe=D(it,"LABEL",{class:!0});var tt=oe(Fe);Be=D(tt,"SPAN",{"data-svelte-h":!0}),ce(Be)!=="svelte-1qc0h03"&&(Be.textContent=at),Ve=le(tt),ne=D(tt,"SELECT",{class:!0,id:!0});var xt=oe(ne);ie=D(xt,"OPTION",{"data-svelte-h":!0}),ce(ie)!=="svelte-1msln"&&(ie.textContent=de),xt.forEach(E),tt.forEach(E),it.forEach(E),On.forEach(E),Se.forEach(E),It.forEach(E),bt.forEach(E),G=le(_e),ee=D(_e,"DIV",{class:!0,role:!0,id:!0,"data-svelte-h":!0}),ce(ee)!=="svelte-16t1fa1"&&(ee.innerHTML=re),this.h()},h(){_(r,"class","intro-text p-8"),l.__value="Not_selected",je(l,l.__value),_(s,"class","select max-w-48 variant-outline-surface"),_(s,"id","sector_selector_landing"),h.__value="Not_selected",je(h,h.__value),_(f,"class","select max-w-48 variant-outline-surface"),_(f,"id","asset_class_selector_landing"),_(p,"class","btn variant-filled-surface"),_(p,"id","go_button_landing"),_(o,"class","buttons-sector-asset-class p-4 flex space-x-2 justify-center"),_(n,"class","intro-box card"),_(t,"class","content p-8"),_(t,"id","content-landing-page"),g.__value="Not_selected",je(g,g.__value),_(T,"class","select max-w-48 variant-outline-surface"),_(T,"id","sector_selector"),b.__value="Not_selected",je(b,b.__value),_(q,"class","select max-w-48 variant-outline-surface"),_(q,"id","asset_class_selector"),_(S,"class","buttons-sector-asset-class p-4 flex space-x-2 justify-center"),_(O,"class","analysis-intro grid sm:grid-cols-12 p-4"),_(K,"class","analysis-plots sm:col-span-10 grid sm:grid-cols-6"),_(K,"id","analysis-plots"),_(W,"class","alert-message sm:col-span-10 bg-blue-100 border-t border-b border-blue-500 text-blue-700 px-4 py-3 hidden"),_(W,"role","alert"),_(W,"id","alert-message-parameters"),_(fe,"class","h4"),pe.__value="Not_selected",je(pe,pe.__value),_(z,"class","select variant-outline-surface"),_(z,"id","scenario_source_selector"),_(J,"class","label"),Me.__value="Not_selected",je(Me,Me.__value),_(Ae,"class","select variant-outline-surface"),_(Ae,"id","scenario_selector"),_(he,"class","label"),ie.__value="Not_selected",je(ie,ie.__value),_(ne,"class","select variant-outline-surface"),_(ne,"id","allocation_method_selector"),_(Fe,"class","label"),_(Q,"class","analysis-parameters sm:col-span-2 card p-8"),_(ae,"class","parameters-box p-2 sm:col-span-2"),_(H,"class","analysis-content grid sm:grid-cols-12 p-4"),_(H,"id","analysis-content"),_(P,"class","analysis p-8 grid"),_(k,"class","content p-8 hidden"),_(k,"id","content-company-view"),_(ee,"class","alert-message bg-blue-100 border-t border-b border-blue-500 text-blue-700 px-4 py-3 hidden"),_(ee,"role","alert"),_(ee,"id","alert-message")},m(_e,we){Z(_e,t,we),B(t,n),B(n,r),B(n,i),B(n,o),B(o,s),B(s,l),B(o,u),B(o,f),B(f,h),B(o,y),B(o,p),Z(_e,x,we),Z(_e,k,we),B(k,S),B(S,T),B(T,g),B(S,w),B(S,q),B(q,b),B(k,C),B(k,P),B(P,O),B(P,$),B(P,H),B(H,K),B(H,R),B(H,W),B(H,U),B(H,ae),B(ae,Q),B(Q,fe),B(Q,X),B(Q,xe),B(Q,j),B(Q,J),B(J,te),B(J,L),B(J,z),B(z,pe),B(Q,I),B(Q,he),B(he,qe),B(he,ge),B(he,Ae),B(Ae,Me),B(Q,He),B(Q,Fe),B(Fe,Be),B(Fe,Ve),B(Fe,ne),B(ne,ie),Z(_e,G,we),Z(_e,ee,we)},p:ke,i:ke,o:ke,d(_e){_e&&(E(t),E(x),E(k),E(G),E(ee))}}}function Hp(e){return Xa(async()=>{let n=await(await fetch("data/data_exposure_stats.json")).json(),a=await(await fetch("data/data_company_bubble.json")).json(),o=await(await fetch("data/data_techexposure_company_companies.json")).json(),l=await(await fetch("data/data_techexposure_company_portfolio.json")).json();function c(){try{new sl(document.querySelector("#exposure-stats"),n)}catch{document.querySelector("#exposure-stats").innerHTML="",document.querySelector("#exposure-stats").appendChild(lt())}}function u(){try{new Ip(document.querySelector("#bubble-plot"),a)}catch{document.querySelector("#bubble-plot").innerHTML="",document.querySelector("#bubble-plot").appendChild(lt())}}function f(){try{new Rp(document.querySelector("#techmix-plot"),o,l,Aa)}catch{document.querySelector("#techmix-plot").innerHTML="",document.querySelector("#techmix-plot").appendChild(lt())}}function h(){const q=document.querySelector("#sector_selector_landing"),b=document.querySelector("#sector_selector");let F=new Set(me(a,V=>V.ald_sector).keys()),C=new Set(me(l,V=>V.ald_sector).keys()),P=new Set(me(o,V=>V.ald_sector).keys()),O=Array.from(F.union(C).union(P));q.length=0,b.length=0,O.forEach(V=>q.add(new Option(V,V))),O.forEach(V=>b.add(new Option(V,V)))}function d(){const q=document.querySelector("#asset_class_selector_landing"),b=document.querySelector("#asset_class_selector");let F=new Set(me(a,V=>V.asset_class).keys()),C=new Set(me(l,V=>V.asset_class).keys()),P=new Set(me(o,V=>V.asset_class).keys()),O=Array.from(F.union(C).union(P));q.length=0,b.length=0,O.forEach(V=>q.add(new Option(V,V))),O.forEach(V=>b.add(new Option(V,V)))}function y(){let q=document.querySelector("#asset_class_selector").value,b=document.querySelector("#sector_selector").value,F=l.filter(V=>V.asset_class==q).filter(V=>V.ald_sector==b),C=o.filter(V=>V.asset_class==q).filter(V=>V.ald_sector==b),P=a.filter(V=>V.asset_class==q).filter(V=>V.ald_sector==b);return[F,C,P].some(V=>V.length!=0)}function p(){document.querySelector("#analysis-content").classList.add("hidden"),document.querySelector("#alert-message").classList.remove("hidden")}function A(){document.querySelector("#analysis-content").classList.remove("hidden"),document.querySelector("#alert-message").classList.add("hidden")}function x(){document.querySelector("#analysis-plots").classList.add("hidden"),document.querySelector("#alert-message-parameters").classList.remove("hidden")}function k(){document.querySelector("#analysis-plots").classList.remove("hidden"),document.querySelector("#alert-message-parameters").classList.add("hidden")}function S(){let q=document.querySelector("#scenario_source_selector").value,b=document.querySelector("#asset_class_selector").value,F=document.querySelector("#sector_selector").value,C=l.filter(M=>M.asset_class==b).filter(M=>M.ald_sector==F),P=new Set(me(C,M=>M.scenario_source).keys()),O=o.filter(M=>M.asset_class==b).filter(M=>M.ald_sector==F),V=new Set(me(O,M=>M.scenario_source).keys()),$=a.filter(M=>M.asset_class==b).filter(M=>M.ald_sector==F),H=new Set(me($,M=>M.scenario_source).keys()),K=Array.from(P.union(V).union(H));if(K.length!=0){k();const M=document.querySelector("#scenario_source_selector");M.length=0,K.forEach(R=>M.add(new Option(R,R))),M.options[Math.max(0,K.indexOf(q))].selected="selected"}else x()}function T(){let q=document.querySelector("#asset_class_selector").value,b=document.querySelector("#sector_selector").value,F=document.querySelector("#scenario_source_selector").value,C=document.querySelector("#scenario_selector").value,P=l.filter(R=>R.asset_class==q).filter(R=>R.ald_sector==b).filter(R=>R.scenario_source==F),O=new Set(me(P,R=>R.scenario).keys()),V=o.filter(R=>R.asset_class==q).filter(R=>R.ald_sector==b).filter(R=>R.scenario_source==F),$=new Set(me(V,R=>R.scenario).keys()),H=a.filter(R=>R.asset_class==q).filter(R=>R.ald_sector==b).filter(R=>R.scenario_source==F),K=new Set(me(H,R=>R.scenario).keys()),M=Array.from(O.union($).union(K));if(M.length!=0){k();const R=document.querySelector("#scenario_selector");R.length=0,M.forEach(W=>R.add(new Option(W,W))),R.options[Math.max(0,M.indexOf(C))].selected="selected"}else x()}function g(){let q=document.querySelector("#allocation_method_selector").value,b=document.querySelector("#asset_class_selector").value,F=document.querySelector("#sector_selector").value,C=l.filter(M=>M.asset_class==b).filter(M=>M.ald_sector==F),P=new Set(me(C,M=>M.allocation).keys()),O=o.filter(M=>M.asset_class==b).filter(M=>M.ald_sector==F),V=new Set(me(O,M=>M.allocation).keys()),$=a.filter(M=>M.asset_class==b).filter(M=>M.ald_sector==F),H=new Set(me($,M=>M.allocation).keys()),K=Array.from(P.union(V).union(H));if(K.length!=0){k();const M=document.querySelector("#allocation_method_selector");M.length=0,K.forEach(R=>M.add(new Option(v(R.replace("_"," ")),R))),M.options[Math.max(0,K.indexOf(q))].selected="selected"}else x()}function v(q){return String(q).charAt(0).toUpperCase()+String(q).slice(1)}function w(){const q=document.querySelector("#go_button_landing"),b=document.querySelector("#asset_class_selector"),F=document.querySelector("#sector_selector");q.addEventListener("click",function(){let V=document.querySelector("#asset_class_selector_landing").value,$=document.querySelector("#sector_selector_landing").value;b.value=V,F.value=$,document.querySelector("#content-landing-page").classList.toggle("hidden"),document.querySelector("#content-company-view").classList.toggle("hidden"),c(),y()?(A(),u(),f()):p()}),F.addEventListener("change",function(){c(),y()?(A(),S(),T(),u(),f()):p()}),b.addEventListener("change",function(){c(),y()?(A(),S(),T(),g(),u(),f()):p()}),document.querySelector("#scenario_source_selector").addEventListener("change",function(){T(),u(),f()}),document.querySelector("#scenario_selector").addEventListener("change",function(){u(),f()}),document.querySelector("#allocation_method_selector").addEventListener("change",function(){u(),f()})}h(),d(),S(),T(),g(),w(),c(),u(),f()}),[]}class Fp extends Vt{constructor(t){super(),zt(this,t,Hp,Op,Ut,{})}}function Bp(e){let t;return{c(){t=We("Introduction")},l(n){t=Ge(n,"Introduction")},m(n,r){Z(n,t,r)},d(n){n&&E(t)}}}function Up(e){let t;return{c(){t=We("Portfolio-level Overview")},l(n){t=Ge(n,"Portfolio-level Overview")},m(n,r){Z(n,t,r)},d(n){n&&E(t)}}}function Vp(e){let t;return{c(){t=We("Sector-level Analysis")},l(n){t=Ge(n,"Sector-level Analysis")},m(n,r){Z(n,t,r)},d(n){n&&E(t)}}}function zp(e){let t;return{c(){t=We("Company-level Analysis")},l(n){t=Ge(n,"Company-level Analysis")},m(n,r){Z(n,t,r)},d(n){n&&E(t)}}}function Yp(e){let t,n,r,a,i,o,s,l,c,u,f,h;function d(g){e[1](g)}let y={name:"pacta_intro",value:0,$$slots:{default:[Bp]},$$scope:{ctx:e}};e[0]!==void 0&&(y.group=e[0]),t=new wr({props:y}),Gn.push(()=>xr(t,"group",d));function p(g){e[2](g)}let A={name:"portfolio_view",value:1,$$slots:{default:[Up]},$$scope:{ctx:e}};e[0]!==void 0&&(A.group=e[0]),a=new wr({props:A}),Gn.push(()=>xr(a,"group",p));function x(g){e[3](g)}let k={name:"sector_view",value:2,$$slots:{default:[Vp]},$$scope:{ctx:e}};e[0]!==void 0&&(k.group=e[0]),s=new wr({props:k}),Gn.push(()=>xr(s,"group",x));function S(g){e[4](g)}let T={name:"company_view",value:3,$$slots:{default:[zp]},$$scope:{ctx:e}};return e[0]!==void 0&&(T.group=e[0]),u=new wr({props:T}),Gn.push(()=>xr(u,"group",S)),{c(){Ze(t.$$.fragment),r=se(),Ze(a.$$.fragment),o=se(),Ze(s.$$.fragment),c=se(),Ze(u.$$.fragment)},l(g){Ke(t.$$.fragment,g),r=le(g),Ke(a.$$.fragment,g),o=le(g),Ke(s.$$.fragment,g),c=le(g),Ke(u.$$.fragment,g)},m(g,v){Qe(t,g,v),Z(g,r,v),Qe(a,g,v),Z(g,o,v),Qe(s,g,v),Z(g,c,v),Qe(u,g,v),h=!0},p(g,v){const w={};v&32&&(w.$$scope={dirty:v,ctx:g}),!n&&v&1&&(n=!0,w.group=g[0],br(()=>n=!1)),t.$set(w);const q={};v&32&&(q.$$scope={dirty:v,ctx:g}),!i&&v&1&&(i=!0,q.group=g[0],br(()=>i=!1)),a.$set(q);const b={};v&32&&(b.$$scope={dirty:v,ctx:g}),!l&&v&1&&(l=!0,b.group=g[0],br(()=>l=!1)),s.$set(b);const F={};v&32&&(F.$$scope={dirty:v,ctx:g}),!f&&v&1&&(f=!0,F.group=g[0],br(()=>f=!1)),u.$set(F)},i(g){h||(ve(t.$$.fragment,g),ve(a.$$.fragment,g),ve(s.$$.fragment,g),ve(u.$$.fragment,g),h=!0)},o(g){be(t.$$.fragment,g),be(a.$$.fragment,g),be(s.$$.fragment,g),be(u.$$.fragment,g),h=!1},d(g){g&&(E(r),E(o),E(c)),Je(t,g),Je(a,g),Je(s,g),Je(u,g)}}}function Wp(e){let t,n="Tab not found";return{c(){t=N("p"),t.textContent=n},l(r){t=D(r,"P",{"data-svelte-h":!0}),ce(t)!=="svelte-1it2u72"&&(t.textContent=n)},m(r,a){Z(r,t,a)},i:ke,o:ke,d(r){r&&E(t)}}}function Gp(e){let t,n;return t=new Fp({}),{c(){Ze(t.$$.fragment)},l(r){Ke(t.$$.fragment,r)},m(r,a){Qe(t,r,a),n=!0},i(r){n||(ve(t.$$.fragment,r),n=!0)},o(r){be(t.$$.fragment,r),n=!1},d(r){Je(t,r)}}}function jp(e){let t,n;return t=new Np({}),{c(){Ze(t.$$.fragment)},l(r){Ke(t.$$.fragment,r)},m(r,a){Qe(t,r,a),n=!0},i(r){n||(ve(t.$$.fragment,r),n=!0)},o(r){be(t.$$.fragment,r),n=!1},d(r){Je(t,r)}}}function Xp(e){let t,n;return t=new Ap({}),{c(){Ze(t.$$.fragment)},l(r){Ke(t.$$.fragment,r)},m(r,a){Qe(t,r,a),n=!0},i(r){n||(ve(t.$$.fragment,r),n=!0)},o(r){be(t.$$.fragment,r),n=!1},d(r){Je(t,r)}}}function Zp(e){let t,n;return t=new vc({}),{c(){Ze(t.$$.fragment)},l(r){Ke(t.$$.fragment,r)},m(r,a){Qe(t,r,a),n=!0},i(r){n||(ve(t.$$.fragment,r),n=!0)},o(r){be(t.$$.fragment,r),n=!1},d(r){Je(t,r)}}}function Kp(e){let t,n,r,a;const i=[Zp,Xp,jp,Gp,Wp],o=[];function s(l,c){return l[0]===0?0:l[0]===1?1:l[0]===2?2:l[0]===3?3:4}return t=s(e),n=o[t]=i[t](e),{c(){n.c(),r=En()},l(l){n.l(l),r=En()},m(l,c){o[t].m(l,c),Z(l,r,c),a=!0},p(l,c){let u=t;t=s(l),t!==u&&(rn(),be(o[u],1,1,()=>{o[u]=null}),an(),n=o[t],n||(n=o[t]=i[t](l),n.c()),ve(n,1),n.m(r.parentNode,r))},i(l){a||(ve(n),a=!0)},o(l){be(n),a=!1},d(l){l&&E(r),o[t].d(l)}}}function Qp(e){let t,n;return t=new Gl({props:{$$slots:{panel:[Kp],default:[Yp]},$$scope:{ctx:e}}}),{c(){Ze(t.$$.fragment)},l(r){Ke(t.$$.fragment,r)},m(r,a){Qe(t,r,a),n=!0},p(r,[a]){const i={};a&33&&(i.$$scope={dirty:a,ctx:r}),t.$set(i)},i(r){n||(ve(t.$$.fragment,r),n=!0)},o(r){be(t.$$.fragment,r),n=!1},d(r){Je(t,r)}}}function Jp(e,t,n){let r=0;function a(l){r=l,n(0,r)}function i(l){r=l,n(0,r)}function o(l){r=l,n(0,r)}function s(l){r=l,n(0,r)}return[r,a,i,o,s]}class rg extends Vt{constructor(t){super(),zt(this,t,Jp,Qp,Ut,{})}}export{rg as component};
